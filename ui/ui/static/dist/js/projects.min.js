(()=>{var ln=Object.create,gi=Object.defineProperty,cn=Object.getPrototypeOf,dn=Object.prototype.hasOwnProperty,fn=Object.getOwnPropertyNames,hn=Object.getOwnPropertyDescriptor;var un=l=>gi(l,"__esModule",{value:!0});var rr=(l,b)=>()=>(b||(b={exports:{}},l(b.exports,b)),b.exports);var gn=(l,b,ke)=>{if(b&&typeof b=="object"||typeof b=="function")for(let Ce of fn(b))!dn.call(l,Ce)&&Ce!=="default"&&gi(l,Ce,{get:()=>b[Ce],enumerable:!(ke=hn(b,Ce))||ke.enumerable});return l},pi=l=>gn(un(gi(l!=null?ln(cn(l)):{},"default",l&&l.__esModule&&"default"in l?{get:()=>l.default,enumerable:!0}:{value:l,enumerable:!0})),l);var Ut=rr((nr,Kt)=>{(function(l,b){"use strict";typeof Kt=="object"&&typeof Kt.exports=="object"?Kt.exports=l.document?b(l,!0):function(ke){if(!ke.document)throw new Error("jQuery requires a window with a document");return b(ke)}:b(l)})(typeof window!="undefined"?window:nr,function(l,b){"use strict";var ke=[],Ce=Object.getPrototypeOf,Ne=ke.slice,Ge=ke.flat?function(i){return ke.flat.call(i)}:function(i){return ke.concat.apply([],i)},gt=ke.push,tt=ke.indexOf,te={},nt=te.toString,st=te.hasOwnProperty,pt=st.toString,Qe=pt.call(Object),ae={},ie=function(n){return typeof n=="function"&&typeof n.nodeType!="number"&&typeof n.item!="function"},Ke=function(n){return n!=null&&n===n.window},oe=l.document,e={type:!0,src:!0,nonce:!0,noModule:!0};function o(i,n,a){a=a||oe;var d,h,u=a.createElement("script");if(u.text=i,n)for(d in e)h=n[d]||n.getAttribute&&n.getAttribute(d),h&&u.setAttribute(d,h);a.head.appendChild(u).parentNode.removeChild(u)}function r(i){return i==null?i+"":typeof i=="object"||typeof i=="function"?te[nt.call(i)]||"object":typeof i}var s="3.6.0",t=function(i,n){return new t.fn.init(i,n)};t.fn=t.prototype={jquery:s,constructor:t,length:0,toArray:function(){return Ne.call(this)},get:function(i){return i==null?Ne.call(this):i<0?this[i+this.length]:this[i]},pushStack:function(i){var n=t.merge(this.constructor(),i);return n.prevObject=this,n},each:function(i){return t.each(this,i)},map:function(i){return this.pushStack(t.map(this,function(n,a){return i.call(n,a,n)}))},slice:function(){return this.pushStack(Ne.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(t.grep(this,function(i,n){return(n+1)%2}))},odd:function(){return this.pushStack(t.grep(this,function(i,n){return n%2}))},eq:function(i){var n=this.length,a=+i+(i<0?n:0);return this.pushStack(a>=0&&a<n?[this[a]]:[])},end:function(){return this.prevObject||this.constructor()},push:gt,sort:ke.sort,splice:ke.splice},t.extend=t.fn.extend=function(){var i,n,a,d,h,u,_=arguments[0]||{},w=1,C=arguments.length,A=!1;for(typeof _=="boolean"&&(A=_,_=arguments[w]||{},w++),typeof _!="object"&&!ie(_)&&(_={}),w===C&&(_=this,w--);w<C;w++)if((i=arguments[w])!=null)for(n in i)d=i[n],!(n==="__proto__"||_===d)&&(A&&d&&(t.isPlainObject(d)||(h=Array.isArray(d)))?(a=_[n],h&&!Array.isArray(a)?u=[]:!h&&!t.isPlainObject(a)?u={}:u=a,h=!1,_[n]=t.extend(A,u,d)):d!==void 0&&(_[n]=d));return _},t.extend({expando:"jQuery"+(s+Math.random()).replace(/\D/g,""),isReady:!0,error:function(i){throw new Error(i)},noop:function(){},isPlainObject:function(i){var n,a;return!i||nt.call(i)!=="[object Object]"?!1:(n=Ce(i),n?(a=st.call(n,"constructor")&&n.constructor,typeof a=="function"&&pt.call(a)===Qe):!0)},isEmptyObject:function(i){var n;for(n in i)return!1;return!0},globalEval:function(i,n,a){o(i,{nonce:n&&n.nonce},a)},each:function(i,n){var a,d=0;if(c(i))for(a=i.length;d<a&&n.call(i[d],d,i[d])!==!1;d++);else for(d in i)if(n.call(i[d],d,i[d])===!1)break;return i},makeArray:function(i,n){var a=n||[];return i!=null&&(c(Object(i))?t.merge(a,typeof i=="string"?[i]:i):gt.call(a,i)),a},inArray:function(i,n,a){return n==null?-1:tt.call(n,i,a)},merge:function(i,n){for(var a=+n.length,d=0,h=i.length;d<a;d++)i[h++]=n[d];return i.length=h,i},grep:function(i,n,a){for(var d,h=[],u=0,_=i.length,w=!a;u<_;u++)d=!n(i[u],u),d!==w&&h.push(i[u]);return h},map:function(i,n,a){var d,h,u=0,_=[];if(c(i))for(d=i.length;u<d;u++)h=n(i[u],u,a),h!=null&&_.push(h);else for(u in i)h=n(i[u],u,a),h!=null&&_.push(h);return Ge(_)},guid:1,support:ae}),typeof Symbol=="function"&&(t.fn[Symbol.iterator]=ke[Symbol.iterator]),t.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(i,n){te["[object "+n+"]"]=n.toLowerCase()});function c(i){var n=!!i&&"length"in i&&i.length,a=r(i);return ie(i)||Ke(i)?!1:a==="array"||n===0||typeof n=="number"&&n>0&&n-1 in i}var f=function(i){var n,a,d,h,u,_,w,C,A,L,M,j,q,Y,se,V,Ee,Te,be,he="sizzle"+1*new Date,ne=i.document,Me=0,de=0,ye=bt(),Et=bt(),Mt=bt(),Be=bt(),ct=function(v,x){return v===x&&(M=!0),0},dt={}.hasOwnProperty,Ie=[],it=Ie.pop,Xe=Ie.push,rt=Ie.push,Vi=Ie.slice,ft=function(v,x){for(var T=0,H=v.length;T<H;T++)if(v[T]===x)return T;return-1},ai="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",fe="[\\x20\\t\\r\\n\\f]",ht="(?:\\\\[\\da-fA-F]{1,6}"+fe+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",Ji="\\["+fe+"*("+ht+")(?:"+fe+"*([*^$|!~]?=)"+fe+`*(?:'((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)"|(`+ht+"))|)"+fe+"*\\]",oi=":("+ht+`)(?:\\((('((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)")|((?:\\\\.|[^\\\\()[\\]]|`+Ji+")*)|.*)\\)|)",Yr=new RegExp(fe+"+","g"),It=new RegExp("^"+fe+"+|((?:^|[^\\\\])(?:\\\\.)*)"+fe+"+$","g"),Vr=new RegExp("^"+fe+"*,"+fe+"*"),Qi=new RegExp("^"+fe+"*([>+~]|"+fe+")"+fe+"*"),Jr=new RegExp(fe+"|>"),Qr=new RegExp(oi),Gr=new RegExp("^"+ht+"$"),Rt={ID:new RegExp("^#("+ht+")"),CLASS:new RegExp("^\\.("+ht+")"),TAG:new RegExp("^("+ht+"|[*])"),ATTR:new RegExp("^"+Ji),PSEUDO:new RegExp("^"+oi),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+fe+"*(even|odd|(([+-]|)(\\d*)n|)"+fe+"*(?:([+-]|)"+fe+"*(\\d+)|))"+fe+"*\\)|)","i"),bool:new RegExp("^(?:"+ai+")$","i"),needsContext:new RegExp("^"+fe+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+fe+"*((?:-\\d)?\\d*)"+fe+"*\\)|)(?=[^-]|$)","i")},Zr=/HTML$/i,$r=/^(?:input|select|textarea|button)$/i,en=/^h\d$/i,Ot=/^[^{]+\{\s*\[native \w/,tn=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,li=/[+~]/,$e=new RegExp("\\\\[\\da-fA-F]{1,6}"+fe+"?|\\\\([^\\r\\n\\f])","g"),et=function(v,x){var T="0x"+v.slice(1)-65536;return x||(T<0?String.fromCharCode(T+65536):String.fromCharCode(T>>10|55296,T&1023|56320))},Gi=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,Zi=function(v,x){return x?v==="\0"?"\uFFFD":v.slice(0,-1)+"\\"+v.charCodeAt(v.length-1).toString(16)+" ":"\\"+v},$i=function(){j()},rn=Wt(function(v){return v.disabled===!0&&v.nodeName.toLowerCase()==="fieldset"},{dir:"parentNode",next:"legend"});try{rt.apply(Ie=Vi.call(ne.childNodes),ne.childNodes),Ie[ne.childNodes.length].nodeType}catch(v){rt={apply:Ie.length?function(x,T){Xe.apply(x,Vi.call(T))}:function(x,T){for(var H=x.length,S=0;x[H++]=T[S++];);x.length=H-1}}}function ue(v,x,T,H){var S,F,I,B,W,G,Q,$=x&&x.ownerDocument,ce=x?x.nodeType:9;if(T=T||[],typeof v!="string"||!v||ce!==1&&ce!==9&&ce!==11)return T;if(!H&&(j(x),x=x||q,se)){if(ce!==11&&(W=tn.exec(v)))if(S=W[1]){if(ce===9)if(I=x.getElementById(S)){if(I.id===S)return T.push(I),T}else return T;else if($&&(I=$.getElementById(S))&&be(x,I)&&I.id===S)return T.push(I),T}else{if(W[2])return rt.apply(T,x.getElementsByTagName(v)),T;if((S=W[3])&&a.getElementsByClassName&&x.getElementsByClassName)return rt.apply(T,x.getElementsByClassName(S)),T}if(a.qsa&&!Be[v+" "]&&(!V||!V.test(v))&&(ce!==1||x.nodeName.toLowerCase()!=="object")){if(Q=v,$=x,ce===1&&(Jr.test(v)||Qi.test(v))){for($=li.test(v)&&di(x.parentNode)||x,($!==x||!a.scope)&&((B=x.getAttribute("id"))?B=B.replace(Gi,Zi):x.setAttribute("id",B=he)),G=_(v),F=G.length;F--;)G[F]=(B?"#"+B:":scope")+" "+Bt(G[F]);Q=G.join(",")}try{return rt.apply(T,$.querySelectorAll(Q)),T}catch(ge){Be(v,!0)}finally{B===he&&x.removeAttribute("id")}}}return C(v.replace(It,"$1"),x,T,H)}function bt(){var v=[];function x(T,H){return v.push(T+" ")>d.cacheLength&&delete x[v.shift()],x[T+" "]=H}return x}function Ve(v){return v[he]=!0,v}function Je(v){var x=q.createElement("fieldset");try{return!!v(x)}catch(T){return!1}finally{x.parentNode&&x.parentNode.removeChild(x),x=null}}function ci(v,x){for(var T=v.split("|"),H=T.length;H--;)d.attrHandle[T[H]]=x}function er(v,x){var T=x&&v,H=T&&v.nodeType===1&&x.nodeType===1&&v.sourceIndex-x.sourceIndex;if(H)return H;if(T){for(;T=T.nextSibling;)if(T===x)return-1}return v?1:-1}function nn(v){return function(x){var T=x.nodeName.toLowerCase();return T==="input"&&x.type===v}}function sn(v){return function(x){var T=x.nodeName.toLowerCase();return(T==="input"||T==="button")&&x.type===v}}function tr(v){return function(x){return"form"in x?x.parentNode&&x.disabled===!1?"label"in x?"label"in x.parentNode?x.parentNode.disabled===v:x.disabled===v:x.isDisabled===v||x.isDisabled!==!v&&rn(x)===v:x.disabled===v:"label"in x?x.disabled===v:!1}}function ut(v){return Ve(function(x){return x=+x,Ve(function(T,H){for(var S,F=v([],T.length,x),I=F.length;I--;)T[S=F[I]]&&(T[S]=!(H[S]=T[S]))})})}function di(v){return v&&typeof v.getElementsByTagName!="undefined"&&v}a=ue.support={},u=ue.isXML=function(v){var x=v&&v.namespaceURI,T=v&&(v.ownerDocument||v).documentElement;return!Zr.test(x||T&&T.nodeName||"HTML")},j=ue.setDocument=function(v){var x,T,H=v?v.ownerDocument||v:ne;return H==q||H.nodeType!==9||!H.documentElement||(q=H,Y=q.documentElement,se=!u(q),ne!=q&&(T=q.defaultView)&&T.top!==T&&(T.addEventListener?T.addEventListener("unload",$i,!1):T.attachEvent&&T.attachEvent("onunload",$i)),a.scope=Je(function(S){return Y.appendChild(S).appendChild(q.createElement("div")),typeof S.querySelectorAll!="undefined"&&!S.querySelectorAll(":scope fieldset div").length}),a.attributes=Je(function(S){return S.className="i",!S.getAttribute("className")}),a.getElementsByTagName=Je(function(S){return S.appendChild(q.createComment("")),!S.getElementsByTagName("*").length}),a.getElementsByClassName=Ot.test(q.getElementsByClassName),a.getById=Je(function(S){return Y.appendChild(S).id=he,!q.getElementsByName||!q.getElementsByName(he).length}),a.getById?(d.filter.ID=function(S){var F=S.replace($e,et);return function(I){return I.getAttribute("id")===F}},d.find.ID=function(S,F){if(typeof F.getElementById!="undefined"&&se){var I=F.getElementById(S);return I?[I]:[]}}):(d.filter.ID=function(S){var F=S.replace($e,et);return function(I){var B=typeof I.getAttributeNode!="undefined"&&I.getAttributeNode("id");return B&&B.value===F}},d.find.ID=function(S,F){if(typeof F.getElementById!="undefined"&&se){var I,B,W,G=F.getElementById(S);if(G){if(I=G.getAttributeNode("id"),I&&I.value===S)return[G];for(W=F.getElementsByName(S),B=0;G=W[B++];)if(I=G.getAttributeNode("id"),I&&I.value===S)return[G]}return[]}}),d.find.TAG=a.getElementsByTagName?function(S,F){if(typeof F.getElementsByTagName!="undefined")return F.getElementsByTagName(S);if(a.qsa)return F.querySelectorAll(S)}:function(S,F){var I,B=[],W=0,G=F.getElementsByTagName(S);if(S==="*"){for(;I=G[W++];)I.nodeType===1&&B.push(I);return B}return G},d.find.CLASS=a.getElementsByClassName&&function(S,F){if(typeof F.getElementsByClassName!="undefined"&&se)return F.getElementsByClassName(S)},Ee=[],V=[],(a.qsa=Ot.test(q.querySelectorAll))&&(Je(function(S){var F;Y.appendChild(S).innerHTML="<a id='"+he+"'></a><select id='"+he+"-\r\\' msallowcapture=''><option selected=''></option></select>",S.querySelectorAll("[msallowcapture^='']").length&&V.push("[*^$]="+fe+`*(?:''|"")`),S.querySelectorAll("[selected]").length||V.push("\\["+fe+"*(?:value|"+ai+")"),S.querySelectorAll("[id~="+he+"-]").length||V.push("~="),F=q.createElement("input"),F.setAttribute("name",""),S.appendChild(F),S.querySelectorAll("[name='']").length||V.push("\\["+fe+"*name"+fe+"*="+fe+`*(?:''|"")`),S.querySelectorAll(":checked").length||V.push(":checked"),S.querySelectorAll("a#"+he+"+*").length||V.push(".#.+[+~]"),S.querySelectorAll("\\\f"),V.push("[\\r\\n\\f]")}),Je(function(S){S.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var F=q.createElement("input");F.setAttribute("type","hidden"),S.appendChild(F).setAttribute("name","D"),S.querySelectorAll("[name=d]").length&&V.push("name"+fe+"*[*^$|!~]?="),S.querySelectorAll(":enabled").length!==2&&V.push(":enabled",":disabled"),Y.appendChild(S).disabled=!0,S.querySelectorAll(":disabled").length!==2&&V.push(":enabled",":disabled"),S.querySelectorAll("*,:x"),V.push(",.*:")})),(a.matchesSelector=Ot.test(Te=Y.matches||Y.webkitMatchesSelector||Y.mozMatchesSelector||Y.oMatchesSelector||Y.msMatchesSelector))&&Je(function(S){a.disconnectedMatch=Te.call(S,"*"),Te.call(S,"[s!='']:x"),Ee.push("!=",oi)}),V=V.length&&new RegExp(V.join("|")),Ee=Ee.length&&new RegExp(Ee.join("|")),x=Ot.test(Y.compareDocumentPosition),be=x||Ot.test(Y.contains)?function(S,F){var I=S.nodeType===9?S.documentElement:S,B=F&&F.parentNode;return S===B||!!(B&&B.nodeType===1&&(I.contains?I.contains(B):S.compareDocumentPosition&&S.compareDocumentPosition(B)&16))}:function(S,F){if(F){for(;F=F.parentNode;)if(F===S)return!0}return!1},ct=x?function(S,F){if(S===F)return M=!0,0;var I=!S.compareDocumentPosition-!F.compareDocumentPosition;return I||(I=(S.ownerDocument||S)==(F.ownerDocument||F)?S.compareDocumentPosition(F):1,I&1||!a.sortDetached&&F.compareDocumentPosition(S)===I?S==q||S.ownerDocument==ne&&be(ne,S)?-1:F==q||F.ownerDocument==ne&&be(ne,F)?1:L?ft(L,S)-ft(L,F):0:I&4?-1:1)}:function(S,F){if(S===F)return M=!0,0;var I,B=0,W=S.parentNode,G=F.parentNode,Q=[S],$=[F];if(!W||!G)return S==q?-1:F==q?1:W?-1:G?1:L?ft(L,S)-ft(L,F):0;if(W===G)return er(S,F);for(I=S;I=I.parentNode;)Q.unshift(I);for(I=F;I=I.parentNode;)$.unshift(I);for(;Q[B]===$[B];)B++;return B?er(Q[B],$[B]):Q[B]==ne?-1:$[B]==ne?1:0}),q},ue.matches=function(v,x){return ue(v,null,null,x)},ue.matchesSelector=function(v,x){if(j(v),a.matchesSelector&&se&&!Be[x+" "]&&(!Ee||!Ee.test(x))&&(!V||!V.test(x)))try{var T=Te.call(v,x);if(T||a.disconnectedMatch||v.document&&v.document.nodeType!==11)return T}catch(H){Be(x,!0)}return ue(x,q,null,[v]).length>0},ue.contains=function(v,x){return(v.ownerDocument||v)!=q&&j(v),be(v,x)},ue.attr=function(v,x){(v.ownerDocument||v)!=q&&j(v);var T=d.attrHandle[x.toLowerCase()],H=T&&dt.call(d.attrHandle,x.toLowerCase())?T(v,x,!se):void 0;return H!==void 0?H:a.attributes||!se?v.getAttribute(x):(H=v.getAttributeNode(x))&&H.specified?H.value:null},ue.escape=function(v){return(v+"").replace(Gi,Zi)},ue.error=function(v){throw new Error("Syntax error, unrecognized expression: "+v)},ue.uniqueSort=function(v){var x,T=[],H=0,S=0;if(M=!a.detectDuplicates,L=!a.sortStable&&v.slice(0),v.sort(ct),M){for(;x=v[S++];)x===v[S]&&(H=T.push(S));for(;H--;)v.splice(T[H],1)}return L=null,v},h=ue.getText=function(v){var x,T="",H=0,S=v.nodeType;if(S){if(S===1||S===9||S===11){if(typeof v.textContent=="string")return v.textContent;for(v=v.firstChild;v;v=v.nextSibling)T+=h(v)}else if(S===3||S===4)return v.nodeValue}else for(;x=v[H++];)T+=h(x);return T},d=ue.selectors={cacheLength:50,createPseudo:Ve,match:Rt,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(v){return v[1]=v[1].replace($e,et),v[3]=(v[3]||v[4]||v[5]||"").replace($e,et),v[2]==="~="&&(v[3]=" "+v[3]+" "),v.slice(0,4)},CHILD:function(v){return v[1]=v[1].toLowerCase(),v[1].slice(0,3)==="nth"?(v[3]||ue.error(v[0]),v[4]=+(v[4]?v[5]+(v[6]||1):2*(v[3]==="even"||v[3]==="odd")),v[5]=+(v[7]+v[8]||v[3]==="odd")):v[3]&&ue.error(v[0]),v},PSEUDO:function(v){var x,T=!v[6]&&v[2];return Rt.CHILD.test(v[0])?null:(v[3]?v[2]=v[4]||v[5]||"":T&&Qr.test(T)&&(x=_(T,!0))&&(x=T.indexOf(")",T.length-x)-T.length)&&(v[0]=v[0].slice(0,x),v[2]=T.slice(0,x)),v.slice(0,3))}},filter:{TAG:function(v){var x=v.replace($e,et).toLowerCase();return v==="*"?function(){return!0}:function(T){return T.nodeName&&T.nodeName.toLowerCase()===x}},CLASS:function(v){var x=ye[v+" "];return x||(x=new RegExp("(^|"+fe+")"+v+"("+fe+"|$)"))&&ye(v,function(T){return x.test(typeof T.className=="string"&&T.className||typeof T.getAttribute!="undefined"&&T.getAttribute("class")||"")})},ATTR:function(v,x,T){return function(H){var S=ue.attr(H,v);return S==null?x==="!=":x?(S+="",x==="="?S===T:x==="!="?S!==T:x==="^="?T&&S.indexOf(T)===0:x==="*="?T&&S.indexOf(T)>-1:x==="$="?T&&S.slice(-T.length)===T:x==="~="?(" "+S.replace(Yr," ")+" ").indexOf(T)>-1:x==="|="?S===T||S.slice(0,T.length+1)===T+"-":!1):!0}},CHILD:function(v,x,T,H,S){var F=v.slice(0,3)!=="nth",I=v.slice(-4)!=="last",B=x==="of-type";return H===1&&S===0?function(W){return!!W.parentNode}:function(W,G,Q){var $,ce,ge,Z,Oe,Pe,We=F!==I?"nextSibling":"previousSibling",_e=W.parentNode,jt=B&&W.nodeName.toLowerCase(),Dt=!Q&&!B,ze=!1;if(_e){if(F){for(;We;){for(Z=W;Z=Z[We];)if(B?Z.nodeName.toLowerCase()===jt:Z.nodeType===1)return!1;Pe=We=v==="only"&&!Pe&&"nextSibling"}return!0}if(Pe=[I?_e.firstChild:_e.lastChild],I&&Dt){for(Z=_e,ge=Z[he]||(Z[he]={}),ce=ge[Z.uniqueID]||(ge[Z.uniqueID]={}),$=ce[v]||[],Oe=$[0]===Me&&$[1],ze=Oe&&$[2],Z=Oe&&_e.childNodes[Oe];Z=++Oe&&Z&&Z[We]||(ze=Oe=0)||Pe.pop();)if(Z.nodeType===1&&++ze&&Z===W){ce[v]=[Me,Oe,ze];break}}else if(Dt&&(Z=W,ge=Z[he]||(Z[he]={}),ce=ge[Z.uniqueID]||(ge[Z.uniqueID]={}),$=ce[v]||[],Oe=$[0]===Me&&$[1],ze=Oe),ze===!1)for(;(Z=++Oe&&Z&&Z[We]||(ze=Oe=0)||Pe.pop())&&!((B?Z.nodeName.toLowerCase()===jt:Z.nodeType===1)&&++ze&&(Dt&&(ge=Z[he]||(Z[he]={}),ce=ge[Z.uniqueID]||(ge[Z.uniqueID]={}),ce[v]=[Me,ze]),Z===W)););return ze-=S,ze===H||ze%H==0&&ze/H>=0}}},PSEUDO:function(v,x){var T,H=d.pseudos[v]||d.setFilters[v.toLowerCase()]||ue.error("unsupported pseudo: "+v);return H[he]?H(x):H.length>1?(T=[v,v,"",x],d.setFilters.hasOwnProperty(v.toLowerCase())?Ve(function(S,F){for(var I,B=H(S,x),W=B.length;W--;)I=ft(S,B[W]),S[I]=!(F[I]=B[W])}):function(S){return H(S,0,T)}):H}},pseudos:{not:Ve(function(v){var x=[],T=[],H=w(v.replace(It,"$1"));return H[he]?Ve(function(S,F,I,B){for(var W,G=H(S,null,B,[]),Q=S.length;Q--;)(W=G[Q])&&(S[Q]=!(F[Q]=W))}):function(S,F,I){return x[0]=S,H(x,null,I,T),x[0]=null,!T.pop()}}),has:Ve(function(v){return function(x){return ue(v,x).length>0}}),contains:Ve(function(v){return v=v.replace($e,et),function(x){return(x.textContent||h(x)).indexOf(v)>-1}}),lang:Ve(function(v){return Gr.test(v||"")||ue.error("unsupported lang: "+v),v=v.replace($e,et).toLowerCase(),function(x){var T;do if(T=se?x.lang:x.getAttribute("xml:lang")||x.getAttribute("lang"))return T=T.toLowerCase(),T===v||T.indexOf(v+"-")===0;while((x=x.parentNode)&&x.nodeType===1);return!1}}),target:function(v){var x=i.location&&i.location.hash;return x&&x.slice(1)===v.id},root:function(v){return v===Y},focus:function(v){return v===q.activeElement&&(!q.hasFocus||q.hasFocus())&&!!(v.type||v.href||~v.tabIndex)},enabled:tr(!1),disabled:tr(!0),checked:function(v){var x=v.nodeName.toLowerCase();return x==="input"&&!!v.checked||x==="option"&&!!v.selected},selected:function(v){return v.parentNode&&v.parentNode.selectedIndex,v.selected===!0},empty:function(v){for(v=v.firstChild;v;v=v.nextSibling)if(v.nodeType<6)return!1;return!0},parent:function(v){return!d.pseudos.empty(v)},header:function(v){return en.test(v.nodeName)},input:function(v){return $r.test(v.nodeName)},button:function(v){var x=v.nodeName.toLowerCase();return x==="input"&&v.type==="button"||x==="button"},text:function(v){var x;return v.nodeName.toLowerCase()==="input"&&v.type==="text"&&((x=v.getAttribute("type"))==null||x.toLowerCase()==="text")},first:ut(function(){return[0]}),last:ut(function(v,x){return[x-1]}),eq:ut(function(v,x,T){return[T<0?T+x:T]}),even:ut(function(v,x){for(var T=0;T<x;T+=2)v.push(T);return v}),odd:ut(function(v,x){for(var T=1;T<x;T+=2)v.push(T);return v}),lt:ut(function(v,x,T){for(var H=T<0?T+x:T>x?x:T;--H>=0;)v.push(H);return v}),gt:ut(function(v,x,T){for(var H=T<0?T+x:T;++H<x;)v.push(H);return v})}},d.pseudos.nth=d.pseudos.eq;for(n in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})d.pseudos[n]=nn(n);for(n in{submit:!0,reset:!0})d.pseudos[n]=sn(n);function ir(){}ir.prototype=d.filters=d.pseudos,d.setFilters=new ir,_=ue.tokenize=function(v,x){var T,H,S,F,I,B,W,G=Et[v+" "];if(G)return x?0:G.slice(0);for(I=v,B=[],W=d.preFilter;I;){(!T||(H=Vr.exec(I)))&&(H&&(I=I.slice(H[0].length)||I),B.push(S=[])),T=!1,(H=Qi.exec(I))&&(T=H.shift(),S.push({value:T,type:H[0].replace(It," ")}),I=I.slice(T.length));for(F in d.filter)(H=Rt[F].exec(I))&&(!W[F]||(H=W[F](H)))&&(T=H.shift(),S.push({value:T,type:F,matches:H}),I=I.slice(T.length));if(!T)break}return x?I.length:I?ue.error(v):Et(v,B).slice(0)};function Bt(v){for(var x=0,T=v.length,H="";x<T;x++)H+=v[x].value;return H}function Wt(v,x,T){var H=x.dir,S=x.next,F=S||H,I=T&&F==="parentNode",B=de++;return x.first?function(W,G,Q){for(;W=W[H];)if(W.nodeType===1||I)return v(W,G,Q);return!1}:function(W,G,Q){var $,ce,ge,Z=[Me,B];if(Q){for(;W=W[H];)if((W.nodeType===1||I)&&v(W,G,Q))return!0}else for(;W=W[H];)if(W.nodeType===1||I)if(ge=W[he]||(W[he]={}),ce=ge[W.uniqueID]||(ge[W.uniqueID]={}),S&&S===W.nodeName.toLowerCase())W=W[H]||W;else{if(($=ce[F])&&$[0]===Me&&$[1]===B)return Z[2]=$[2];if(ce[F]=Z,Z[2]=v(W,G,Q))return!0}return!1}}function fi(v){return v.length>1?function(x,T,H){for(var S=v.length;S--;)if(!v[S](x,T,H))return!1;return!0}:v[0]}function an(v,x,T){for(var H=0,S=x.length;H<S;H++)ue(v,x[H],T);return T}function zt(v,x,T,H,S){for(var F,I=[],B=0,W=v.length,G=x!=null;B<W;B++)(F=v[B])&&(!T||T(F,H,S))&&(I.push(F),G&&x.push(B));return I}function hi(v,x,T,H,S,F){return H&&!H[he]&&(H=hi(H)),S&&!S[he]&&(S=hi(S,F)),Ve(function(I,B,W,G){var Q,$,ce,ge=[],Z=[],Oe=B.length,Pe=I||an(x||"*",W.nodeType?[W]:W,[]),We=v&&(I||!x)?zt(Pe,ge,v,W,G):Pe,_e=T?S||(I?v:Oe||H)?[]:B:We;if(T&&T(We,_e,W,G),H)for(Q=zt(_e,Z),H(Q,[],W,G),$=Q.length;$--;)(ce=Q[$])&&(_e[Z[$]]=!(We[Z[$]]=ce));if(I){if(S||v){if(S){for(Q=[],$=_e.length;$--;)(ce=_e[$])&&Q.push(We[$]=ce);S(null,_e=[],Q,G)}for($=_e.length;$--;)(ce=_e[$])&&(Q=S?ft(I,ce):ge[$])>-1&&(I[Q]=!(B[Q]=ce))}}else _e=zt(_e===B?_e.splice(Oe,_e.length):_e),S?S(null,B,_e,G):rt.apply(B,_e)})}function ui(v){for(var x,T,H,S=v.length,F=d.relative[v[0].type],I=F||d.relative[" "],B=F?1:0,W=Wt(function($){return $===x},I,!0),G=Wt(function($){return ft(x,$)>-1},I,!0),Q=[function($,ce,ge){var Z=!F&&(ge||ce!==A)||((x=ce).nodeType?W($,ce,ge):G($,ce,ge));return x=null,Z}];B<S;B++)if(T=d.relative[v[B].type])Q=[Wt(fi(Q),T)];else{if(T=d.filter[v[B].type].apply(null,v[B].matches),T[he]){for(H=++B;H<S&&!d.relative[v[H].type];H++);return hi(B>1&&fi(Q),B>1&&Bt(v.slice(0,B-1).concat({value:v[B-2].type===" "?"*":""})).replace(It,"$1"),T,B<H&&ui(v.slice(B,H)),H<S&&ui(v=v.slice(H)),H<S&&Bt(v))}Q.push(T)}return fi(Q)}function on(v,x){var T=x.length>0,H=v.length>0,S=function(F,I,B,W,G){var Q,$,ce,ge=0,Z="0",Oe=F&&[],Pe=[],We=A,_e=F||H&&d.find.TAG("*",G),jt=Me+=We==null?1:Math.random()||.1,Dt=_e.length;for(G&&(A=I==q||I||G);Z!==Dt&&(Q=_e[Z])!=null;Z++){if(H&&Q){for($=0,!I&&Q.ownerDocument!=q&&(j(Q),B=!se);ce=v[$++];)if(ce(Q,I||q,B)){W.push(Q);break}G&&(Me=jt)}T&&((Q=!ce&&Q)&&ge--,F&&Oe.push(Q))}if(ge+=Z,T&&Z!==ge){for($=0;ce=x[$++];)ce(Oe,Pe,I,B);if(F){if(ge>0)for(;Z--;)Oe[Z]||Pe[Z]||(Pe[Z]=it.call(W));Pe=zt(Pe)}rt.apply(W,Pe),G&&!F&&Pe.length>0&&ge+x.length>1&&ue.uniqueSort(W)}return G&&(Me=jt,A=We),Oe};return T?Ve(S):S}return w=ue.compile=function(v,x){var T,H=[],S=[],F=Mt[v+" "];if(!F){for(x||(x=_(v)),T=x.length;T--;)F=ui(x[T]),F[he]?H.push(F):S.push(F);F=Mt(v,on(S,H)),F.selector=v}return F},C=ue.select=function(v,x,T,H){var S,F,I,B,W,G=typeof v=="function"&&v,Q=!H&&_(v=G.selector||v);if(T=T||[],Q.length===1){if(F=Q[0]=Q[0].slice(0),F.length>2&&(I=F[0]).type==="ID"&&x.nodeType===9&&se&&d.relative[F[1].type]){if(x=(d.find.ID(I.matches[0].replace($e,et),x)||[])[0],x)G&&(x=x.parentNode);else return T;v=v.slice(F.shift().value.length)}for(S=Rt.needsContext.test(v)?0:F.length;S--&&(I=F[S],!d.relative[B=I.type]);)if((W=d.find[B])&&(H=W(I.matches[0].replace($e,et),li.test(F[0].type)&&di(x.parentNode)||x))){if(F.splice(S,1),v=H.length&&Bt(F),!v)return rt.apply(T,H),T;break}}return(G||w(v,Q))(H,x,!se,T,!x||li.test(v)&&di(x.parentNode)||x),T},a.sortStable=he.split("").sort(ct).join("")===he,a.detectDuplicates=!!M,j(),a.sortDetached=Je(function(v){return v.compareDocumentPosition(q.createElement("fieldset"))&1}),Je(function(v){return v.innerHTML="<a href='#'></a>",v.firstChild.getAttribute("href")==="#"})||ci("type|href|height|width",function(v,x,T){if(!T)return v.getAttribute(x,x.toLowerCase()==="type"?1:2)}),(!a.attributes||!Je(function(v){return v.innerHTML="<input/>",v.firstChild.setAttribute("value",""),v.firstChild.getAttribute("value")===""}))&&ci("value",function(v,x,T){if(!T&&v.nodeName.toLowerCase()==="input")return v.defaultValue}),Je(function(v){return v.getAttribute("disabled")==null})||ci(ai,function(v,x,T){var H;if(!T)return v[x]===!0?x.toLowerCase():(H=v.getAttributeNode(x))&&H.specified?H.value:null}),ue}(l);t.find=f,t.expr=f.selectors,t.expr[":"]=t.expr.pseudos,t.uniqueSort=t.unique=f.uniqueSort,t.text=f.getText,t.isXMLDoc=f.isXML,t.contains=f.contains,t.escapeSelector=f.escape;var p=function(i,n,a){for(var d=[],h=a!==void 0;(i=i[n])&&i.nodeType!==9;)if(i.nodeType===1){if(h&&t(i).is(a))break;d.push(i)}return d},g=function(i,n){for(var a=[];i;i=i.nextSibling)i.nodeType===1&&i!==n&&a.push(i);return a},m=t.expr.match.needsContext;function y(i,n){return i.nodeName&&i.nodeName.toLowerCase()===n.toLowerCase()}var k=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function N(i,n,a){return ie(n)?t.grep(i,function(d,h){return!!n.call(d,h,d)!==a}):n.nodeType?t.grep(i,function(d){return d===n!==a}):typeof n!="string"?t.grep(i,function(d){return tt.call(n,d)>-1!==a}):t.filter(n,i,a)}t.filter=function(i,n,a){var d=n[0];return a&&(i=":not("+i+")"),n.length===1&&d.nodeType===1?t.find.matchesSelector(d,i)?[d]:[]:t.find.matches(i,t.grep(n,function(h){return h.nodeType===1}))},t.fn.extend({find:function(i){var n,a,d=this.length,h=this;if(typeof i!="string")return this.pushStack(t(i).filter(function(){for(n=0;n<d;n++)if(t.contains(h[n],this))return!0}));for(a=this.pushStack([]),n=0;n<d;n++)t.find(i,h[n],a);return d>1?t.uniqueSort(a):a},filter:function(i){return this.pushStack(N(this,i||[],!1))},not:function(i){return this.pushStack(N(this,i||[],!0))},is:function(i){return!!N(this,typeof i=="string"&&m.test(i)?t(i):i||[],!1).length}});var E,D=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,P=t.fn.init=function(i,n,a){var d,h;if(!i)return this;if(a=a||E,typeof i=="string")if(i[0]==="<"&&i[i.length-1]===">"&&i.length>=3?d=[null,i,null]:d=D.exec(i),d&&(d[1]||!n))if(d[1]){if(n=n instanceof t?n[0]:n,t.merge(this,t.parseHTML(d[1],n&&n.nodeType?n.ownerDocument||n:oe,!0)),k.test(d[1])&&t.isPlainObject(n))for(d in n)ie(this[d])?this[d](n[d]):this.attr(d,n[d]);return this}else return h=oe.getElementById(d[2]),h&&(this[0]=h,this.length=1),this;else return!n||n.jquery?(n||a).find(i):this.constructor(n).find(i);else{if(i.nodeType)return this[0]=i,this.length=1,this;if(ie(i))return a.ready!==void 0?a.ready(i):i(t)}return t.makeArray(i,this)};P.prototype=t.fn,E=t(oe);var O=/^(?:parents|prev(?:Until|All))/,J={children:!0,contents:!0,next:!0,prev:!0};t.fn.extend({has:function(i){var n=t(i,this),a=n.length;return this.filter(function(){for(var d=0;d<a;d++)if(t.contains(this,n[d]))return!0})},closest:function(i,n){var a,d=0,h=this.length,u=[],_=typeof i!="string"&&t(i);if(!m.test(i)){for(;d<h;d++)for(a=this[d];a&&a!==n;a=a.parentNode)if(a.nodeType<11&&(_?_.index(a)>-1:a.nodeType===1&&t.find.matchesSelector(a,i))){u.push(a);break}}return this.pushStack(u.length>1?t.uniqueSort(u):u)},index:function(i){return i?typeof i=="string"?tt.call(t(i),this[0]):tt.call(this,i.jquery?i[0]:i):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(i,n){return this.pushStack(t.uniqueSort(t.merge(this.get(),t(i,n))))},addBack:function(i){return this.add(i==null?this.prevObject:this.prevObject.filter(i))}});function le(i,n){for(;(i=i[n])&&i.nodeType!==1;);return i}t.each({parent:function(i){var n=i.parentNode;return n&&n.nodeType!==11?n:null},parents:function(i){return p(i,"parentNode")},parentsUntil:function(i,n,a){return p(i,"parentNode",a)},next:function(i){return le(i,"nextSibling")},prev:function(i){return le(i,"previousSibling")},nextAll:function(i){return p(i,"nextSibling")},prevAll:function(i){return p(i,"previousSibling")},nextUntil:function(i,n,a){return p(i,"nextSibling",a)},prevUntil:function(i,n,a){return p(i,"previousSibling",a)},siblings:function(i){return g((i.parentNode||{}).firstChild,i)},children:function(i){return g(i.firstChild)},contents:function(i){return i.contentDocument!=null&&Ce(i.contentDocument)?i.contentDocument:(y(i,"template")&&(i=i.content||i),t.merge([],i.childNodes))}},function(i,n){t.fn[i]=function(a,d){var h=t.map(this,n,a);return i.slice(-5)!=="Until"&&(d=a),d&&typeof d=="string"&&(h=t.filter(d,h)),this.length>1&&(J[i]||t.uniqueSort(h),O.test(i)&&h.reverse()),this.pushStack(h)}});var K=/[^\x20\t\r\n\f]+/g;function re(i){var n={};return t.each(i.match(K)||[],function(a,d){n[d]=!0}),n}t.Callbacks=function(i){i=typeof i=="string"?re(i):t.extend({},i);var n,a,d,h,u=[],_=[],w=-1,C=function(){for(h=h||i.once,d=n=!0;_.length;w=-1)for(a=_.shift();++w<u.length;)u[w].apply(a[0],a[1])===!1&&i.stopOnFalse&&(w=u.length,a=!1);i.memory||(a=!1),n=!1,h&&(a?u=[]:u="")},A={add:function(){return u&&(a&&!n&&(w=u.length-1,_.push(a)),function L(M){t.each(M,function(j,q){ie(q)?(!i.unique||!A.has(q))&&u.push(q):q&&q.length&&r(q)!=="string"&&L(q)})}(arguments),a&&!n&&C()),this},remove:function(){return t.each(arguments,function(L,M){for(var j;(j=t.inArray(M,u,j))>-1;)u.splice(j,1),j<=w&&w--}),this},has:function(L){return L?t.inArray(L,u)>-1:u.length>0},empty:function(){return u&&(u=[]),this},disable:function(){return h=_=[],u=a="",this},disabled:function(){return!u},lock:function(){return h=_=[],!a&&!n&&(u=a=""),this},locked:function(){return!!h},fireWith:function(L,M){return h||(M=M||[],M=[L,M.slice?M.slice():M],_.push(M),n||C()),this},fire:function(){return A.fireWith(this,arguments),this},fired:function(){return!!d}};return A};function Ae(i){return i}function me(i){throw i}function ee(i,n,a,d){var h;try{i&&ie(h=i.promise)?h.call(i).done(n).fail(a):i&&ie(h=i.then)?h.call(i,n,a):n.apply(void 0,[i].slice(d))}catch(u){a.apply(void 0,[u])}}t.extend({Deferred:function(i){var n=[["notify","progress",t.Callbacks("memory"),t.Callbacks("memory"),2],["resolve","done",t.Callbacks("once memory"),t.Callbacks("once memory"),0,"resolved"],["reject","fail",t.Callbacks("once memory"),t.Callbacks("once memory"),1,"rejected"]],a="pending",d={state:function(){return a},always:function(){return h.done(arguments).fail(arguments),this},catch:function(u){return d.then(null,u)},pipe:function(){var u=arguments;return t.Deferred(function(_){t.each(n,function(w,C){var A=ie(u[C[4]])&&u[C[4]];h[C[1]](function(){var L=A&&A.apply(this,arguments);L&&ie(L.promise)?L.promise().progress(_.notify).done(_.resolve).fail(_.reject):_[C[0]+"With"](this,A?[L]:arguments)})}),u=null}).promise()},then:function(u,_,w){var C=0;function A(L,M,j,q){return function(){var Y=this,se=arguments,V=function(){var Te,be;if(!(L<C)){if(Te=j.apply(Y,se),Te===M.promise())throw new TypeError("Thenable self-resolution");be=Te&&(typeof Te=="object"||typeof Te=="function")&&Te.then,ie(be)?q?be.call(Te,A(C,M,Ae,q),A(C,M,me,q)):(C++,be.call(Te,A(C,M,Ae,q),A(C,M,me,q),A(C,M,Ae,M.notifyWith))):(j!==Ae&&(Y=void 0,se=[Te]),(q||M.resolveWith)(Y,se))}},Ee=q?V:function(){try{V()}catch(Te){t.Deferred.exceptionHook&&t.Deferred.exceptionHook(Te,Ee.stackTrace),L+1>=C&&(j!==me&&(Y=void 0,se=[Te]),M.rejectWith(Y,se))}};L?Ee():(t.Deferred.getStackHook&&(Ee.stackTrace=t.Deferred.getStackHook()),l.setTimeout(Ee))}}return t.Deferred(function(L){n[0][3].add(A(0,L,ie(w)?w:Ae,L.notifyWith)),n[1][3].add(A(0,L,ie(u)?u:Ae)),n[2][3].add(A(0,L,ie(_)?_:me))}).promise()},promise:function(u){return u!=null?t.extend(u,d):d}},h={};return t.each(n,function(u,_){var w=_[2],C=_[5];d[_[1]]=w.add,C&&w.add(function(){a=C},n[3-u][2].disable,n[3-u][3].disable,n[0][2].lock,n[0][3].lock),w.add(_[3].fire),h[_[0]]=function(){return h[_[0]+"With"](this===h?void 0:this,arguments),this},h[_[0]+"With"]=w.fireWith}),d.promise(h),i&&i.call(h,h),h},when:function(i){var n=arguments.length,a=n,d=Array(a),h=Ne.call(arguments),u=t.Deferred(),_=function(w){return function(C){d[w]=this,h[w]=arguments.length>1?Ne.call(arguments):C,--n||u.resolveWith(d,h)}};if(n<=1&&(ee(i,u.done(_(a)).resolve,u.reject,!n),u.state()==="pending"||ie(h[a]&&h[a].then)))return u.then();for(;a--;)ee(h[a],_(a),u.reject);return u.promise()}});var pe=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;t.Deferred.exceptionHook=function(i,n){l.console&&l.console.warn&&i&&pe.test(i.name)&&l.console.warn("jQuery.Deferred exception: "+i.message,i.stack,n)},t.readyException=function(i){l.setTimeout(function(){throw i})};var je=t.Deferred();t.fn.ready=function(i){return je.then(i).catch(function(n){t.readyException(n)}),this},t.extend({isReady:!1,readyWait:1,ready:function(i){(i===!0?--t.readyWait:t.isReady)||(t.isReady=!0,!(i!==!0&&--t.readyWait>0)&&je.resolveWith(oe,[t]))}}),t.ready.then=je.then;function De(){oe.removeEventListener("DOMContentLoaded",De),l.removeEventListener("load",De),t.ready()}oe.readyState==="complete"||oe.readyState!=="loading"&&!oe.documentElement.doScroll?l.setTimeout(t.ready):(oe.addEventListener("DOMContentLoaded",De),l.addEventListener("load",De));var Se=function(i,n,a,d,h,u,_){var w=0,C=i.length,A=a==null;if(r(a)==="object"){h=!0;for(w in a)Se(i,n,w,a[w],!0,u,_)}else if(d!==void 0&&(h=!0,ie(d)||(_=!0),A&&(_?(n.call(i,d),n=null):(A=n,n=function(L,M,j){return A.call(t(L),j)})),n))for(;w<C;w++)n(i[w],a,_?d:d.call(i[w],w,n(i[w],a)));return h?i:A?n.call(i):C?n(i[0],a):u},R=/^-ms-/,qe=/-([a-z])/g;function Le(i,n){return n.toUpperCase()}function ve(i){return i.replace(R,"ms-").replace(qe,Le)}var X=function(i){return i.nodeType===1||i.nodeType===9||!+i.nodeType};function Re(){this.expando=t.expando+Re.uid++}Re.uid=1,Re.prototype={cache:function(i){var n=i[this.expando];return n||(n={},X(i)&&(i.nodeType?i[this.expando]=n:Object.defineProperty(i,this.expando,{value:n,configurable:!0}))),n},set:function(i,n,a){var d,h=this.cache(i);if(typeof n=="string")h[ve(n)]=a;else for(d in n)h[ve(d)]=n[d];return h},get:function(i,n){return n===void 0?this.cache(i):i[this.expando]&&i[this.expando][ve(n)]},access:function(i,n,a){return n===void 0||n&&typeof n=="string"&&a===void 0?this.get(i,n):(this.set(i,n,a),a!==void 0?a:n)},remove:function(i,n){var a,d=i[this.expando];if(d!==void 0){if(n!==void 0)for(Array.isArray(n)?n=n.map(ve):(n=ve(n),n=n in d?[n]:n.match(K)||[]),a=n.length;a--;)delete d[n[a]];(n===void 0||t.isEmptyObject(d))&&(i.nodeType?i[this.expando]=void 0:delete i[this.expando])}},hasData:function(i){var n=i[this.expando];return n!==void 0&&!t.isEmptyObject(n)}};var U=new Re,xe=new Re,z=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,or=/[A-Z]/g;function lr(i){return i==="true"?!0:i==="false"?!1:i==="null"?null:i===+i+""?+i:z.test(i)?JSON.parse(i):i}function _i(i,n,a){var d;if(a===void 0&&i.nodeType===1)if(d="data-"+n.replace(or,"-$&").toLowerCase(),a=i.getAttribute(d),typeof a=="string"){try{a=lr(a)}catch(h){}xe.set(i,n,a)}else a=void 0;return a}t.extend({hasData:function(i){return xe.hasData(i)||U.hasData(i)},data:function(i,n,a){return xe.access(i,n,a)},removeData:function(i,n){xe.remove(i,n)},_data:function(i,n,a){return U.access(i,n,a)},_removeData:function(i,n){U.remove(i,n)}}),t.fn.extend({data:function(i,n){var a,d,h,u=this[0],_=u&&u.attributes;if(i===void 0){if(this.length&&(h=xe.get(u),u.nodeType===1&&!U.get(u,"hasDataAttrs"))){for(a=_.length;a--;)_[a]&&(d=_[a].name,d.indexOf("data-")===0&&(d=ve(d.slice(5)),_i(u,d,h[d])));U.set(u,"hasDataAttrs",!0)}return h}return typeof i=="object"?this.each(function(){xe.set(this,i)}):Se(this,function(w){var C;if(u&&w===void 0)return C=xe.get(u,i),C!==void 0||(C=_i(u,i),C!==void 0)?C:void 0;this.each(function(){xe.set(this,i,w)})},null,n,arguments.length>1,null,!0)},removeData:function(i){return this.each(function(){xe.remove(this,i)})}}),t.extend({queue:function(i,n,a){var d;if(i)return n=(n||"fx")+"queue",d=U.get(i,n),a&&(!d||Array.isArray(a)?d=U.access(i,n,t.makeArray(a)):d.push(a)),d||[]},dequeue:function(i,n){n=n||"fx";var a=t.queue(i,n),d=a.length,h=a.shift(),u=t._queueHooks(i,n),_=function(){t.dequeue(i,n)};h==="inprogress"&&(h=a.shift(),d--),h&&(n==="fx"&&a.unshift("inprogress"),delete u.stop,h.call(i,_,u)),!d&&u&&u.empty.fire()},_queueHooks:function(i,n){var a=n+"queueHooks";return U.get(i,a)||U.access(i,a,{empty:t.Callbacks("once memory").add(function(){U.remove(i,[n+"queue",a])})})}}),t.fn.extend({queue:function(i,n){var a=2;return typeof i!="string"&&(n=i,i="fx",a--),arguments.length<a?t.queue(this[0],i):n===void 0?this:this.each(function(){var d=t.queue(this,i,n);t._queueHooks(this,i),i==="fx"&&d[0]!=="inprogress"&&t.dequeue(this,i)})},dequeue:function(i){return this.each(function(){t.dequeue(this,i)})},clearQueue:function(i){return this.queue(i||"fx",[])},promise:function(i,n){var a,d=1,h=t.Deferred(),u=this,_=this.length,w=function(){--d||h.resolveWith(u,[u])};for(typeof i!="string"&&(n=i,i=void 0),i=i||"fx";_--;)a=U.get(u[_],i+"queueHooks"),a&&a.empty&&(d++,a.empty.add(w));return w(),h.promise(n)}});var mi=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,kt=new RegExp("^(?:([+-])=|)("+mi+")([a-z%]*)$","i"),Ze=["Top","Right","Bottom","Left"],at=oe.documentElement,_t=function(i){return t.contains(i.ownerDocument,i)},cr={composed:!0};at.getRootNode&&(_t=function(i){return t.contains(i.ownerDocument,i)||i.getRootNode(cr)===i.ownerDocument});var Lt=function(i,n){return i=n||i,i.style.display==="none"||i.style.display===""&&_t(i)&&t.css(i,"display")==="none"};function vi(i,n,a,d){var h,u,_=20,w=d?function(){return d.cur()}:function(){return t.css(i,n,"")},C=w(),A=a&&a[3]||(t.cssNumber[n]?"":"px"),L=i.nodeType&&(t.cssNumber[n]||A!=="px"&&+C)&&kt.exec(t.css(i,n));if(L&&L[3]!==A){for(C=C/2,A=A||L[3],L=+C||1;_--;)t.style(i,n,L+A),(1-u)*(1-(u=w()/C||.5))<=0&&(_=0),L=L/u;L=L*2,t.style(i,n,L+A),a=a||[]}return a&&(L=+L||+C||0,h=a[1]?L+(a[1]+1)*a[2]:+a[2],d&&(d.unit=A,d.start=L,d.end=h)),h}var yi={};function dr(i){var n,a=i.ownerDocument,d=i.nodeName,h=yi[d];return h||(n=a.body.appendChild(a.createElement(d)),h=t.css(n,"display"),n.parentNode.removeChild(n),h==="none"&&(h="block"),yi[d]=h,h)}function mt(i,n){for(var a,d,h=[],u=0,_=i.length;u<_;u++)d=i[u],!!d.style&&(a=d.style.display,n?(a==="none"&&(h[u]=U.get(d,"display")||null,h[u]||(d.style.display="")),d.style.display===""&&Lt(d)&&(h[u]=dr(d))):a!=="none"&&(h[u]="none",U.set(d,"display",a)));for(u=0;u<_;u++)h[u]!=null&&(i[u].style.display=h[u]);return i}t.fn.extend({show:function(){return mt(this,!0)},hide:function(){return mt(this)},toggle:function(i){return typeof i=="boolean"?i?this.show():this.hide():this.each(function(){Lt(this)?t(this).show():t(this).hide()})}});var Ct=/^(?:checkbox|radio)$/i,xi=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,wi=/^$|^module$|\/(?:java|ecma)script/i;(function(){var i=oe.createDocumentFragment(),n=i.appendChild(oe.createElement("div")),a=oe.createElement("input");a.setAttribute("type","radio"),a.setAttribute("checked","checked"),a.setAttribute("name","t"),n.appendChild(a),ae.checkClone=n.cloneNode(!0).cloneNode(!0).lastChild.checked,n.innerHTML="<textarea>x</textarea>",ae.noCloneChecked=!!n.cloneNode(!0).lastChild.defaultValue,n.innerHTML="<option></option>",ae.option=!!n.lastChild})();var Ue={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Ue.tbody=Ue.tfoot=Ue.colgroup=Ue.caption=Ue.thead,Ue.th=Ue.td,ae.option||(Ue.optgroup=Ue.option=[1,"<select multiple='multiple'>","</select>"]);function He(i,n){var a;return typeof i.getElementsByTagName!="undefined"?a=i.getElementsByTagName(n||"*"):typeof i.querySelectorAll!="undefined"?a=i.querySelectorAll(n||"*"):a=[],n===void 0||n&&y(i,n)?t.merge([i],a):a}function Yt(i,n){for(var a=0,d=i.length;a<d;a++)U.set(i[a],"globalEval",!n||U.get(n[a],"globalEval"))}var fr=/<|&#?\w+;/;function ki(i,n,a,d,h){for(var u,_,w,C,A,L,M=n.createDocumentFragment(),j=[],q=0,Y=i.length;q<Y;q++)if(u=i[q],u||u===0)if(r(u)==="object")t.merge(j,u.nodeType?[u]:u);else if(!fr.test(u))j.push(n.createTextNode(u));else{for(_=_||M.appendChild(n.createElement("div")),w=(xi.exec(u)||["",""])[1].toLowerCase(),C=Ue[w]||Ue._default,_.innerHTML=C[1]+t.htmlPrefilter(u)+C[2],L=C[0];L--;)_=_.lastChild;t.merge(j,_.childNodes),_=M.firstChild,_.textContent=""}for(M.textContent="",q=0;u=j[q++];){if(d&&t.inArray(u,d)>-1){h&&h.push(u);continue}if(A=_t(u),_=He(M.appendChild(u),"script"),A&&Yt(_),a)for(L=0;u=_[L++];)wi.test(u.type||"")&&a.push(u)}return M}var Ci=/^([^.]*)(?:\.(.+)|)/;function vt(){return!0}function yt(){return!1}function hr(i,n){return i===ur()==(n==="focus")}function ur(){try{return oe.activeElement}catch(i){}}function Vt(i,n,a,d,h,u){var _,w;if(typeof n=="object"){typeof a!="string"&&(d=d||a,a=void 0);for(w in n)Vt(i,w,a,d,n[w],u);return i}if(d==null&&h==null?(h=a,d=a=void 0):h==null&&(typeof a=="string"?(h=d,d=void 0):(h=d,d=a,a=void 0)),h===!1)h=yt;else if(!h)return i;return u===1&&(_=h,h=function(C){return t().off(C),_.apply(this,arguments)},h.guid=_.guid||(_.guid=t.guid++)),i.each(function(){t.event.add(this,n,h,d,a)})}t.event={global:{},add:function(i,n,a,d,h){var u,_,w,C,A,L,M,j,q,Y,se,V=U.get(i);if(!!X(i))for(a.handler&&(u=a,a=u.handler,h=u.selector),h&&t.find.matchesSelector(at,h),a.guid||(a.guid=t.guid++),(C=V.events)||(C=V.events=Object.create(null)),(_=V.handle)||(_=V.handle=function(Ee){return typeof t!="undefined"&&t.event.triggered!==Ee.type?t.event.dispatch.apply(i,arguments):void 0}),n=(n||"").match(K)||[""],A=n.length;A--;)w=Ci.exec(n[A])||[],q=se=w[1],Y=(w[2]||"").split(".").sort(),!!q&&(M=t.event.special[q]||{},q=(h?M.delegateType:M.bindType)||q,M=t.event.special[q]||{},L=t.extend({type:q,origType:se,data:d,handler:a,guid:a.guid,selector:h,needsContext:h&&t.expr.match.needsContext.test(h),namespace:Y.join(".")},u),(j=C[q])||(j=C[q]=[],j.delegateCount=0,(!M.setup||M.setup.call(i,d,Y,_)===!1)&&i.addEventListener&&i.addEventListener(q,_)),M.add&&(M.add.call(i,L),L.handler.guid||(L.handler.guid=a.guid)),h?j.splice(j.delegateCount++,0,L):j.push(L),t.event.global[q]=!0)},remove:function(i,n,a,d,h){var u,_,w,C,A,L,M,j,q,Y,se,V=U.hasData(i)&&U.get(i);if(!(!V||!(C=V.events))){for(n=(n||"").match(K)||[""],A=n.length;A--;){if(w=Ci.exec(n[A])||[],q=se=w[1],Y=(w[2]||"").split(".").sort(),!q){for(q in C)t.event.remove(i,q+n[A],a,d,!0);continue}for(M=t.event.special[q]||{},q=(d?M.delegateType:M.bindType)||q,j=C[q]||[],w=w[2]&&new RegExp("(^|\\.)"+Y.join("\\.(?:.*\\.|)")+"(\\.|$)"),_=u=j.length;u--;)L=j[u],(h||se===L.origType)&&(!a||a.guid===L.guid)&&(!w||w.test(L.namespace))&&(!d||d===L.selector||d==="**"&&L.selector)&&(j.splice(u,1),L.selector&&j.delegateCount--,M.remove&&M.remove.call(i,L));_&&!j.length&&((!M.teardown||M.teardown.call(i,Y,V.handle)===!1)&&t.removeEvent(i,q,V.handle),delete C[q])}t.isEmptyObject(C)&&U.remove(i,"handle events")}},dispatch:function(i){var n,a,d,h,u,_,w=new Array(arguments.length),C=t.event.fix(i),A=(U.get(this,"events")||Object.create(null))[C.type]||[],L=t.event.special[C.type]||{};for(w[0]=C,n=1;n<arguments.length;n++)w[n]=arguments[n];if(C.delegateTarget=this,!(L.preDispatch&&L.preDispatch.call(this,C)===!1)){for(_=t.event.handlers.call(this,C,A),n=0;(h=_[n++])&&!C.isPropagationStopped();)for(C.currentTarget=h.elem,a=0;(u=h.handlers[a++])&&!C.isImmediatePropagationStopped();)(!C.rnamespace||u.namespace===!1||C.rnamespace.test(u.namespace))&&(C.handleObj=u,C.data=u.data,d=((t.event.special[u.origType]||{}).handle||u.handler).apply(h.elem,w),d!==void 0&&(C.result=d)===!1&&(C.preventDefault(),C.stopPropagation()));return L.postDispatch&&L.postDispatch.call(this,C),C.result}},handlers:function(i,n){var a,d,h,u,_,w=[],C=n.delegateCount,A=i.target;if(C&&A.nodeType&&!(i.type==="click"&&i.button>=1)){for(;A!==this;A=A.parentNode||this)if(A.nodeType===1&&!(i.type==="click"&&A.disabled===!0)){for(u=[],_={},a=0;a<C;a++)d=n[a],h=d.selector+" ",_[h]===void 0&&(_[h]=d.needsContext?t(h,this).index(A)>-1:t.find(h,this,null,[A]).length),_[h]&&u.push(d);u.length&&w.push({elem:A,handlers:u})}}return A=this,C<n.length&&w.push({elem:A,handlers:n.slice(C)}),w},addProp:function(i,n){Object.defineProperty(t.Event.prototype,i,{enumerable:!0,configurable:!0,get:ie(n)?function(){if(this.originalEvent)return n(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[i]},set:function(a){Object.defineProperty(this,i,{enumerable:!0,configurable:!0,writable:!0,value:a})}})},fix:function(i){return i[t.expando]?i:new t.Event(i)},special:{load:{noBubble:!0},click:{setup:function(i){var n=this||i;return Ct.test(n.type)&&n.click&&y(n,"input")&&Pt(n,"click",vt),!1},trigger:function(i){var n=this||i;return Ct.test(n.type)&&n.click&&y(n,"input")&&Pt(n,"click"),!0},_default:function(i){var n=i.target;return Ct.test(n.type)&&n.click&&y(n,"input")&&U.get(n,"click")||y(n,"a")}},beforeunload:{postDispatch:function(i){i.result!==void 0&&i.originalEvent&&(i.originalEvent.returnValue=i.result)}}}};function Pt(i,n,a){if(!a){U.get(i,n)===void 0&&t.event.add(i,n,vt);return}U.set(i,n,!1),t.event.add(i,n,{namespace:!1,handler:function(d){var h,u,_=U.get(this,n);if(d.isTrigger&1&&this[n]){if(_.length)(t.event.special[n]||{}).delegateType&&d.stopPropagation();else if(_=Ne.call(arguments),U.set(this,n,_),h=a(this,n),this[n](),u=U.get(this,n),_!==u||h?U.set(this,n,!1):u={},_!==u)return d.stopImmediatePropagation(),d.preventDefault(),u&&u.value}else _.length&&(U.set(this,n,{value:t.event.trigger(t.extend(_[0],t.Event.prototype),_.slice(1),this)}),d.stopImmediatePropagation())}})}t.removeEvent=function(i,n,a){i.removeEventListener&&i.removeEventListener(n,a)},t.Event=function(i,n){if(!(this instanceof t.Event))return new t.Event(i,n);i&&i.type?(this.originalEvent=i,this.type=i.type,this.isDefaultPrevented=i.defaultPrevented||i.defaultPrevented===void 0&&i.returnValue===!1?vt:yt,this.target=i.target&&i.target.nodeType===3?i.target.parentNode:i.target,this.currentTarget=i.currentTarget,this.relatedTarget=i.relatedTarget):this.type=i,n&&t.extend(this,n),this.timeStamp=i&&i.timeStamp||Date.now(),this[t.expando]=!0},t.Event.prototype={constructor:t.Event,isDefaultPrevented:yt,isPropagationStopped:yt,isImmediatePropagationStopped:yt,isSimulated:!1,preventDefault:function(){var i=this.originalEvent;this.isDefaultPrevented=vt,i&&!this.isSimulated&&i.preventDefault()},stopPropagation:function(){var i=this.originalEvent;this.isPropagationStopped=vt,i&&!this.isSimulated&&i.stopPropagation()},stopImmediatePropagation:function(){var i=this.originalEvent;this.isImmediatePropagationStopped=vt,i&&!this.isSimulated&&i.stopImmediatePropagation(),this.stopPropagation()}},t.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},t.event.addProp),t.each({focus:"focusin",blur:"focusout"},function(i,n){t.event.special[i]={setup:function(){return Pt(this,i,hr),!1},trigger:function(){return Pt(this,i),!0},_default:function(){return!0},delegateType:n}}),t.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(i,n){t.event.special[i]={delegateType:n,bindType:n,handle:function(a){var d,h=this,u=a.relatedTarget,_=a.handleObj;return(!u||u!==h&&!t.contains(h,u))&&(a.type=_.origType,d=_.handler.apply(this,arguments),a.type=n),d}}}),t.fn.extend({on:function(i,n,a,d){return Vt(this,i,n,a,d)},one:function(i,n,a,d){return Vt(this,i,n,a,d,1)},off:function(i,n,a){var d,h;if(i&&i.preventDefault&&i.handleObj)return d=i.handleObj,t(i.delegateTarget).off(d.namespace?d.origType+"."+d.namespace:d.origType,d.selector,d.handler),this;if(typeof i=="object"){for(h in i)this.off(h,n,i[h]);return this}return(n===!1||typeof n=="function")&&(a=n,n=void 0),a===!1&&(a=yt),this.each(function(){t.event.remove(this,i,a,n)})}});var gr=/<script|<style|<link/i,pr=/checked\s*(?:[^=]|=\s*.checked.)/i,_r=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function Ti(i,n){return y(i,"table")&&y(n.nodeType!==11?n:n.firstChild,"tr")&&t(i).children("tbody")[0]||i}function mr(i){return i.type=(i.getAttribute("type")!==null)+"/"+i.type,i}function vr(i){return(i.type||"").slice(0,5)==="true/"?i.type=i.type.slice(5):i.removeAttribute("type"),i}function Ni(i,n){var a,d,h,u,_,w,C;if(n.nodeType===1){if(U.hasData(i)&&(u=U.get(i),C=u.events,C)){U.remove(n,"handle events");for(h in C)for(a=0,d=C[h].length;a<d;a++)t.event.add(n,h,C[h][a])}xe.hasData(i)&&(_=xe.access(i),w=t.extend({},_),xe.set(n,w))}}function yr(i,n){var a=n.nodeName.toLowerCase();a==="input"&&Ct.test(i.type)?n.checked=i.checked:(a==="input"||a==="textarea")&&(n.defaultValue=i.defaultValue)}function xt(i,n,a,d){n=Ge(n);var h,u,_,w,C,A,L=0,M=i.length,j=M-1,q=n[0],Y=ie(q);if(Y||M>1&&typeof q=="string"&&!ae.checkClone&&pr.test(q))return i.each(function(se){var V=i.eq(se);Y&&(n[0]=q.call(this,se,V.html())),xt(V,n,a,d)});if(M&&(h=ki(n,i[0].ownerDocument,!1,i,d),u=h.firstChild,h.childNodes.length===1&&(h=u),u||d)){for(_=t.map(He(h,"script"),mr),w=_.length;L<M;L++)C=h,L!==j&&(C=t.clone(C,!0,!0),w&&t.merge(_,He(C,"script"))),a.call(i[L],C,L);if(w)for(A=_[_.length-1].ownerDocument,t.map(_,vr),L=0;L<w;L++)C=_[L],wi.test(C.type||"")&&!U.access(C,"globalEval")&&t.contains(A,C)&&(C.src&&(C.type||"").toLowerCase()!=="module"?t._evalUrl&&!C.noModule&&t._evalUrl(C.src,{nonce:C.nonce||C.getAttribute("nonce")},A):o(C.textContent.replace(_r,""),C,A))}return i}function Ai(i,n,a){for(var d,h=n?t.filter(n,i):i,u=0;(d=h[u])!=null;u++)!a&&d.nodeType===1&&t.cleanData(He(d)),d.parentNode&&(a&&_t(d)&&Yt(He(d,"script")),d.parentNode.removeChild(d));return i}t.extend({htmlPrefilter:function(i){return i},clone:function(i,n,a){var d,h,u,_,w=i.cloneNode(!0),C=_t(i);if(!ae.noCloneChecked&&(i.nodeType===1||i.nodeType===11)&&!t.isXMLDoc(i))for(_=He(w),u=He(i),d=0,h=u.length;d<h;d++)yr(u[d],_[d]);if(n)if(a)for(u=u||He(i),_=_||He(w),d=0,h=u.length;d<h;d++)Ni(u[d],_[d]);else Ni(i,w);return _=He(w,"script"),_.length>0&&Yt(_,!C&&He(i,"script")),w},cleanData:function(i){for(var n,a,d,h=t.event.special,u=0;(a=i[u])!==void 0;u++)if(X(a)){if(n=a[U.expando]){if(n.events)for(d in n.events)h[d]?t.event.remove(a,d):t.removeEvent(a,d,n.handle);a[U.expando]=void 0}a[xe.expando]&&(a[xe.expando]=void 0)}}}),t.fn.extend({detach:function(i){return Ai(this,i,!0)},remove:function(i){return Ai(this,i)},text:function(i){return Se(this,function(n){return n===void 0?t.text(this):this.empty().each(function(){(this.nodeType===1||this.nodeType===11||this.nodeType===9)&&(this.textContent=n)})},null,i,arguments.length)},append:function(){return xt(this,arguments,function(i){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var n=Ti(this,i);n.appendChild(i)}})},prepend:function(){return xt(this,arguments,function(i){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var n=Ti(this,i);n.insertBefore(i,n.firstChild)}})},before:function(){return xt(this,arguments,function(i){this.parentNode&&this.parentNode.insertBefore(i,this)})},after:function(){return xt(this,arguments,function(i){this.parentNode&&this.parentNode.insertBefore(i,this.nextSibling)})},empty:function(){for(var i,n=0;(i=this[n])!=null;n++)i.nodeType===1&&(t.cleanData(He(i,!1)),i.textContent="");return this},clone:function(i,n){return i=i??!1,n=n??i,this.map(function(){return t.clone(this,i,n)})},html:function(i){return Se(this,function(n){var a=this[0]||{},d=0,h=this.length;if(n===void 0&&a.nodeType===1)return a.innerHTML;if(typeof n=="string"&&!gr.test(n)&&!Ue[(xi.exec(n)||["",""])[1].toLowerCase()]){n=t.htmlPrefilter(n);try{for(;d<h;d++)a=this[d]||{},a.nodeType===1&&(t.cleanData(He(a,!1)),a.innerHTML=n);a=0}catch(u){}}a&&this.empty().append(n)},null,i,arguments.length)},replaceWith:function(){var i=[];return xt(this,arguments,function(n){var a=this.parentNode;t.inArray(this,i)<0&&(t.cleanData(He(this)),a&&a.replaceChild(n,this))},i)}}),t.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(i,n){t.fn[i]=function(a){for(var d,h=[],u=t(a),_=u.length-1,w=0;w<=_;w++)d=w===_?this:this.clone(!0),t(u[w])[n](d),gt.apply(h,d.get());return this.pushStack(h)}});var Jt=new RegExp("^("+mi+")(?!px)[a-z%]+$","i"),qt=function(i){var n=i.ownerDocument.defaultView;return(!n||!n.opener)&&(n=l),n.getComputedStyle(i)},Si=function(i,n,a){var d,h,u={};for(h in n)u[h]=i.style[h],i.style[h]=n[h];d=a.call(i);for(h in n)i.style[h]=u[h];return d},xr=new RegExp(Ze.join("|"),"i");(function(){function i(){if(!!A){C.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",A.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",at.appendChild(C).appendChild(A);var L=l.getComputedStyle(A);a=L.top!=="1%",w=n(L.marginLeft)===12,A.style.right="60%",u=n(L.right)===36,d=n(L.width)===36,A.style.position="absolute",h=n(A.offsetWidth/3)===12,at.removeChild(C),A=null}}function n(L){return Math.round(parseFloat(L))}var a,d,h,u,_,w,C=oe.createElement("div"),A=oe.createElement("div");!A.style||(A.style.backgroundClip="content-box",A.cloneNode(!0).style.backgroundClip="",ae.clearCloneStyle=A.style.backgroundClip==="content-box",t.extend(ae,{boxSizingReliable:function(){return i(),d},pixelBoxStyles:function(){return i(),u},pixelPosition:function(){return i(),a},reliableMarginLeft:function(){return i(),w},scrollboxSize:function(){return i(),h},reliableTrDimensions:function(){var L,M,j,q;return _==null&&(L=oe.createElement("table"),M=oe.createElement("tr"),j=oe.createElement("div"),L.style.cssText="position:absolute;left:-11111px;border-collapse:separate",M.style.cssText="border:1px solid",M.style.height="1px",j.style.height="9px",j.style.display="block",at.appendChild(L).appendChild(M).appendChild(j),q=l.getComputedStyle(M),_=parseInt(q.height,10)+parseInt(q.borderTopWidth,10)+parseInt(q.borderBottomWidth,10)===M.offsetHeight,at.removeChild(L)),_}}))})();function Tt(i,n,a){var d,h,u,_,w=i.style;return a=a||qt(i),a&&(_=a.getPropertyValue(n)||a[n],_===""&&!_t(i)&&(_=t.style(i,n)),!ae.pixelBoxStyles()&&Jt.test(_)&&xr.test(n)&&(d=w.width,h=w.minWidth,u=w.maxWidth,w.minWidth=w.maxWidth=w.width=_,_=a.width,w.width=d,w.minWidth=h,w.maxWidth=u)),_!==void 0?_+"":_}function Ei(i,n){return{get:function(){if(i()){delete this.get;return}return(this.get=n).apply(this,arguments)}}}var Oi=["Webkit","Moz","ms"],ji=oe.createElement("div").style,Di={};function wr(i){for(var n=i[0].toUpperCase()+i.slice(1),a=Oi.length;a--;)if(i=Oi[a]+n,i in ji)return i}function Qt(i){var n=t.cssProps[i]||Di[i];return n||(i in ji?i:Di[i]=wr(i)||i)}var kr=/^(none|table(?!-c[ea]).+)/,Li=/^--/,Cr={position:"absolute",visibility:"hidden",display:"block"},Pi={letterSpacing:"0",fontWeight:"400"};function qi(i,n,a){var d=kt.exec(n);return d?Math.max(0,d[2]-(a||0))+(d[3]||"px"):n}function Gt(i,n,a,d,h,u){var _=n==="width"?1:0,w=0,C=0;if(a===(d?"border":"content"))return 0;for(;_<4;_+=2)a==="margin"&&(C+=t.css(i,a+Ze[_],!0,h)),d?(a==="content"&&(C-=t.css(i,"padding"+Ze[_],!0,h)),a!=="margin"&&(C-=t.css(i,"border"+Ze[_]+"Width",!0,h))):(C+=t.css(i,"padding"+Ze[_],!0,h),a!=="padding"?C+=t.css(i,"border"+Ze[_]+"Width",!0,h):w+=t.css(i,"border"+Ze[_]+"Width",!0,h));return!d&&u>=0&&(C+=Math.max(0,Math.ceil(i["offset"+n[0].toUpperCase()+n.slice(1)]-u-C-w-.5))||0),C}function Hi(i,n,a){var d=qt(i),h=!ae.boxSizingReliable()||a,u=h&&t.css(i,"boxSizing",!1,d)==="border-box",_=u,w=Tt(i,n,d),C="offset"+n[0].toUpperCase()+n.slice(1);if(Jt.test(w)){if(!a)return w;w="auto"}return(!ae.boxSizingReliable()&&u||!ae.reliableTrDimensions()&&y(i,"tr")||w==="auto"||!parseFloat(w)&&t.css(i,"display",!1,d)==="inline")&&i.getClientRects().length&&(u=t.css(i,"boxSizing",!1,d)==="border-box",_=C in i,_&&(w=i[C])),w=parseFloat(w)||0,w+Gt(i,n,a||(u?"border":"content"),_,d,w)+"px"}t.extend({cssHooks:{opacity:{get:function(i,n){if(n){var a=Tt(i,"opacity");return a===""?"1":a}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(i,n,a,d){if(!(!i||i.nodeType===3||i.nodeType===8||!i.style)){var h,u,_,w=ve(n),C=Li.test(n),A=i.style;if(C||(n=Qt(w)),_=t.cssHooks[n]||t.cssHooks[w],a!==void 0){if(u=typeof a,u==="string"&&(h=kt.exec(a))&&h[1]&&(a=vi(i,n,h),u="number"),a==null||a!==a)return;u==="number"&&!C&&(a+=h&&h[3]||(t.cssNumber[w]?"":"px")),!ae.clearCloneStyle&&a===""&&n.indexOf("background")===0&&(A[n]="inherit"),(!_||!("set"in _)||(a=_.set(i,a,d))!==void 0)&&(C?A.setProperty(n,a):A[n]=a)}else return _&&"get"in _&&(h=_.get(i,!1,d))!==void 0?h:A[n]}},css:function(i,n,a,d){var h,u,_,w=ve(n),C=Li.test(n);return C||(n=Qt(w)),_=t.cssHooks[n]||t.cssHooks[w],_&&"get"in _&&(h=_.get(i,!0,a)),h===void 0&&(h=Tt(i,n,d)),h==="normal"&&n in Pi&&(h=Pi[n]),a===""||a?(u=parseFloat(h),a===!0||isFinite(u)?u||0:h):h}}),t.each(["height","width"],function(i,n){t.cssHooks[n]={get:function(a,d,h){if(d)return kr.test(t.css(a,"display"))&&(!a.getClientRects().length||!a.getBoundingClientRect().width)?Si(a,Cr,function(){return Hi(a,n,h)}):Hi(a,n,h)},set:function(a,d,h){var u,_=qt(a),w=!ae.scrollboxSize()&&_.position==="absolute",C=w||h,A=C&&t.css(a,"boxSizing",!1,_)==="border-box",L=h?Gt(a,n,h,A,_):0;return A&&w&&(L-=Math.ceil(a["offset"+n[0].toUpperCase()+n.slice(1)]-parseFloat(_[n])-Gt(a,n,"border",!1,_)-.5)),L&&(u=kt.exec(d))&&(u[3]||"px")!=="px"&&(a.style[n]=d,d=t.css(a,n)),qi(a,d,L)}}}),t.cssHooks.marginLeft=Ei(ae.reliableMarginLeft,function(i,n){if(n)return(parseFloat(Tt(i,"marginLeft"))||i.getBoundingClientRect().left-Si(i,{marginLeft:0},function(){return i.getBoundingClientRect().left}))+"px"}),t.each({margin:"",padding:"",border:"Width"},function(i,n){t.cssHooks[i+n]={expand:function(a){for(var d=0,h={},u=typeof a=="string"?a.split(" "):[a];d<4;d++)h[i+Ze[d]+n]=u[d]||u[d-2]||u[0];return h}},i!=="margin"&&(t.cssHooks[i+n].set=qi)}),t.fn.extend({css:function(i,n){return Se(this,function(a,d,h){var u,_,w={},C=0;if(Array.isArray(d)){for(u=qt(a),_=d.length;C<_;C++)w[d[C]]=t.css(a,d[C],!1,u);return w}return h!==void 0?t.style(a,d,h):t.css(a,d)},i,n,arguments.length>1)}});function Fe(i,n,a,d,h){return new Fe.prototype.init(i,n,a,d,h)}t.Tween=Fe,Fe.prototype={constructor:Fe,init:function(i,n,a,d,h,u){this.elem=i,this.prop=a,this.easing=h||t.easing._default,this.options=n,this.start=this.now=this.cur(),this.end=d,this.unit=u||(t.cssNumber[a]?"":"px")},cur:function(){var i=Fe.propHooks[this.prop];return i&&i.get?i.get(this):Fe.propHooks._default.get(this)},run:function(i){var n,a=Fe.propHooks[this.prop];return this.options.duration?this.pos=n=t.easing[this.easing](i,this.options.duration*i,0,1,this.options.duration):this.pos=n=i,this.now=(this.end-this.start)*n+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),a&&a.set?a.set(this):Fe.propHooks._default.set(this),this}},Fe.prototype.init.prototype=Fe.prototype,Fe.propHooks={_default:{get:function(i){var n;return i.elem.nodeType!==1||i.elem[i.prop]!=null&&i.elem.style[i.prop]==null?i.elem[i.prop]:(n=t.css(i.elem,i.prop,""),!n||n==="auto"?0:n)},set:function(i){t.fx.step[i.prop]?t.fx.step[i.prop](i):i.elem.nodeType===1&&(t.cssHooks[i.prop]||i.elem.style[Qt(i.prop)]!=null)?t.style(i.elem,i.prop,i.now+i.unit):i.elem[i.prop]=i.now}}},Fe.propHooks.scrollTop=Fe.propHooks.scrollLeft={set:function(i){i.elem.nodeType&&i.elem.parentNode&&(i.elem[i.prop]=i.now)}},t.easing={linear:function(i){return i},swing:function(i){return .5-Math.cos(i*Math.PI)/2},_default:"swing"},t.fx=Fe.prototype.init,t.fx.step={};var wt,Ht,Tr=/^(?:toggle|show|hide)$/,Nr=/queueHooks$/;function Zt(){Ht&&(oe.hidden===!1&&l.requestAnimationFrame?l.requestAnimationFrame(Zt):l.setTimeout(Zt,t.fx.interval),t.fx.tick())}function Fi(){return l.setTimeout(function(){wt=void 0}),wt=Date.now()}function Ft(i,n){var a,d=0,h={height:i};for(n=n?1:0;d<4;d+=2-n)a=Ze[d],h["margin"+a]=h["padding"+a]=i;return n&&(h.opacity=h.width=i),h}function Mi(i,n,a){for(var d,h=(Ye.tweeners[n]||[]).concat(Ye.tweeners["*"]),u=0,_=h.length;u<_;u++)if(d=h[u].call(a,n,i))return d}function Ar(i,n,a){var d,h,u,_,w,C,A,L,M="width"in n||"height"in n,j=this,q={},Y=i.style,se=i.nodeType&&Lt(i),V=U.get(i,"fxshow");a.queue||(_=t._queueHooks(i,"fx"),_.unqueued==null&&(_.unqueued=0,w=_.empty.fire,_.empty.fire=function(){_.unqueued||w()}),_.unqueued++,j.always(function(){j.always(function(){_.unqueued--,t.queue(i,"fx").length||_.empty.fire()})}));for(d in n)if(h=n[d],Tr.test(h)){if(delete n[d],u=u||h==="toggle",h===(se?"hide":"show"))if(h==="show"&&V&&V[d]!==void 0)se=!0;else continue;q[d]=V&&V[d]||t.style(i,d)}if(C=!t.isEmptyObject(n),!(!C&&t.isEmptyObject(q))){M&&i.nodeType===1&&(a.overflow=[Y.overflow,Y.overflowX,Y.overflowY],A=V&&V.display,A==null&&(A=U.get(i,"display")),L=t.css(i,"display"),L==="none"&&(A?L=A:(mt([i],!0),A=i.style.display||A,L=t.css(i,"display"),mt([i]))),(L==="inline"||L==="inline-block"&&A!=null)&&t.css(i,"float")==="none"&&(C||(j.done(function(){Y.display=A}),A==null&&(L=Y.display,A=L==="none"?"":L)),Y.display="inline-block")),a.overflow&&(Y.overflow="hidden",j.always(function(){Y.overflow=a.overflow[0],Y.overflowX=a.overflow[1],Y.overflowY=a.overflow[2]})),C=!1;for(d in q)C||(V?"hidden"in V&&(se=V.hidden):V=U.access(i,"fxshow",{display:A}),u&&(V.hidden=!se),se&&mt([i],!0),j.done(function(){se||mt([i]),U.remove(i,"fxshow");for(d in q)t.style(i,d,q[d])})),C=Mi(se?V[d]:0,d,j),d in V||(V[d]=C.start,se&&(C.end=C.start,C.start=0))}}function Sr(i,n){var a,d,h,u,_;for(a in i)if(d=ve(a),h=n[d],u=i[a],Array.isArray(u)&&(h=u[1],u=i[a]=u[0]),a!==d&&(i[d]=u,delete i[a]),_=t.cssHooks[d],_&&"expand"in _){u=_.expand(u),delete i[d];for(a in u)a in i||(i[a]=u[a],n[a]=h)}else n[d]=h}function Ye(i,n,a){var d,h,u=0,_=Ye.prefilters.length,w=t.Deferred().always(function(){delete C.elem}),C=function(){if(h)return!1;for(var M=wt||Fi(),j=Math.max(0,A.startTime+A.duration-M),q=j/A.duration||0,Y=1-q,se=0,V=A.tweens.length;se<V;se++)A.tweens[se].run(Y);return w.notifyWith(i,[A,Y,j]),Y<1&&V?j:(V||w.notifyWith(i,[A,1,0]),w.resolveWith(i,[A]),!1)},A=w.promise({elem:i,props:t.extend({},n),opts:t.extend(!0,{specialEasing:{},easing:t.easing._default},a),originalProperties:n,originalOptions:a,startTime:wt||Fi(),duration:a.duration,tweens:[],createTween:function(M,j){var q=t.Tween(i,A.opts,M,j,A.opts.specialEasing[M]||A.opts.easing);return A.tweens.push(q),q},stop:function(M){var j=0,q=M?A.tweens.length:0;if(h)return this;for(h=!0;j<q;j++)A.tweens[j].run(1);return M?(w.notifyWith(i,[A,1,0]),w.resolveWith(i,[A,M])):w.rejectWith(i,[A,M]),this}}),L=A.props;for(Sr(L,A.opts.specialEasing);u<_;u++)if(d=Ye.prefilters[u].call(A,i,L,A.opts),d)return ie(d.stop)&&(t._queueHooks(A.elem,A.opts.queue).stop=d.stop.bind(d)),d;return t.map(L,Mi,A),ie(A.opts.start)&&A.opts.start.call(i,A),A.progress(A.opts.progress).done(A.opts.done,A.opts.complete).fail(A.opts.fail).always(A.opts.always),t.fx.timer(t.extend(C,{elem:i,anim:A,queue:A.opts.queue})),A}t.Animation=t.extend(Ye,{tweeners:{"*":[function(i,n){var a=this.createTween(i,n);return vi(a.elem,i,kt.exec(n),a),a}]},tweener:function(i,n){ie(i)?(n=i,i=["*"]):i=i.match(K);for(var a,d=0,h=i.length;d<h;d++)a=i[d],Ye.tweeners[a]=Ye.tweeners[a]||[],Ye.tweeners[a].unshift(n)},prefilters:[Ar],prefilter:function(i,n){n?Ye.prefilters.unshift(i):Ye.prefilters.push(i)}}),t.speed=function(i,n,a){var d=i&&typeof i=="object"?t.extend({},i):{complete:a||!a&&n||ie(i)&&i,duration:i,easing:a&&n||n&&!ie(n)&&n};return t.fx.off?d.duration=0:typeof d.duration!="number"&&(d.duration in t.fx.speeds?d.duration=t.fx.speeds[d.duration]:d.duration=t.fx.speeds._default),(d.queue==null||d.queue===!0)&&(d.queue="fx"),d.old=d.complete,d.complete=function(){ie(d.old)&&d.old.call(this),d.queue&&t.dequeue(this,d.queue)},d},t.fn.extend({fadeTo:function(i,n,a,d){return this.filter(Lt).css("opacity",0).show().end().animate({opacity:n},i,a,d)},animate:function(i,n,a,d){var h=t.isEmptyObject(i),u=t.speed(n,a,d),_=function(){var w=Ye(this,t.extend({},i),u);(h||U.get(this,"finish"))&&w.stop(!0)};return _.finish=_,h||u.queue===!1?this.each(_):this.queue(u.queue,_)},stop:function(i,n,a){var d=function(h){var u=h.stop;delete h.stop,u(a)};return typeof i!="string"&&(a=n,n=i,i=void 0),n&&this.queue(i||"fx",[]),this.each(function(){var h=!0,u=i!=null&&i+"queueHooks",_=t.timers,w=U.get(this);if(u)w[u]&&w[u].stop&&d(w[u]);else for(u in w)w[u]&&w[u].stop&&Nr.test(u)&&d(w[u]);for(u=_.length;u--;)_[u].elem===this&&(i==null||_[u].queue===i)&&(_[u].anim.stop(a),h=!1,_.splice(u,1));(h||!a)&&t.dequeue(this,i)})},finish:function(i){return i!==!1&&(i=i||"fx"),this.each(function(){var n,a=U.get(this),d=a[i+"queue"],h=a[i+"queueHooks"],u=t.timers,_=d?d.length:0;for(a.finish=!0,t.queue(this,i,[]),h&&h.stop&&h.stop.call(this,!0),n=u.length;n--;)u[n].elem===this&&u[n].queue===i&&(u[n].anim.stop(!0),u.splice(n,1));for(n=0;n<_;n++)d[n]&&d[n].finish&&d[n].finish.call(this);delete a.finish})}}),t.each(["toggle","show","hide"],function(i,n){var a=t.fn[n];t.fn[n]=function(d,h,u){return d==null||typeof d=="boolean"?a.apply(this,arguments):this.animate(Ft(n,!0),d,h,u)}}),t.each({slideDown:Ft("show"),slideUp:Ft("hide"),slideToggle:Ft("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(i,n){t.fn[i]=function(a,d,h){return this.animate(n,a,d,h)}}),t.timers=[],t.fx.tick=function(){var i,n=0,a=t.timers;for(wt=Date.now();n<a.length;n++)i=a[n],!i()&&a[n]===i&&a.splice(n--,1);a.length||t.fx.stop(),wt=void 0},t.fx.timer=function(i){t.timers.push(i),t.fx.start()},t.fx.interval=13,t.fx.start=function(){Ht||(Ht=!0,Zt())},t.fx.stop=function(){Ht=null},t.fx.speeds={slow:600,fast:200,_default:400},t.fn.delay=function(i,n){return i=t.fx&&t.fx.speeds[i]||i,n=n||"fx",this.queue(n,function(a,d){var h=l.setTimeout(a,i);d.stop=function(){l.clearTimeout(h)}})},function(){var i=oe.createElement("input"),n=oe.createElement("select"),a=n.appendChild(oe.createElement("option"));i.type="checkbox",ae.checkOn=i.value!=="",ae.optSelected=a.selected,i=oe.createElement("input"),i.value="t",i.type="radio",ae.radioValue=i.value==="t"}();var Ii,Nt=t.expr.attrHandle;t.fn.extend({attr:function(i,n){return Se(this,t.attr,i,n,arguments.length>1)},removeAttr:function(i){return this.each(function(){t.removeAttr(this,i)})}}),t.extend({attr:function(i,n,a){var d,h,u=i.nodeType;if(!(u===3||u===8||u===2)){if(typeof i.getAttribute=="undefined")return t.prop(i,n,a);if((u!==1||!t.isXMLDoc(i))&&(h=t.attrHooks[n.toLowerCase()]||(t.expr.match.bool.test(n)?Ii:void 0)),a!==void 0){if(a===null){t.removeAttr(i,n);return}return h&&"set"in h&&(d=h.set(i,a,n))!==void 0?d:(i.setAttribute(n,a+""),a)}return h&&"get"in h&&(d=h.get(i,n))!==null?d:(d=t.find.attr(i,n),d??void 0)}},attrHooks:{type:{set:function(i,n){if(!ae.radioValue&&n==="radio"&&y(i,"input")){var a=i.value;return i.setAttribute("type",n),a&&(i.value=a),n}}}},removeAttr:function(i,n){var a,d=0,h=n&&n.match(K);if(h&&i.nodeType===1)for(;a=h[d++];)i.removeAttribute(a)}}),Ii={set:function(i,n,a){return n===!1?t.removeAttr(i,a):i.setAttribute(a,a),a}},t.each(t.expr.match.bool.source.match(/\w+/g),function(i,n){var a=Nt[n]||t.find.attr;Nt[n]=function(d,h,u){var _,w,C=h.toLowerCase();return u||(w=Nt[C],Nt[C]=_,_=a(d,h,u)!=null?C:null,Nt[C]=w),_}});var Er=/^(?:input|select|textarea|button)$/i,Or=/^(?:a|area)$/i;t.fn.extend({prop:function(i,n){return Se(this,t.prop,i,n,arguments.length>1)},removeProp:function(i){return this.each(function(){delete this[t.propFix[i]||i]})}}),t.extend({prop:function(i,n,a){var d,h,u=i.nodeType;if(!(u===3||u===8||u===2))return(u!==1||!t.isXMLDoc(i))&&(n=t.propFix[n]||n,h=t.propHooks[n]),a!==void 0?h&&"set"in h&&(d=h.set(i,a,n))!==void 0?d:i[n]=a:h&&"get"in h&&(d=h.get(i,n))!==null?d:i[n]},propHooks:{tabIndex:{get:function(i){var n=t.find.attr(i,"tabindex");return n?parseInt(n,10):Er.test(i.nodeName)||Or.test(i.nodeName)&&i.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),ae.optSelected||(t.propHooks.selected={get:function(i){var n=i.parentNode;return n&&n.parentNode&&n.parentNode.selectedIndex,null},set:function(i){var n=i.parentNode;n&&(n.selectedIndex,n.parentNode&&n.parentNode.selectedIndex)}}),t.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){t.propFix[this.toLowerCase()]=this});function ot(i){var n=i.match(K)||[];return n.join(" ")}function lt(i){return i.getAttribute&&i.getAttribute("class")||""}function $t(i){return Array.isArray(i)?i:typeof i=="string"?i.match(K)||[]:[]}t.fn.extend({addClass:function(i){var n,a,d,h,u,_,w,C=0;if(ie(i))return this.each(function(A){t(this).addClass(i.call(this,A,lt(this)))});if(n=$t(i),n.length){for(;a=this[C++];)if(h=lt(a),d=a.nodeType===1&&" "+ot(h)+" ",d){for(_=0;u=n[_++];)d.indexOf(" "+u+" ")<0&&(d+=u+" ");w=ot(d),h!==w&&a.setAttribute("class",w)}}return this},removeClass:function(i){var n,a,d,h,u,_,w,C=0;if(ie(i))return this.each(function(A){t(this).removeClass(i.call(this,A,lt(this)))});if(!arguments.length)return this.attr("class","");if(n=$t(i),n.length){for(;a=this[C++];)if(h=lt(a),d=a.nodeType===1&&" "+ot(h)+" ",d){for(_=0;u=n[_++];)for(;d.indexOf(" "+u+" ")>-1;)d=d.replace(" "+u+" "," ");w=ot(d),h!==w&&a.setAttribute("class",w)}}return this},toggleClass:function(i,n){var a=typeof i,d=a==="string"||Array.isArray(i);return typeof n=="boolean"&&d?n?this.addClass(i):this.removeClass(i):ie(i)?this.each(function(h){t(this).toggleClass(i.call(this,h,lt(this),n),n)}):this.each(function(){var h,u,_,w;if(d)for(u=0,_=t(this),w=$t(i);h=w[u++];)_.hasClass(h)?_.removeClass(h):_.addClass(h);else(i===void 0||a==="boolean")&&(h=lt(this),h&&U.set(this,"__className__",h),this.setAttribute&&this.setAttribute("class",h||i===!1?"":U.get(this,"__className__")||""))})},hasClass:function(i){var n,a,d=0;for(n=" "+i+" ";a=this[d++];)if(a.nodeType===1&&(" "+ot(lt(a))+" ").indexOf(n)>-1)return!0;return!1}});var jr=/\r/g;t.fn.extend({val:function(i){var n,a,d,h=this[0];return arguments.length?(d=ie(i),this.each(function(u){var _;this.nodeType===1&&(d?_=i.call(this,u,t(this).val()):_=i,_==null?_="":typeof _=="number"?_+="":Array.isArray(_)&&(_=t.map(_,function(w){return w==null?"":w+""})),n=t.valHooks[this.type]||t.valHooks[this.nodeName.toLowerCase()],(!n||!("set"in n)||n.set(this,_,"value")===void 0)&&(this.value=_))})):h?(n=t.valHooks[h.type]||t.valHooks[h.nodeName.toLowerCase()],n&&"get"in n&&(a=n.get(h,"value"))!==void 0?a:(a=h.value,typeof a=="string"?a.replace(jr,""):a??"")):void 0}}),t.extend({valHooks:{option:{get:function(i){var n=t.find.attr(i,"value");return n??ot(t.text(i))}},select:{get:function(i){var n,a,d,h=i.options,u=i.selectedIndex,_=i.type==="select-one",w=_?null:[],C=_?u+1:h.length;for(u<0?d=C:d=_?u:0;d<C;d++)if(a=h[d],(a.selected||d===u)&&!a.disabled&&(!a.parentNode.disabled||!y(a.parentNode,"optgroup"))){if(n=t(a).val(),_)return n;w.push(n)}return w},set:function(i,n){for(var a,d,h=i.options,u=t.makeArray(n),_=h.length;_--;)d=h[_],(d.selected=t.inArray(t.valHooks.option.get(d),u)>-1)&&(a=!0);return a||(i.selectedIndex=-1),u}}}}),t.each(["radio","checkbox"],function(){t.valHooks[this]={set:function(i,n){if(Array.isArray(n))return i.checked=t.inArray(t(i).val(),n)>-1}},ae.checkOn||(t.valHooks[this].get=function(i){return i.getAttribute("value")===null?"on":i.value})}),ae.focusin="onfocusin"in l;var Ri=/^(?:focusinfocus|focusoutblur)$/,bi=function(i){i.stopPropagation()};t.extend(t.event,{trigger:function(i,n,a,d){var h,u,_,w,C,A,L,M,j=[a||oe],q=st.call(i,"type")?i.type:i,Y=st.call(i,"namespace")?i.namespace.split("."):[];if(u=M=_=a=a||oe,!(a.nodeType===3||a.nodeType===8)&&!Ri.test(q+t.event.triggered)&&(q.indexOf(".")>-1&&(Y=q.split("."),q=Y.shift(),Y.sort()),C=q.indexOf(":")<0&&"on"+q,i=i[t.expando]?i:new t.Event(q,typeof i=="object"&&i),i.isTrigger=d?2:3,i.namespace=Y.join("."),i.rnamespace=i.namespace?new RegExp("(^|\\.)"+Y.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,i.result=void 0,i.target||(i.target=a),n=n==null?[i]:t.makeArray(n,[i]),L=t.event.special[q]||{},!(!d&&L.trigger&&L.trigger.apply(a,n)===!1))){if(!d&&!L.noBubble&&!Ke(a)){for(w=L.delegateType||q,Ri.test(w+q)||(u=u.parentNode);u;u=u.parentNode)j.push(u),_=u;_===(a.ownerDocument||oe)&&j.push(_.defaultView||_.parentWindow||l)}for(h=0;(u=j[h++])&&!i.isPropagationStopped();)M=u,i.type=h>1?w:L.bindType||q,A=(U.get(u,"events")||Object.create(null))[i.type]&&U.get(u,"handle"),A&&A.apply(u,n),A=C&&u[C],A&&A.apply&&X(u)&&(i.result=A.apply(u,n),i.result===!1&&i.preventDefault());return i.type=q,!d&&!i.isDefaultPrevented()&&(!L._default||L._default.apply(j.pop(),n)===!1)&&X(a)&&C&&ie(a[q])&&!Ke(a)&&(_=a[C],_&&(a[C]=null),t.event.triggered=q,i.isPropagationStopped()&&M.addEventListener(q,bi),a[q](),i.isPropagationStopped()&&M.removeEventListener(q,bi),t.event.triggered=void 0,_&&(a[C]=_)),i.result}},simulate:function(i,n,a){var d=t.extend(new t.Event,a,{type:i,isSimulated:!0});t.event.trigger(d,null,n)}}),t.fn.extend({trigger:function(i,n){return this.each(function(){t.event.trigger(i,n,this)})},triggerHandler:function(i,n){var a=this[0];if(a)return t.event.trigger(i,n,a,!0)}}),ae.focusin||t.each({focus:"focusin",blur:"focusout"},function(i,n){var a=function(d){t.event.simulate(n,d.target,t.event.fix(d))};t.event.special[n]={setup:function(){var d=this.ownerDocument||this.document||this,h=U.access(d,n);h||d.addEventListener(i,a,!0),U.access(d,n,(h||0)+1)},teardown:function(){var d=this.ownerDocument||this.document||this,h=U.access(d,n)-1;h?U.access(d,n,h):(d.removeEventListener(i,a,!0),U.remove(d,n))}}});var At=l.location,Bi={guid:Date.now()},ei=/\?/;t.parseXML=function(i){var n,a;if(!i||typeof i!="string")return null;try{n=new l.DOMParser().parseFromString(i,"text/xml")}catch(d){}return a=n&&n.getElementsByTagName("parsererror")[0],(!n||a)&&t.error("Invalid XML: "+(a?t.map(a.childNodes,function(d){return d.textContent}).join(`
`):i)),n};var Dr=/\[\]$/,Wi=/\r?\n/g,Lr=/^(?:submit|button|image|reset|file)$/i,Pr=/^(?:input|select|textarea|keygen)/i;function ti(i,n,a,d){var h;if(Array.isArray(n))t.each(n,function(u,_){a||Dr.test(i)?d(i,_):ti(i+"["+(typeof _=="object"&&_!=null?u:"")+"]",_,a,d)});else if(!a&&r(n)==="object")for(h in n)ti(i+"["+h+"]",n[h],a,d);else d(i,n)}t.param=function(i,n){var a,d=[],h=function(u,_){var w=ie(_)?_():_;d[d.length]=encodeURIComponent(u)+"="+encodeURIComponent(w??"")};if(i==null)return"";if(Array.isArray(i)||i.jquery&&!t.isPlainObject(i))t.each(i,function(){h(this.name,this.value)});else for(a in i)ti(a,i[a],n,h);return d.join("&")},t.fn.extend({serialize:function(){return t.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var i=t.prop(this,"elements");return i?t.makeArray(i):this}).filter(function(){var i=this.type;return this.name&&!t(this).is(":disabled")&&Pr.test(this.nodeName)&&!Lr.test(i)&&(this.checked||!Ct.test(i))}).map(function(i,n){var a=t(this).val();return a==null?null:Array.isArray(a)?t.map(a,function(d){return{name:n.name,value:d.replace(Wi,`\r
`)}}):{name:n.name,value:a.replace(Wi,`\r
`)}}).get()}});var qr=/%20/g,Hr=/#.*$/,Fr=/([?&])_=[^&]*/,Mr=/^(.*?):[ \t]*([^\r\n]*)$/mg,Ir=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Rr=/^(?:GET|HEAD)$/,br=/^\/\//,zi={},ii={},Ki="*/".concat("*"),ri=oe.createElement("a");ri.href=At.href;function Ui(i){return function(n,a){typeof n!="string"&&(a=n,n="*");var d,h=0,u=n.toLowerCase().match(K)||[];if(ie(a))for(;d=u[h++];)d[0]==="+"?(d=d.slice(1)||"*",(i[d]=i[d]||[]).unshift(a)):(i[d]=i[d]||[]).push(a)}}function Xi(i,n,a,d){var h={},u=i===ii;function _(w){var C;return h[w]=!0,t.each(i[w]||[],function(A,L){var M=L(n,a,d);if(typeof M=="string"&&!u&&!h[M])return n.dataTypes.unshift(M),_(M),!1;if(u)return!(C=M)}),C}return _(n.dataTypes[0])||!h["*"]&&_("*")}function ni(i,n){var a,d,h=t.ajaxSettings.flatOptions||{};for(a in n)n[a]!==void 0&&((h[a]?i:d||(d={}))[a]=n[a]);return d&&t.extend(!0,i,d),i}function Br(i,n,a){for(var d,h,u,_,w=i.contents,C=i.dataTypes;C[0]==="*";)C.shift(),d===void 0&&(d=i.mimeType||n.getResponseHeader("Content-Type"));if(d){for(h in w)if(w[h]&&w[h].test(d)){C.unshift(h);break}}if(C[0]in a)u=C[0];else{for(h in a){if(!C[0]||i.converters[h+" "+C[0]]){u=h;break}_||(_=h)}u=u||_}if(u)return u!==C[0]&&C.unshift(u),a[u]}function Wr(i,n,a,d){var h,u,_,w,C,A={},L=i.dataTypes.slice();if(L[1])for(_ in i.converters)A[_.toLowerCase()]=i.converters[_];for(u=L.shift();u;)if(i.responseFields[u]&&(a[i.responseFields[u]]=n),!C&&d&&i.dataFilter&&(n=i.dataFilter(n,i.dataType)),C=u,u=L.shift(),u){if(u==="*")u=C;else if(C!=="*"&&C!==u){if(_=A[C+" "+u]||A["* "+u],!_){for(h in A)if(w=h.split(" "),w[1]===u&&(_=A[C+" "+w[0]]||A["* "+w[0]],_)){_===!0?_=A[h]:A[h]!==!0&&(u=w[0],L.unshift(w[1]));break}}if(_!==!0)if(_&&i.throws)n=_(n);else try{n=_(n)}catch(M){return{state:"parsererror",error:_?M:"No conversion from "+C+" to "+u}}}}return{state:"success",data:n}}t.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:At.href,type:"GET",isLocal:Ir.test(At.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Ki,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":t.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(i,n){return n?ni(ni(i,t.ajaxSettings),n):ni(t.ajaxSettings,i)},ajaxPrefilter:Ui(zi),ajaxTransport:Ui(ii),ajax:function(i,n){typeof i=="object"&&(n=i,i=void 0),n=n||{};var a,d,h,u,_,w,C,A,L,M,j=t.ajaxSetup({},n),q=j.context||j,Y=j.context&&(q.nodeType||q.jquery)?t(q):t.event,se=t.Deferred(),V=t.Callbacks("once memory"),Ee=j.statusCode||{},Te={},be={},he="canceled",ne={readyState:0,getResponseHeader:function(de){var ye;if(C){if(!u)for(u={};ye=Mr.exec(h);)u[ye[1].toLowerCase()+" "]=(u[ye[1].toLowerCase()+" "]||[]).concat(ye[2]);ye=u[de.toLowerCase()+" "]}return ye==null?null:ye.join(", ")},getAllResponseHeaders:function(){return C?h:null},setRequestHeader:function(de,ye){return C==null&&(de=be[de.toLowerCase()]=be[de.toLowerCase()]||de,Te[de]=ye),this},overrideMimeType:function(de){return C==null&&(j.mimeType=de),this},statusCode:function(de){var ye;if(de)if(C)ne.always(de[ne.status]);else for(ye in de)Ee[ye]=[Ee[ye],de[ye]];return this},abort:function(de){var ye=de||he;return a&&a.abort(ye),Me(0,ye),this}};if(se.promise(ne),j.url=((i||j.url||At.href)+"").replace(br,At.protocol+"//"),j.type=n.method||n.type||j.method||j.type,j.dataTypes=(j.dataType||"*").toLowerCase().match(K)||[""],j.crossDomain==null){w=oe.createElement("a");try{w.href=j.url,w.href=w.href,j.crossDomain=ri.protocol+"//"+ri.host!=w.protocol+"//"+w.host}catch(de){j.crossDomain=!0}}if(j.data&&j.processData&&typeof j.data!="string"&&(j.data=t.param(j.data,j.traditional)),Xi(zi,j,n,ne),C)return ne;A=t.event&&j.global,A&&t.active++==0&&t.event.trigger("ajaxStart"),j.type=j.type.toUpperCase(),j.hasContent=!Rr.test(j.type),d=j.url.replace(Hr,""),j.hasContent?j.data&&j.processData&&(j.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&(j.data=j.data.replace(qr,"+")):(M=j.url.slice(d.length),j.data&&(j.processData||typeof j.data=="string")&&(d+=(ei.test(d)?"&":"?")+j.data,delete j.data),j.cache===!1&&(d=d.replace(Fr,"$1"),M=(ei.test(d)?"&":"?")+"_="+Bi.guid+++M),j.url=d+M),j.ifModified&&(t.lastModified[d]&&ne.setRequestHeader("If-Modified-Since",t.lastModified[d]),t.etag[d]&&ne.setRequestHeader("If-None-Match",t.etag[d])),(j.data&&j.hasContent&&j.contentType!==!1||n.contentType)&&ne.setRequestHeader("Content-Type",j.contentType),ne.setRequestHeader("Accept",j.dataTypes[0]&&j.accepts[j.dataTypes[0]]?j.accepts[j.dataTypes[0]]+(j.dataTypes[0]!=="*"?", "+Ki+"; q=0.01":""):j.accepts["*"]);for(L in j.headers)ne.setRequestHeader(L,j.headers[L]);if(j.beforeSend&&(j.beforeSend.call(q,ne,j)===!1||C))return ne.abort();if(he="abort",V.add(j.complete),ne.done(j.success),ne.fail(j.error),a=Xi(ii,j,n,ne),!a)Me(-1,"No Transport");else{if(ne.readyState=1,A&&Y.trigger("ajaxSend",[ne,j]),C)return ne;j.async&&j.timeout>0&&(_=l.setTimeout(function(){ne.abort("timeout")},j.timeout));try{C=!1,a.send(Te,Me)}catch(de){if(C)throw de;Me(-1,de)}}function Me(de,ye,Et,Mt){var Be,ct,dt,Ie,it,Xe=ye;C||(C=!0,_&&l.clearTimeout(_),a=void 0,h=Mt||"",ne.readyState=de>0?4:0,Be=de>=200&&de<300||de===304,Et&&(Ie=Br(j,ne,Et)),!Be&&t.inArray("script",j.dataTypes)>-1&&t.inArray("json",j.dataTypes)<0&&(j.converters["text script"]=function(){}),Ie=Wr(j,Ie,ne,Be),Be?(j.ifModified&&(it=ne.getResponseHeader("Last-Modified"),it&&(t.lastModified[d]=it),it=ne.getResponseHeader("etag"),it&&(t.etag[d]=it)),de===204||j.type==="HEAD"?Xe="nocontent":de===304?Xe="notmodified":(Xe=Ie.state,ct=Ie.data,dt=Ie.error,Be=!dt)):(dt=Xe,(de||!Xe)&&(Xe="error",de<0&&(de=0))),ne.status=de,ne.statusText=(ye||Xe)+"",Be?se.resolveWith(q,[ct,Xe,ne]):se.rejectWith(q,[ne,Xe,dt]),ne.statusCode(Ee),Ee=void 0,A&&Y.trigger(Be?"ajaxSuccess":"ajaxError",[ne,j,Be?ct:dt]),V.fireWith(q,[ne,Xe]),A&&(Y.trigger("ajaxComplete",[ne,j]),--t.active||t.event.trigger("ajaxStop")))}return ne},getJSON:function(i,n,a){return t.get(i,n,a,"json")},getScript:function(i,n){return t.get(i,void 0,n,"script")}}),t.each(["get","post"],function(i,n){t[n]=function(a,d,h,u){return ie(d)&&(u=u||h,h=d,d=void 0),t.ajax(t.extend({url:a,type:n,dataType:u,data:d,success:h},t.isPlainObject(a)&&a))}}),t.ajaxPrefilter(function(i){var n;for(n in i.headers)n.toLowerCase()==="content-type"&&(i.contentType=i.headers[n]||"")}),t._evalUrl=function(i,n,a){return t.ajax({url:i,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(d){t.globalEval(d,n,a)}})},t.fn.extend({wrapAll:function(i){var n;return this[0]&&(ie(i)&&(i=i.call(this[0])),n=t(i,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&n.insertBefore(this[0]),n.map(function(){for(var a=this;a.firstElementChild;)a=a.firstElementChild;return a}).append(this)),this},wrapInner:function(i){return ie(i)?this.each(function(n){t(this).wrapInner(i.call(this,n))}):this.each(function(){var n=t(this),a=n.contents();a.length?a.wrapAll(i):n.append(i)})},wrap:function(i){var n=ie(i);return this.each(function(a){t(this).wrapAll(n?i.call(this,a):i)})},unwrap:function(i){return this.parent(i).not("body").each(function(){t(this).replaceWith(this.childNodes)}),this}}),t.expr.pseudos.hidden=function(i){return!t.expr.pseudos.visible(i)},t.expr.pseudos.visible=function(i){return!!(i.offsetWidth||i.offsetHeight||i.getClientRects().length)},t.ajaxSettings.xhr=function(){try{return new l.XMLHttpRequest}catch(i){}};var zr={0:200,1223:204},St=t.ajaxSettings.xhr();ae.cors=!!St&&"withCredentials"in St,ae.ajax=St=!!St,t.ajaxTransport(function(i){var n,a;if(ae.cors||St&&!i.crossDomain)return{send:function(d,h){var u,_=i.xhr();if(_.open(i.type,i.url,i.async,i.username,i.password),i.xhrFields)for(u in i.xhrFields)_[u]=i.xhrFields[u];i.mimeType&&_.overrideMimeType&&_.overrideMimeType(i.mimeType),!i.crossDomain&&!d["X-Requested-With"]&&(d["X-Requested-With"]="XMLHttpRequest");for(u in d)_.setRequestHeader(u,d[u]);n=function(w){return function(){n&&(n=a=_.onload=_.onerror=_.onabort=_.ontimeout=_.onreadystatechange=null,w==="abort"?_.abort():w==="error"?typeof _.status!="number"?h(0,"error"):h(_.status,_.statusText):h(zr[_.status]||_.status,_.statusText,(_.responseType||"text")!=="text"||typeof _.responseText!="string"?{binary:_.response}:{text:_.responseText},_.getAllResponseHeaders()))}},_.onload=n(),a=_.onerror=_.ontimeout=n("error"),_.onabort!==void 0?_.onabort=a:_.onreadystatechange=function(){_.readyState===4&&l.setTimeout(function(){n&&a()})},n=n("abort");try{_.send(i.hasContent&&i.data||null)}catch(w){if(n)throw w}},abort:function(){n&&n()}}}),t.ajaxPrefilter(function(i){i.crossDomain&&(i.contents.script=!1)}),t.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(i){return t.globalEval(i),i}}}),t.ajaxPrefilter("script",function(i){i.cache===void 0&&(i.cache=!1),i.crossDomain&&(i.type="GET")}),t.ajaxTransport("script",function(i){if(i.crossDomain||i.scriptAttrs){var n,a;return{send:function(d,h){n=t("<script>").attr(i.scriptAttrs||{}).prop({charset:i.scriptCharset,src:i.url}).on("load error",a=function(u){n.remove(),a=null,u&&h(u.type==="error"?404:200,u.type)}),oe.head.appendChild(n[0])},abort:function(){a&&a()}}}});var Yi=[],si=/(=)\?(?=&|$)|\?\?/;t.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var i=Yi.pop()||t.expando+"_"+Bi.guid++;return this[i]=!0,i}}),t.ajaxPrefilter("json jsonp",function(i,n,a){var d,h,u,_=i.jsonp!==!1&&(si.test(i.url)?"url":typeof i.data=="string"&&(i.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&si.test(i.data)&&"data");if(_||i.dataTypes[0]==="jsonp")return d=i.jsonpCallback=ie(i.jsonpCallback)?i.jsonpCallback():i.jsonpCallback,_?i[_]=i[_].replace(si,"$1"+d):i.jsonp!==!1&&(i.url+=(ei.test(i.url)?"&":"?")+i.jsonp+"="+d),i.converters["script json"]=function(){return u||t.error(d+" was not called"),u[0]},i.dataTypes[0]="json",h=l[d],l[d]=function(){u=arguments},a.always(function(){h===void 0?t(l).removeProp(d):l[d]=h,i[d]&&(i.jsonpCallback=n.jsonpCallback,Yi.push(d)),u&&ie(h)&&h(u[0]),u=h=void 0}),"script"}),ae.createHTMLDocument=function(){var i=oe.implementation.createHTMLDocument("").body;return i.innerHTML="<form></form><form></form>",i.childNodes.length===2}(),t.parseHTML=function(i,n,a){if(typeof i!="string")return[];typeof n=="boolean"&&(a=n,n=!1);var d,h,u;return n||(ae.createHTMLDocument?(n=oe.implementation.createHTMLDocument(""),d=n.createElement("base"),d.href=oe.location.href,n.head.appendChild(d)):n=oe),h=k.exec(i),u=!a&&[],h?[n.createElement(h[1])]:(h=ki([i],n,u),u&&u.length&&t(u).remove(),t.merge([],h.childNodes))},t.fn.load=function(i,n,a){var d,h,u,_=this,w=i.indexOf(" ");return w>-1&&(d=ot(i.slice(w)),i=i.slice(0,w)),ie(n)?(a=n,n=void 0):n&&typeof n=="object"&&(h="POST"),_.length>0&&t.ajax({url:i,type:h||"GET",dataType:"html",data:n}).done(function(C){u=arguments,_.html(d?t("<div>").append(t.parseHTML(C)).find(d):C)}).always(a&&function(C,A){_.each(function(){a.apply(this,u||[C.responseText,A,C])})}),this},t.expr.pseudos.animated=function(i){return t.grep(t.timers,function(n){return i===n.elem}).length},t.offset={setOffset:function(i,n,a){var d,h,u,_,w,C,A,L=t.css(i,"position"),M=t(i),j={};L==="static"&&(i.style.position="relative"),w=M.offset(),u=t.css(i,"top"),C=t.css(i,"left"),A=(L==="absolute"||L==="fixed")&&(u+C).indexOf("auto")>-1,A?(d=M.position(),_=d.top,h=d.left):(_=parseFloat(u)||0,h=parseFloat(C)||0),ie(n)&&(n=n.call(i,a,t.extend({},w))),n.top!=null&&(j.top=n.top-w.top+_),n.left!=null&&(j.left=n.left-w.left+h),"using"in n?n.using.call(i,j):M.css(j)}},t.fn.extend({offset:function(i){if(arguments.length)return i===void 0?this:this.each(function(h){t.offset.setOffset(this,i,h)});var n,a,d=this[0];if(!!d)return d.getClientRects().length?(n=d.getBoundingClientRect(),a=d.ownerDocument.defaultView,{top:n.top+a.pageYOffset,left:n.left+a.pageXOffset}):{top:0,left:0}},position:function(){if(!!this[0]){var i,n,a,d=this[0],h={top:0,left:0};if(t.css(d,"position")==="fixed")n=d.getBoundingClientRect();else{for(n=this.offset(),a=d.ownerDocument,i=d.offsetParent||a.documentElement;i&&(i===a.body||i===a.documentElement)&&t.css(i,"position")==="static";)i=i.parentNode;i&&i!==d&&i.nodeType===1&&(h=t(i).offset(),h.top+=t.css(i,"borderTopWidth",!0),h.left+=t.css(i,"borderLeftWidth",!0))}return{top:n.top-h.top-t.css(d,"marginTop",!0),left:n.left-h.left-t.css(d,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var i=this.offsetParent;i&&t.css(i,"position")==="static";)i=i.offsetParent;return i||at})}}),t.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(i,n){var a=n==="pageYOffset";t.fn[i]=function(d){return Se(this,function(h,u,_){var w;if(Ke(h)?w=h:h.nodeType===9&&(w=h.defaultView),_===void 0)return w?w[n]:h[u];w?w.scrollTo(a?w.pageXOffset:_,a?_:w.pageYOffset):h[u]=_},i,d,arguments.length)}}),t.each(["top","left"],function(i,n){t.cssHooks[n]=Ei(ae.pixelPosition,function(a,d){if(d)return d=Tt(a,n),Jt.test(d)?t(a).position()[n]+"px":d})}),t.each({Height:"height",Width:"width"},function(i,n){t.each({padding:"inner"+i,content:n,"":"outer"+i},function(a,d){t.fn[d]=function(h,u){var _=arguments.length&&(a||typeof h!="boolean"),w=a||(h===!0||u===!0?"margin":"border");return Se(this,function(C,A,L){var M;return Ke(C)?d.indexOf("outer")===0?C["inner"+i]:C.document.documentElement["client"+i]:C.nodeType===9?(M=C.documentElement,Math.max(C.body["scroll"+i],M["scroll"+i],C.body["offset"+i],M["offset"+i],M["client"+i])):L===void 0?t.css(C,A,w):t.style(C,A,L,w)},n,_?h:void 0,_)}})}),t.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(i,n){t.fn[n]=function(a){return this.on(n,a)}}),t.fn.extend({bind:function(i,n,a){return this.on(i,null,n,a)},unbind:function(i,n){return this.off(i,null,n)},delegate:function(i,n,a,d){return this.on(n,i,a,d)},undelegate:function(i,n,a){return arguments.length===1?this.off(i,"**"):this.off(n,i||"**",a)},hover:function(i,n){return this.mouseenter(i).mouseleave(n||i)}}),t.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(i,n){t.fn[n]=function(a,d){return arguments.length>0?this.on(n,null,a,d):this.trigger(n)}});var Kr=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;t.proxy=function(i,n){var a,d,h;if(typeof n=="string"&&(a=i[n],n=i,i=a),!!ie(i))return d=Ne.call(arguments,2),h=function(){return i.apply(n||this,d.concat(Ne.call(arguments)))},h.guid=i.guid=i.guid||t.guid++,h},t.holdReady=function(i){i?t.readyWait++:t.ready(!0)},t.isArray=Array.isArray,t.parseJSON=JSON.parse,t.nodeName=y,t.isFunction=ie,t.isWindow=Ke,t.camelCase=ve,t.type=r,t.now=Date.now,t.isNumeric=function(i){var n=t.type(i);return(n==="number"||n==="string")&&!isNaN(i-parseFloat(i))},t.trim=function(i){return i==null?"":(i+"").replace(Kr,"")},typeof define=="function"&&define.amd&&define("jquery",[],function(){return t});var Ur=l.jQuery,Xr=l.$;return t.noConflict=function(i){return l.$===t&&(l.$=Xr),i&&l.jQuery===t&&(l.jQuery=Ur),t},typeof b=="undefined"&&(l.jQuery=l.$=t),t})});var sr=rr((vn,Xt)=>{(function(l){"use strict";typeof define=="function"&&define.amd?define(["jquery"],l):typeof Xt!="undefined"&&Xt.exports?Xt.exports=l(Ut()):l(jQuery)})(function(l,b){"use strict";if(!l.jstree){var ke=0,Ce=!1,Ne=!1,Ge=!1,gt=[],tt=l("script:last").attr("src"),te=window.document,nt=window.setImmediate,st=window.Promise;!nt&&st&&(nt=function(e,o){st.resolve(o).then(e)}),l.jstree={version:"3.3.11",defaults:{plugins:[]},plugins:{},path:tt&&tt.indexOf("/")!==-1?tt.replace(/\/[^\/]+$/,""):"",idregex:/[\\:&!^|()\[\]<>@*'+~#";.,=\- \/${}%?`]/g,root:"#"},l.jstree.create=function(e,o){var r=new l.jstree.core(++ke),s=o;return o=l.extend(!0,{},l.jstree.defaults,o),s&&s.plugins&&(o.plugins=s.plugins),l.each(o.plugins,function(t,c){t!=="core"&&(r=r.plugin(c,o[c]))}),l(e).data("jstree",r),r.init(e,o),r},l.jstree.destroy=function(){l(".jstree:jstree").jstree("destroy"),l(te).off(".jstree")},l.jstree.core=function(e){this._id=e,this._cnt=0,this._wrk=null,this._data={core:{themes:{name:!1,dots:!1,icons:!1,ellipsis:!1},selected:[],last_error:{},working:!1,worker_queue:[],focused:null}}},l.jstree.reference=function(e){var o=null,r=null;if(e&&e.id&&(!e.tagName||!e.nodeType)&&(e=e.id),!r||!r.length)try{r=l(e)}catch(s){}if(!r||!r.length)try{r=l("#"+e.replace(l.jstree.idregex,"\\$&"))}catch(s){}return r&&r.length&&(r=r.closest(".jstree")).length&&(r=r.data("jstree"))?o=r:l(".jstree").each(function(){var s=l(this).data("jstree");if(s&&s._model.data[e])return o=s,!1}),o},l.fn.jstree=function(e){var o=typeof e=="string",r=Array.prototype.slice.call(arguments,1),s=null;return e===!0&&!this.length?!1:(this.each(function(){var t=l.jstree.reference(this),c=o&&t?t[e]:null;if(s=o&&c?c.apply(t,r):null,!t&&!o&&(e===b||l.isPlainObject(e))&&l.jstree.create(this,e),(t&&!o||e===!0)&&(s=t||!1),s!==null&&s!==b)return!1}),s!==null&&s!==b?s:this)},l.expr.pseudos.jstree=l.expr.createPseudo(function(e){return function(o){return l(o).hasClass("jstree")&&l(o).data("jstree")!==b}}),l.jstree.defaults.core={data:!1,strings:!1,check_callback:!1,error:l.noop,animation:200,multiple:!0,themes:{name:!1,url:!1,dir:!1,dots:!0,icons:!0,ellipsis:!1,stripes:!1,variant:!1,responsive:!1},expand_selected_onload:!0,worker:!0,force_text:!1,dblclick_toggle:!0,loaded_state:!1,restore_focus:!0,compute_elements_positions:!1,keyboard:{"ctrl-space":function(e){e.type="click",l(e.currentTarget).trigger(e)},enter:function(e){e.type="click",l(e.currentTarget).trigger(e)},left:function(e){if(e.preventDefault(),this.is_open(e.currentTarget))this.close_node(e.currentTarget);else{var o=this.get_parent(e.currentTarget);o&&o.id!==l.jstree.root&&this.get_node(o,!0).children(".jstree-anchor").focus()}},up:function(e){e.preventDefault();var o=this.get_prev_dom(e.currentTarget);o&&o.length&&o.children(".jstree-anchor").focus()},right:function(e){if(e.preventDefault(),this.is_closed(e.currentTarget))this.open_node(e.currentTarget,function(r){this.get_node(r,!0).children(".jstree-anchor").focus()});else if(this.is_open(e.currentTarget)){var o=this.get_node(e.currentTarget,!0).children(".jstree-children")[0];o&&l(this._firstChild(o)).children(".jstree-anchor").focus()}},down:function(e){e.preventDefault();var o=this.get_next_dom(e.currentTarget);o&&o.length&&o.children(".jstree-anchor").focus()},"*":function(e){this.open_all()},home:function(e){e.preventDefault();var o=this._firstChild(this.get_container_ul()[0]);o&&l(o).children(".jstree-anchor").filter(":visible").focus()},end:function(e){e.preventDefault(),this.element.find(".jstree-anchor").filter(":visible").last().focus()},f2:function(e){e.preventDefault(),this.edit(e.currentTarget)}}},l.jstree.core.prototype={plugin:function(e,o){var r=l.jstree.plugins[e];return r?(this._data[e]={},r.prototype=this,new r(o,this)):this},init:function(e,o){this._model={data:{},changed:[],force_full_redraw:!1,redraw_timeout:!1,default_state:{loaded:!0,opened:!1,selected:!1,disabled:!1}},this._model.data[l.jstree.root]={id:l.jstree.root,parent:null,parents:[],children:[],children_d:[],state:{loaded:!1}},this.element=l(e).addClass("jstree jstree-"+this._id),this.settings=o,this._data.core.ready=!1,this._data.core.loaded=!1,this._data.core.rtl=this.element.css("direction")==="rtl",this.element[this._data.core.rtl?"addClass":"removeClass"]("jstree-rtl"),this.element.attr("role","tree"),this.settings.core.multiple&&this.element.attr("aria-multiselectable",!0),this.element.attr("tabindex")||this.element.attr("tabindex","0"),this.bind(),this.trigger("init"),this._data.core.original_container_html=this.element.find(" > ul > li").clone(!0),this._data.core.original_container_html.find("li").addBack().contents().filter(function(){return this.nodeType===3&&(!this.nodeValue||/^\s+$/.test(this.nodeValue))}).remove(),this.element.html("<ul class='jstree-container-ul jstree-children' role='group'><li id='j"+this._id+"_loading' class='jstree-initial-node jstree-loading jstree-leaf jstree-last' role='none'><i class='jstree-icon jstree-ocl'></i><a class='jstree-anchor' role='treeitem' href='#'><i class='jstree-icon jstree-themeicon-hidden'></i>"+this.get_string("Loading ...")+"</a></li></ul>"),this.element.attr("aria-activedescendant","j"+this._id+"_loading"),this._data.core.li_height=this.get_container_ul().children("li").first().outerHeight()||24,this._data.core.node=this._create_prototype_node(),this.trigger("loading"),this.load_node(l.jstree.root)},destroy:function(e){if(this.trigger("destroy"),this._wrk)try{window.URL.revokeObjectURL(this._wrk),this._wrk=null}catch(o){}e||this.element.empty(),this.teardown()},_create_prototype_node:function(){var e=te.createElement("LI"),o,r;return e.setAttribute("role","none"),o=te.createElement("I"),o.className="jstree-icon jstree-ocl",o.setAttribute("role","presentation"),e.appendChild(o),o=te.createElement("A"),o.className="jstree-anchor",o.setAttribute("href","#"),o.setAttribute("tabindex","-1"),o.setAttribute("role","treeitem"),r=te.createElement("I"),r.className="jstree-icon jstree-themeicon",r.setAttribute("role","presentation"),o.appendChild(r),e.appendChild(o),o=r=null,e},_kbevent_to_func:function(e){var o={8:"Backspace",9:"Tab",13:"Enter",19:"Pause",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"Print",45:"Insert",46:"Delete",96:"Numpad0",97:"Numpad1",98:"Numpad2",99:"Numpad3",100:"Numpad4",101:"Numpad5",102:"Numpad6",103:"Numpad7",104:"Numpad8",105:"Numpad9","-13":"NumpadEnter",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"Numlock",145:"Scrolllock",16:"Shift",17:"Ctrl",18:"Alt",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",59:";",61:"=",65:"a",66:"b",67:"c",68:"d",69:"e",70:"f",71:"g",72:"h",73:"i",74:"j",75:"k",76:"l",77:"m",78:"n",79:"o",80:"p",81:"q",82:"r",83:"s",84:"t",85:"u",86:"v",87:"w",88:"x",89:"y",90:"z",107:"+",109:"-",110:".",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",111:"/",106:"*",173:"-"},r=[];if(e.ctrlKey&&r.push("ctrl"),e.altKey&&r.push("alt"),e.shiftKey&&r.push("shift"),r.push(o[e.which]||e.which),r=r.sort().join("-").toLowerCase(),r==="shift-shift"||r==="ctrl-ctrl"||r==="alt-alt")return null;var s=this.settings.core.keyboard,t,c;for(t in s)if(s.hasOwnProperty(t)&&(c=t,c!=="-"&&c!=="+"&&(c=c.replace("--","-MINUS").replace("+-","-MINUS").replace("++","-PLUS").replace("-+","-PLUS"),c=c.split(/-|\+/).sort().join("-").replace("MINUS","-").replace("PLUS","+").toLowerCase()),c===r))return s[t];return null},teardown:function(){this.unbind(),this.element.removeClass("jstree").removeData("jstree").find("[class^='jstree']").addBack().attr("class",function(){return this.className.replace(/jstree[^ ]*|$/ig,"")}),this.element=null},bind:function(){var e="",o=null,r=0;this.element.on("dblclick.jstree",function(s){if(s.target.tagName&&s.target.tagName.toLowerCase()==="input")return!0;if(te.selection&&te.selection.empty)te.selection.empty();else if(window.getSelection){var t=window.getSelection();try{t.removeAllRanges(),t.collapse()}catch(c){}}}).on("mousedown.jstree",l.proxy(function(s){s.target===this.element[0]&&(s.preventDefault(),r=+new Date)},this)).on("mousedown.jstree",".jstree-ocl",function(s){s.preventDefault()}).on("click.jstree",".jstree-ocl",l.proxy(function(s){this.toggle_node(s.target)},this)).on("dblclick.jstree",".jstree-anchor",l.proxy(function(s){if(s.target.tagName&&s.target.tagName.toLowerCase()==="input")return!0;this.settings.core.dblclick_toggle&&this.toggle_node(s.target)},this)).on("click.jstree",".jstree-anchor",l.proxy(function(s){s.preventDefault(),s.currentTarget!==te.activeElement&&l(s.currentTarget).focus(),this.activate_node(s.currentTarget,s)},this)).on("keydown.jstree",".jstree-anchor",l.proxy(function(s){if(s.target.tagName&&s.target.tagName.toLowerCase()==="input")return!0;this._data.core.rtl&&(s.which===37?s.which=39:s.which===39&&(s.which=37));var t=this._kbevent_to_func(s);if(t){var c=t.call(this,s);if(c===!1||c===!0)return c}},this)).on("load_node.jstree",l.proxy(function(s,t){t.status&&(t.node.id===l.jstree.root&&!this._data.core.loaded&&(this._data.core.loaded=!0,this._firstChild(this.get_container_ul()[0])&&this.element.attr("aria-activedescendant",this._firstChild(this.get_container_ul()[0]).id),this.trigger("loaded")),this._data.core.ready||setTimeout(l.proxy(function(){if(this.element&&!this.get_container_ul().find(".jstree-loading").length){if(this._data.core.ready=!0,this._data.core.selected.length){if(this.settings.core.expand_selected_onload){var c=[],f,p;for(f=0,p=this._data.core.selected.length;f<p;f++)c=c.concat(this._model.data[this._data.core.selected[f]].parents);for(c=l.vakata.array_unique(c),f=0,p=c.length;f<p;f++)this.open_node(c[f],!1,0)}this.trigger("changed",{action:"ready",selected:this._data.core.selected})}this.trigger("ready")}},this),0))},this)).on("keypress.jstree",l.proxy(function(s){if(s.target.tagName&&s.target.tagName.toLowerCase()==="input")return!0;o&&clearTimeout(o),o=setTimeout(function(){e=""},500);var t=String.fromCharCode(s.which).toLowerCase(),c=this.element.find(".jstree-anchor").filter(":visible"),f=c.index(te.activeElement)||0,p=!1;e+=t,!(e.length>1&&(c.slice(f).each(l.proxy(function(g,m){if(l(m).text().toLowerCase().indexOf(e)===0)return l(m).focus(),p=!0,!1},this)),p||(c.slice(0,f).each(l.proxy(function(g,m){if(l(m).text().toLowerCase().indexOf(e)===0)return l(m).focus(),p=!0,!1},this)),p)))&&!(new RegExp("^"+t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")+"+$").test(e)&&(c.slice(f+1).each(l.proxy(function(g,m){if(l(m).text().toLowerCase().charAt(0)===t)return l(m).focus(),p=!0,!1},this)),p||(c.slice(0,f+1).each(l.proxy(function(g,m){if(l(m).text().toLowerCase().charAt(0)===t)return l(m).focus(),p=!0,!1},this)),p)))},this)).on("init.jstree",l.proxy(function(){var s=this.settings.core.themes;this._data.core.themes.dots=s.dots,this._data.core.themes.stripes=s.stripes,this._data.core.themes.icons=s.icons,this._data.core.themes.ellipsis=s.ellipsis,this.set_theme(s.name||"default",s.url),this.set_theme_variant(s.variant)},this)).on("loading.jstree",l.proxy(function(){this[this._data.core.themes.dots?"show_dots":"hide_dots"](),this[this._data.core.themes.icons?"show_icons":"hide_icons"](),this[this._data.core.themes.stripes?"show_stripes":"hide_stripes"](),this[this._data.core.themes.ellipsis?"show_ellipsis":"hide_ellipsis"]()},this)).on("blur.jstree",".jstree-anchor",l.proxy(function(s){this._data.core.focused=null,l(s.currentTarget).filter(".jstree-hovered").trigger("mouseleave"),this.element.attr("tabindex","0")},this)).on("focus.jstree",".jstree-anchor",l.proxy(function(s){var t=this.get_node(s.currentTarget);t&&t.id&&(this._data.core.focused=t.id),this.element.find(".jstree-hovered").not(s.currentTarget).trigger("mouseleave"),l(s.currentTarget).trigger("mouseenter"),this.element.attr("tabindex","-1")},this)).on("focus.jstree",l.proxy(function(){if(+new Date-r>500&&!this._data.core.focused&&this.settings.core.restore_focus){r=0;var s=this.get_node(this.element.attr("aria-activedescendant"),!0);s&&s.find("> .jstree-anchor").focus()}},this)).on("mouseenter.jstree",".jstree-anchor",l.proxy(function(s){this.hover_node(s.currentTarget)},this)).on("mouseleave.jstree",".jstree-anchor",l.proxy(function(s){this.dehover_node(s.currentTarget)},this))},unbind:function(){this.element.off(".jstree"),l(te).off(".jstree-"+this._id)},trigger:function(e,o){o||(o={}),o.instance=this,this.element.triggerHandler(e.replace(".jstree","")+".jstree",o)},get_container:function(){return this.element},get_container_ul:function(){return this.element.children(".jstree-children").first()},get_string:function(e){var o=this.settings.core.strings;return l.isFunction(o)?o.call(this,e):o&&o[e]?o[e]:e},_firstChild:function(e){for(e=e?e.firstChild:null;e!==null&&e.nodeType!==1;)e=e.nextSibling;return e},_nextSibling:function(e){for(e=e?e.nextSibling:null;e!==null&&e.nodeType!==1;)e=e.nextSibling;return e},_previousSibling:function(e){for(e=e?e.previousSibling:null;e!==null&&e.nodeType!==1;)e=e.previousSibling;return e},get_node:function(e,o){e&&e.id&&(e=e.id),e instanceof l&&e.length&&e[0].id&&(e=e[0].id);var r;try{if(this._model.data[e])e=this._model.data[e];else if(typeof e=="string"&&this._model.data[e.replace(/^#/,"")])e=this._model.data[e.replace(/^#/,"")];else if(typeof e=="string"&&(r=l("#"+e.replace(l.jstree.idregex,"\\$&"),this.element)).length&&this._model.data[r.closest(".jstree-node").attr("id")])e=this._model.data[r.closest(".jstree-node").attr("id")];else if((r=this.element.find(e)).length&&this._model.data[r.closest(".jstree-node").attr("id")])e=this._model.data[r.closest(".jstree-node").attr("id")];else if((r=this.element.find(e)).length&&r.hasClass("jstree"))e=this._model.data[l.jstree.root];else return!1;return o&&(e=e.id===l.jstree.root?this.element:l("#"+e.id.replace(l.jstree.idregex,"\\$&"),this.element)),e}catch(s){return!1}},get_path:function(e,o,r){if(e=e.parents?e:this.get_node(e),!e||e.id===l.jstree.root||!e.parents)return!1;var s,t,c=[];for(c.push(r?e.id:e.text),s=0,t=e.parents.length;s<t;s++)c.push(r?e.parents[s]:this.get_text(e.parents[s]));return c=c.reverse().slice(1),o?c.join(o):c},get_next_dom:function(e,o){var r;if(e=this.get_node(e,!0),e[0]===this.element[0]){for(r=this._firstChild(this.get_container_ul()[0]);r&&r.offsetHeight===0;)r=this._nextSibling(r);return r?l(r):!1}if(!e||!e.length)return!1;if(o){r=e[0];do r=this._nextSibling(r);while(r&&r.offsetHeight===0);return r?l(r):!1}if(e.hasClass("jstree-open")){for(r=this._firstChild(e.children(".jstree-children")[0]);r&&r.offsetHeight===0;)r=this._nextSibling(r);if(r!==null)return l(r)}r=e[0];do r=this._nextSibling(r);while(r&&r.offsetHeight===0);return r!==null?l(r):e.parentsUntil(".jstree",".jstree-node").nextAll(".jstree-node:visible").first()},get_prev_dom:function(e,o){var r;if(e=this.get_node(e,!0),e[0]===this.element[0]){for(r=this.get_container_ul()[0].lastChild;r&&r.offsetHeight===0;)r=this._previousSibling(r);return r?l(r):!1}if(!e||!e.length)return!1;if(o){r=e[0];do r=this._previousSibling(r);while(r&&r.offsetHeight===0);return r?l(r):!1}r=e[0];do r=this._previousSibling(r);while(r&&r.offsetHeight===0);if(r!==null){for(e=l(r);e.hasClass("jstree-open");)e=e.children(".jstree-children").first().children(".jstree-node:visible:last");return e}return r=e[0].parentNode.parentNode,r&&r.className&&r.className.indexOf("jstree-node")!==-1?l(r):!1},get_parent:function(e){return e=this.get_node(e),!e||e.id===l.jstree.root?!1:e.parent},get_children_dom:function(e){return e=this.get_node(e,!0),e[0]===this.element[0]?this.get_container_ul().children(".jstree-node"):!e||!e.length?!1:e.children(".jstree-children").children(".jstree-node")},is_parent:function(e){return e=this.get_node(e),e&&(e.state.loaded===!1||e.children.length>0)},is_loaded:function(e){return e=this.get_node(e),e&&e.state.loaded},is_loading:function(e){return e=this.get_node(e),e&&e.state&&e.state.loading},is_open:function(e){return e=this.get_node(e),e&&e.state.opened},is_closed:function(e){return e=this.get_node(e),e&&this.is_parent(e)&&!e.state.opened},is_leaf:function(e){return!this.is_parent(e)},load_node:function(e,o){var r,s,t,c,f;if(l.isArray(e))return this._load_nodes(e.slice(),o),!0;if(e=this.get_node(e),!e)return o&&o.call(this,e,!1),!1;if(e.state.loaded){for(e.state.loaded=!1,t=0,c=e.parents.length;t<c;t++)this._model.data[e.parents[t]].children_d=l.vakata.array_filter(this._model.data[e.parents[t]].children_d,function(p){return l.inArray(p,e.children_d)===-1});for(r=0,s=e.children_d.length;r<s;r++)this._model.data[e.children_d[r]].state.selected&&(f=!0),delete this._model.data[e.children_d[r]];f&&(this._data.core.selected=l.vakata.array_filter(this._data.core.selected,function(p){return l.inArray(p,e.children_d)===-1})),e.children=[],e.children_d=[],f&&this.trigger("changed",{action:"load_node",node:e,selected:this._data.core.selected})}return e.state.failed=!1,e.state.loading=!0,this.get_node(e,!0).addClass("jstree-loading").attr("aria-busy",!0),this._load_node(e,l.proxy(function(p){e=this._model.data[e.id],e.state.loading=!1,e.state.loaded=p,e.state.failed=!e.state.loaded;var g=this.get_node(e,!0),m=0,y=0,k=this._model.data,N=!1;for(m=0,y=e.children.length;m<y;m++)if(k[e.children[m]]&&!k[e.children[m]].state.hidden){N=!0;break}e.state.loaded&&g&&g.length&&(g.removeClass("jstree-closed jstree-open jstree-leaf"),N?e.id!=="#"&&g.addClass(e.state.opened?"jstree-open":"jstree-closed"):g.addClass("jstree-leaf")),g.removeClass("jstree-loading").attr("aria-busy",!1),this.trigger("load_node",{node:e,status:p}),o&&o.call(this,e,p)},this)),!0},_load_nodes:function(e,o,r,s){var t=!0,c=function(){this._load_nodes(e,o,!0)},f=this._model.data,p,g,m=[];for(p=0,g=e.length;p<g;p++)f[e[p]]&&(!f[e[p]].state.loaded&&!f[e[p]].state.failed||!r&&s)&&(this.is_loading(e[p])||this.load_node(e[p],c),t=!1);if(t){for(p=0,g=e.length;p<g;p++)f[e[p]]&&f[e[p]].state.loaded&&m.push(e[p]);o&&!o.done&&(o.call(this,m),o.done=!0)}},load_all:function(e,o){if(e||(e=l.jstree.root),e=this.get_node(e),!e)return!1;var r=[],s=this._model.data,t=s[e.id].children_d,c,f;for(e.state&&!e.state.loaded&&r.push(e.id),c=0,f=t.length;c<f;c++)s[t[c]]&&s[t[c]].state&&!s[t[c]].state.loaded&&r.push(t[c]);r.length?this._load_nodes(r,function(){this.load_all(e,o)}):(o&&o.call(this,e),this.trigger("load_all",{node:e}))},_load_node:function(e,o){var r=this.settings.core.data,s,t=function(){return this.nodeType!==3&&this.nodeType!==8};return r?l.isFunction(r)?r.call(this,e,l.proxy(function(c){c===!1?o.call(this,!1):this[typeof c=="string"?"_append_html_data":"_append_json_data"](e,typeof c=="string"?l(l.parseHTML(c)).filter(t):c,function(f){o.call(this,f)})},this)):typeof r=="object"?r.url?(r=l.extend(!0,{},r),l.isFunction(r.url)&&(r.url=r.url.call(this,e)),l.isFunction(r.data)&&(r.data=r.data.call(this,e)),l.ajax(r).done(l.proxy(function(c,f,p){var g=p.getResponseHeader("Content-Type");return g&&g.indexOf("json")!==-1||typeof c=="object"?this._append_json_data(e,c,function(m){o.call(this,m)}):g&&g.indexOf("html")!==-1||typeof c=="string"?this._append_html_data(e,l(l.parseHTML(c)).filter(t),function(m){o.call(this,m)}):(this._data.core.last_error={error:"ajax",plugin:"core",id:"core_04",reason:"Could not load node",data:JSON.stringify({id:e.id,xhr:p})},this.settings.core.error.call(this,this._data.core.last_error),o.call(this,!1))},this)).fail(l.proxy(function(c){this._data.core.last_error={error:"ajax",plugin:"core",id:"core_04",reason:"Could not load node",data:JSON.stringify({id:e.id,xhr:c})},o.call(this,!1),this.settings.core.error.call(this,this._data.core.last_error)},this))):(l.isArray(r)?s=l.extend(!0,[],r):l.isPlainObject(r)?s=l.extend(!0,{},r):s=r,e.id===l.jstree.root?this._append_json_data(e,s,function(c){o.call(this,c)}):(this._data.core.last_error={error:"nodata",plugin:"core",id:"core_05",reason:"Could not load node",data:JSON.stringify({id:e.id})},this.settings.core.error.call(this,this._data.core.last_error),o.call(this,!1))):typeof r=="string"?e.id===l.jstree.root?this._append_html_data(e,l(l.parseHTML(r)).filter(t),function(c){o.call(this,c)}):(this._data.core.last_error={error:"nodata",plugin:"core",id:"core_06",reason:"Could not load node",data:JSON.stringify({id:e.id})},this.settings.core.error.call(this,this._data.core.last_error),o.call(this,!1)):o.call(this,!1):e.id===l.jstree.root?this._append_html_data(e,this._data.core.original_container_html.clone(!0),function(c){o.call(this,c)}):o.call(this,!1)},_node_changed:function(e){e=this.get_node(e),e&&l.inArray(e.id,this._model.changed)===-1&&this._model.changed.push(e.id)},_append_html_data:function(e,o,r){e=this.get_node(e),e.children=[],e.children_d=[];var s=o.is("ul")?o.children():o,t=e.id,c=[],f=[],p=this._model.data,g=p[t],m=this._data.core.selected.length,y,k,N;for(s.each(l.proxy(function(E,D){y=this._parse_model_from_html(l(D),t,g.parents.concat()),y&&(c.push(y),f.push(y),p[y].children_d.length&&(f=f.concat(p[y].children_d)))},this)),g.children=c,g.children_d=f,k=0,N=g.parents.length;k<N;k++)p[g.parents[k]].children_d=p[g.parents[k]].children_d.concat(f);this.trigger("model",{nodes:f,parent:t}),t!==l.jstree.root?(this._node_changed(t),this.redraw()):(this.get_container_ul().children(".jstree-initial-node").remove(),this.redraw(!0)),this._data.core.selected.length!==m&&this.trigger("changed",{action:"model",selected:this._data.core.selected}),r.call(this,!0)},_append_json_data:function(e,o,r,s){if(this.element!==null){e=this.get_node(e),e.children=[],e.children_d=[],o.d&&(o=o.d,typeof o=="string"&&(o=JSON.parse(o))),l.isArray(o)||(o=[o]);var t=null,c={df:this._model.default_state,dat:o,par:e.id,m:this._model.data,t_id:this._id,t_cnt:this._cnt,sel:this._data.core.selected},f=this,p=function(m,y){m.data&&(m=m.data);var k=m.dat,N=m.par,E=[],D=[],P=[],O=m.df,J=m.t_id,le=m.t_cnt,K=m.m,re=K[N],Ae=m.sel,me,ee,pe,je,De=function(R,qe,Le){Le?Le=Le.concat():Le=[],qe&&Le.unshift(qe);var ve=R.id.toString(),X,Re,U,xe,z={id:ve,text:R.text||"",icon:R.icon!==y?R.icon:!0,parent:qe,parents:Le,children:R.children||[],children_d:R.children_d||[],data:R.data,state:{},li_attr:{id:!1},a_attr:{href:"#"},original:!1};for(X in O)O.hasOwnProperty(X)&&(z.state[X]=O[X]);if(R&&R.data&&R.data.jstree&&R.data.jstree.icon&&(z.icon=R.data.jstree.icon),(z.icon===y||z.icon===null||z.icon==="")&&(z.icon=!0),R&&R.data&&(z.data=R.data,R.data.jstree))for(X in R.data.jstree)R.data.jstree.hasOwnProperty(X)&&(z.state[X]=R.data.jstree[X]);if(R&&typeof R.state=="object")for(X in R.state)R.state.hasOwnProperty(X)&&(z.state[X]=R.state[X]);if(R&&typeof R.li_attr=="object")for(X in R.li_attr)R.li_attr.hasOwnProperty(X)&&(z.li_attr[X]=R.li_attr[X]);if(z.li_attr.id||(z.li_attr.id=ve),R&&typeof R.a_attr=="object")for(X in R.a_attr)R.a_attr.hasOwnProperty(X)&&(z.a_attr[X]=R.a_attr[X]);for(R&&R.children&&R.children===!0&&(z.state.loaded=!1,z.children=[],z.children_d=[]),K[z.id]=z,X=0,Re=z.children.length;X<Re;X++)U=De(K[z.children[X]],z.id,Le),xe=K[U],z.children_d.push(U),xe.children_d.length&&(z.children_d=z.children_d.concat(xe.children_d));return delete R.data,delete R.children,K[z.id].original=R,z.state.selected&&P.push(z.id),z.id},Se=function(R,qe,Le){Le?Le=Le.concat():Le=[],qe&&Le.unshift(qe);var ve=!1,X,Re,U,xe,z;do ve="j"+J+"_"+ ++le;while(K[ve]);z={id:!1,text:typeof R=="string"?R:"",icon:typeof R=="object"&&R.icon!==y?R.icon:!0,parent:qe,parents:Le,children:[],children_d:[],data:null,state:{},li_attr:{id:!1},a_attr:{href:"#"},original:!1};for(X in O)O.hasOwnProperty(X)&&(z.state[X]=O[X]);if(R&&R.id&&(z.id=R.id.toString()),R&&R.text&&(z.text=R.text),R&&R.data&&R.data.jstree&&R.data.jstree.icon&&(z.icon=R.data.jstree.icon),(z.icon===y||z.icon===null||z.icon==="")&&(z.icon=!0),R&&R.data&&(z.data=R.data,R.data.jstree))for(X in R.data.jstree)R.data.jstree.hasOwnProperty(X)&&(z.state[X]=R.data.jstree[X]);if(R&&typeof R.state=="object")for(X in R.state)R.state.hasOwnProperty(X)&&(z.state[X]=R.state[X]);if(R&&typeof R.li_attr=="object")for(X in R.li_attr)R.li_attr.hasOwnProperty(X)&&(z.li_attr[X]=R.li_attr[X]);if(z.li_attr.id&&!z.id&&(z.id=z.li_attr.id.toString()),z.id||(z.id=ve),z.li_attr.id||(z.li_attr.id=z.id),R&&typeof R.a_attr=="object")for(X in R.a_attr)R.a_attr.hasOwnProperty(X)&&(z.a_attr[X]=R.a_attr[X]);if(R&&R.children&&R.children.length){for(X=0,Re=R.children.length;X<Re;X++)U=Se(R.children[X],z.id,Le),xe=K[U],z.children.push(U),xe.children_d.length&&(z.children_d=z.children_d.concat(xe.children_d));z.children_d=z.children_d.concat(z.children)}return R&&R.children&&R.children===!0&&(z.state.loaded=!1,z.children=[],z.children_d=[]),delete R.data,delete R.children,z.original=R,K[z.id]=z,z.state.selected&&P.push(z.id),z.id};if(k.length&&k[0].id!==y&&k[0].parent!==y){for(ee=0,pe=k.length;ee<pe;ee++)k[ee].children||(k[ee].children=[]),k[ee].state||(k[ee].state={}),K[k[ee].id.toString()]=k[ee];for(ee=0,pe=k.length;ee<pe;ee++){if(!K[k[ee].parent.toString()]){typeof f!="undefined"&&(f._data.core.last_error={error:"parse",plugin:"core",id:"core_07",reason:"Node with invalid parent",data:JSON.stringify({id:k[ee].id.toString(),parent:k[ee].parent.toString()})},f.settings.core.error.call(f,f._data.core.last_error));continue}K[k[ee].parent.toString()].children.push(k[ee].id.toString()),re.children_d.push(k[ee].id.toString())}for(ee=0,pe=re.children.length;ee<pe;ee++)me=De(K[re.children[ee]],N,re.parents.concat()),D.push(me),K[me].children_d.length&&(D=D.concat(K[me].children_d));for(ee=0,pe=re.parents.length;ee<pe;ee++)K[re.parents[ee]].children_d=K[re.parents[ee]].children_d.concat(D);je={cnt:le,mod:K,sel:Ae,par:N,dpc:D,add:P}}else{for(ee=0,pe=k.length;ee<pe;ee++)me=Se(k[ee],N,re.parents.concat()),me&&(E.push(me),D.push(me),K[me].children_d.length&&(D=D.concat(K[me].children_d)));for(re.children=E,re.children_d=D,ee=0,pe=re.parents.length;ee<pe;ee++)K[re.parents[ee]].children_d=K[re.parents[ee]].children_d.concat(D);je={cnt:le,mod:K,sel:Ae,par:N,dpc:D,add:P}}if(typeof window=="undefined"||typeof window.document=="undefined")postMessage(je);else return je},g=function(m,y){if(this.element!==null){this._cnt=m.cnt;var k,N=this._model.data;for(k in N)N.hasOwnProperty(k)&&N[k].state&&N[k].state.loading&&m.mod[k]&&(m.mod[k].state.loading=!0);if(this._model.data=m.mod,y){var E,D=m.add,P=m.sel,O=this._data.core.selected.slice();if(N=this._model.data,P.length!==O.length||l.vakata.array_unique(P.concat(O)).length!==P.length){for(k=0,E=P.length;k<E;k++)l.inArray(P[k],D)===-1&&l.inArray(P[k],O)===-1&&(N[P[k]].state.selected=!1);for(k=0,E=O.length;k<E;k++)l.inArray(O[k],P)===-1&&(N[O[k]].state.selected=!0)}}m.add.length&&(this._data.core.selected=this._data.core.selected.concat(m.add)),this.trigger("model",{nodes:m.dpc,parent:m.par}),m.par!==l.jstree.root?(this._node_changed(m.par),this.redraw()):this.redraw(!0),m.add.length&&this.trigger("changed",{action:"model",selected:this._data.core.selected}),!y&&nt?nt(function(){r.call(f,!0)}):r.call(f,!0)}};if(this.settings.core.worker&&window.Blob&&window.URL&&window.Worker)try{this._wrk===null&&(this._wrk=window.URL.createObjectURL(new window.Blob(["self.onmessage = "+p.toString()],{type:"text/javascript"}))),!this._data.core.working||s?(this._data.core.working=!0,t=new window.Worker(this._wrk),t.onmessage=l.proxy(function(m){g.call(this,m.data,!0);try{t.terminate(),t=null}catch(y){}this._data.core.worker_queue.length?this._append_json_data.apply(this,this._data.core.worker_queue.shift()):this._data.core.working=!1},this),c.par?t.postMessage(c):this._data.core.worker_queue.length?this._append_json_data.apply(this,this._data.core.worker_queue.shift()):this._data.core.working=!1):this._data.core.worker_queue.push([e,o,r,!0])}catch(m){g.call(this,p(c),!1),this._data.core.worker_queue.length?this._append_json_data.apply(this,this._data.core.worker_queue.shift()):this._data.core.working=!1}else g.call(this,p(c),!1)}},_parse_model_from_html:function(e,o,r){r?r=[].concat(r):r=[],o&&r.unshift(o);var s,t,c=this._model.data,f={id:!1,text:!1,icon:!0,parent:o,parents:r,children:[],children_d:[],data:null,state:{},li_attr:{id:!1},a_attr:{href:"#"},original:!1},p,g,m;for(p in this._model.default_state)this._model.default_state.hasOwnProperty(p)&&(f.state[p]=this._model.default_state[p]);if(g=l.vakata.attributes(e,!0),l.each(g,function(y,k){if(k=l.vakata.trim(k),!k.length)return!0;f.li_attr[y]=k,y==="id"&&(f.id=k.toString())}),g=e.children("a").first(),g.length&&(g=l.vakata.attributes(g,!0),l.each(g,function(y,k){k=l.vakata.trim(k),k.length&&(f.a_attr[y]=k)})),g=e.children("a").first().length?e.children("a").first().clone():e.clone(),g.children("ins, i, ul").remove(),g=g.html(),g=l("<div></div>").html(g),f.text=this.settings.core.force_text?g.text():g.html(),g=e.data(),f.data=g?l.extend(!0,{},g):null,f.state.opened=e.hasClass("jstree-open"),f.state.selected=e.children("a").hasClass("jstree-clicked"),f.state.disabled=e.children("a").hasClass("jstree-disabled"),f.data&&f.data.jstree)for(p in f.data.jstree)f.data.jstree.hasOwnProperty(p)&&(f.state[p]=f.data.jstree[p]);g=e.children("a").children(".jstree-themeicon"),g.length&&(f.icon=g.hasClass("jstree-themeicon-hidden")?!1:g.attr("rel")),f.state.icon!==b&&(f.icon=f.state.icon),(f.icon===b||f.icon===null||f.icon==="")&&(f.icon=!0),g=e.children("ul").children("li");do m="j"+this._id+"_"+ ++this._cnt;while(c[m]);return f.id=f.li_attr.id?f.li_attr.id.toString():m,g.length?(g.each(l.proxy(function(y,k){s=this._parse_model_from_html(l(k),f.id,r),t=this._model.data[s],f.children.push(s),t.children_d.length&&(f.children_d=f.children_d.concat(t.children_d))},this)),f.children_d=f.children_d.concat(f.children)):e.hasClass("jstree-closed")&&(f.state.loaded=!1),f.li_attr.class&&(f.li_attr.class=f.li_attr.class.replace("jstree-closed","").replace("jstree-open","")),f.a_attr.class&&(f.a_attr.class=f.a_attr.class.replace("jstree-clicked","").replace("jstree-disabled","")),c[f.id]=f,f.state.selected&&this._data.core.selected.push(f.id),f.id},_parse_model_from_flat_json:function(e,o,r){r?r=r.concat():r=[],o&&r.unshift(o);var s=e.id.toString(),t=this._model.data,c=this._model.default_state,f,p,g,m,y={id:s,text:e.text||"",icon:e.icon!==b?e.icon:!0,parent:o,parents:r,children:e.children||[],children_d:e.children_d||[],data:e.data,state:{},li_attr:{id:!1},a_attr:{href:"#"},original:!1};for(f in c)c.hasOwnProperty(f)&&(y.state[f]=c[f]);if(e&&e.data&&e.data.jstree&&e.data.jstree.icon&&(y.icon=e.data.jstree.icon),(y.icon===b||y.icon===null||y.icon==="")&&(y.icon=!0),e&&e.data&&(y.data=e.data,e.data.jstree))for(f in e.data.jstree)e.data.jstree.hasOwnProperty(f)&&(y.state[f]=e.data.jstree[f]);if(e&&typeof e.state=="object")for(f in e.state)e.state.hasOwnProperty(f)&&(y.state[f]=e.state[f]);if(e&&typeof e.li_attr=="object")for(f in e.li_attr)e.li_attr.hasOwnProperty(f)&&(y.li_attr[f]=e.li_attr[f]);if(y.li_attr.id||(y.li_attr.id=s),e&&typeof e.a_attr=="object")for(f in e.a_attr)e.a_attr.hasOwnProperty(f)&&(y.a_attr[f]=e.a_attr[f]);for(e&&e.children&&e.children===!0&&(y.state.loaded=!1,y.children=[],y.children_d=[]),t[y.id]=y,f=0,p=y.children.length;f<p;f++)g=this._parse_model_from_flat_json(t[y.children[f]],y.id,r),m=t[g],y.children_d.push(g),m.children_d.length&&(y.children_d=y.children_d.concat(m.children_d));return delete e.data,delete e.children,t[y.id].original=e,y.state.selected&&this._data.core.selected.push(y.id),y.id},_parse_model_from_json:function(e,o,r){r?r=r.concat():r=[],o&&r.unshift(o);var s=!1,t,c,f,p,g=this._model.data,m=this._model.default_state,y;do s="j"+this._id+"_"+ ++this._cnt;while(g[s]);y={id:!1,text:typeof e=="string"?e:"",icon:typeof e=="object"&&e.icon!==b?e.icon:!0,parent:o,parents:r,children:[],children_d:[],data:null,state:{},li_attr:{id:!1},a_attr:{href:"#"},original:!1};for(t in m)m.hasOwnProperty(t)&&(y.state[t]=m[t]);if(e&&e.id&&(y.id=e.id.toString()),e&&e.text&&(y.text=e.text),e&&e.data&&e.data.jstree&&e.data.jstree.icon&&(y.icon=e.data.jstree.icon),(y.icon===b||y.icon===null||y.icon==="")&&(y.icon=!0),e&&e.data&&(y.data=e.data,e.data.jstree))for(t in e.data.jstree)e.data.jstree.hasOwnProperty(t)&&(y.state[t]=e.data.jstree[t]);if(e&&typeof e.state=="object")for(t in e.state)e.state.hasOwnProperty(t)&&(y.state[t]=e.state[t]);if(e&&typeof e.li_attr=="object")for(t in e.li_attr)e.li_attr.hasOwnProperty(t)&&(y.li_attr[t]=e.li_attr[t]);if(y.li_attr.id&&!y.id&&(y.id=y.li_attr.id.toString()),y.id||(y.id=s),y.li_attr.id||(y.li_attr.id=y.id),e&&typeof e.a_attr=="object")for(t in e.a_attr)e.a_attr.hasOwnProperty(t)&&(y.a_attr[t]=e.a_attr[t]);if(e&&e.children&&e.children.length){for(t=0,c=e.children.length;t<c;t++)f=this._parse_model_from_json(e.children[t],y.id,r),p=g[f],y.children.push(f),p.children_d.length&&(y.children_d=y.children_d.concat(p.children_d));y.children_d=y.children.concat(y.children_d)}return e&&e.children&&e.children===!0&&(y.state.loaded=!1,y.children=[],y.children_d=[]),delete e.data,delete e.children,y.original=e,g[y.id]=y,y.state.selected&&this._data.core.selected.push(y.id),y.id},_redraw:function(){var e=this._model.force_full_redraw?this._model.data[l.jstree.root].children.concat([]):this._model.changed.concat([]),o=te.createElement("UL"),r,s,t,c=this._data.core.focused;for(s=0,t=e.length;s<t;s++)r=this.redraw_node(e[s],!0,this._model.force_full_redraw),r&&this._model.force_full_redraw&&o.appendChild(r);this._model.force_full_redraw&&(o.className=this.get_container_ul()[0].className,o.setAttribute("role","group"),this.element.empty().append(o)),c!==null&&this.settings.core.restore_focus&&(r=this.get_node(c,!0),r&&r.length&&r.children(".jstree-anchor")[0]!==te.activeElement?r.children(".jstree-anchor").focus():this._data.core.focused=null),this._model.force_full_redraw=!1,this._model.changed=[],this.trigger("redraw",{nodes:e})},redraw:function(e){e&&(this._model.force_full_redraw=!0),this._redraw()},draw_children:function(e){var o=this.get_node(e),r=!1,s=!1,t=!1,c=te;if(!o)return!1;if(o.id===l.jstree.root)return this.redraw(!0);if(e=this.get_node(e,!0),!e||!e.length)return!1;if(e.children(".jstree-children").remove(),e=e[0],o.children.length&&o.state.loaded){for(t=c.createElement("UL"),t.setAttribute("role","group"),t.className="jstree-children",r=0,s=o.children.length;r<s;r++)t.appendChild(this.redraw_node(o.children[r],!0,!0));e.appendChild(t)}},redraw_node:function(e,o,r,s){var t=this.get_node(e),c=!1,f=!1,p=!1,g=!1,m=!1,y=!1,k="",N=te,E=this._model.data,D=!1,P=!1,O=null,J=0,le=0,K=!1,re=!1;if(!t)return!1;if(t.id===l.jstree.root)return this.redraw(!0);if(o=o||t.children.length===0,e=te.querySelector?this.element[0].querySelector("#"+("0123456789".indexOf(t.id[0])!==-1?"\\3"+t.id[0]+" "+t.id.substr(1).replace(l.jstree.idregex,"\\$&"):t.id.replace(l.jstree.idregex,"\\$&"))):te.getElementById(t.id),e)e=l(e),r||(c=e.parent().parent()[0],c===this.element[0]&&(c=null),f=e.index()),!o&&t.children.length&&!e.children(".jstree-children").length&&(o=!0),o||(p=e.children(".jstree-children")[0]),D=e.children(".jstree-anchor")[0]===te.activeElement,e.remove();else if(o=!0,!r){if(c=t.parent!==l.jstree.root?l("#"+t.parent.replace(l.jstree.idregex,"\\$&"),this.element)[0]:null,c!==null&&(!c||!E[t.parent].state.opened))return!1;f=l.inArray(t.id,c===null?E[l.jstree.root].children:E[t.parent].children)}e=this._data.core.node.cloneNode(!0),k="jstree-node ";for(g in t.li_attr)if(t.li_attr.hasOwnProperty(g)){if(g==="id")continue;g!=="class"?e.setAttribute(g,t.li_attr[g]):k+=t.li_attr[g]}for(t.a_attr.id||(t.a_attr.id=t.id+"_anchor"),e.childNodes[1].setAttribute("aria-selected",!!t.state.selected),e.childNodes[1].setAttribute("aria-level",t.parents.length),this.settings.core.compute_elements_positions&&(e.childNodes[1].setAttribute("aria-setsize",E[t.parent].children.length),e.childNodes[1].setAttribute("aria-posinset",E[t.parent].children.indexOf(t.id)+1)),t.state.disabled&&e.childNodes[1].setAttribute("aria-disabled",!0),g=0,m=t.children.length;g<m;g++)if(!E[t.children[g]].state.hidden){K=!0;break}if(t.parent!==null&&E[t.parent]&&!t.state.hidden&&(g=l.inArray(t.id,E[t.parent].children),re=t.id,g!==-1))for(g++,m=E[t.parent].children.length;g<m&&(E[E[t.parent].children[g]].state.hidden||(re=E[t.parent].children[g]),re===t.id);g++);t.state.hidden&&(k+=" jstree-hidden"),t.state.loading&&(k+=" jstree-loading"),t.state.loaded&&!K?k+=" jstree-leaf":(k+=t.state.opened&&t.state.loaded?" jstree-open":" jstree-closed",e.childNodes[1].setAttribute("aria-expanded",t.state.opened&&t.state.loaded)),re===t.id&&(k+=" jstree-last"),e.id=t.id,e.className=k,k=(t.state.selected?" jstree-clicked":"")+(t.state.disabled?" jstree-disabled":"");for(m in t.a_attr)if(t.a_attr.hasOwnProperty(m)){if(m==="href"&&t.a_attr[m]==="#")continue;m!=="class"?e.childNodes[1].setAttribute(m,t.a_attr[m]):k+=" "+t.a_attr[m]}if(k.length&&(e.childNodes[1].className="jstree-anchor "+k),(t.icon&&t.icon!==!0||t.icon===!1)&&(t.icon===!1?e.childNodes[1].childNodes[0].className+=" jstree-themeicon-hidden":t.icon.indexOf("/")===-1&&t.icon.indexOf(".")===-1?e.childNodes[1].childNodes[0].className+=" "+t.icon+" jstree-themeicon-custom":(e.childNodes[1].childNodes[0].style.backgroundImage='url("'+t.icon+'")',e.childNodes[1].childNodes[0].style.backgroundPosition="center center",e.childNodes[1].childNodes[0].style.backgroundSize="auto",e.childNodes[1].childNodes[0].className+=" jstree-themeicon-custom")),this.settings.core.force_text?e.childNodes[1].appendChild(N.createTextNode(t.text)):e.childNodes[1].innerHTML+=t.text,o&&t.children.length&&(t.state.opened||s)&&t.state.loaded){for(y=N.createElement("UL"),y.setAttribute("role","group"),y.className="jstree-children",g=0,m=t.children.length;g<m;g++)y.appendChild(this.redraw_node(t.children[g],o,!0));e.appendChild(y)}if(p&&e.appendChild(p),!r){for(c||(c=this.element[0]),g=0,m=c.childNodes.length;g<m;g++)if(c.childNodes[g]&&c.childNodes[g].className&&c.childNodes[g].className.indexOf("jstree-children")!==-1){O=c.childNodes[g];break}O||(O=N.createElement("UL"),O.setAttribute("role","group"),O.className="jstree-children",c.appendChild(O)),c=O,f<c.childNodes.length?c.insertBefore(e,c.childNodes[f]):c.appendChild(e),D&&(J=this.element[0].scrollTop,le=this.element[0].scrollLeft,e.childNodes[1].focus(),this.element[0].scrollTop=J,this.element[0].scrollLeft=le)}return t.state.opened&&!t.state.loaded&&(t.state.opened=!1,setTimeout(l.proxy(function(){this.open_node(t.id,!1,0)},this),0)),e},open_node:function(e,o,r){var s,t,c,f;if(l.isArray(e)){for(e=e.slice(),s=0,t=e.length;s<t;s++)this.open_node(e[s],o,r);return!0}if(e=this.get_node(e),!e||e.id===l.jstree.root)return!1;if(r=r===b?this.settings.core.animation:r,!this.is_closed(e))return o&&o.call(this,e,!1),!1;if(this.is_loaded(e))return c=this.get_node(e,!0),f=this,c.length&&(r&&c.children(".jstree-children").length&&c.children(".jstree-children").stop(!0,!0),e.children.length&&!this._firstChild(c.children(".jstree-children")[0])&&this.draw_children(e),r?(this.trigger("before_open",{node:e}),c.children(".jstree-children").css("display","none").end().removeClass("jstree-closed").addClass("jstree-open").children(".jstree-anchor").attr("aria-expanded",!0).end().children(".jstree-children").stop(!0,!0).slideDown(r,function(){this.style.display="",f.element&&f.trigger("after_open",{node:e})})):(this.trigger("before_open",{node:e}),c[0].className=c[0].className.replace("jstree-closed","jstree-open"),c[0].childNodes[1].setAttribute("aria-expanded",!0))),e.state.opened=!0,o&&o.call(this,e,!0),c.length||this.trigger("before_open",{node:e}),this.trigger("open_node",{node:e}),(!r||!c.length)&&this.trigger("after_open",{node:e}),!0;if(this.is_loading(e))return setTimeout(l.proxy(function(){this.open_node(e,o,r)},this),500);this.load_node(e,function(p,g){return g?this.open_node(p,o,r):o?o.call(this,p,!1):!1})},_open_to:function(e){if(e=this.get_node(e),!e||e.id===l.jstree.root)return!1;var o,r,s=e.parents;for(o=0,r=s.length;o<r;o+=1)o!==l.jstree.root&&this.open_node(s[o],!1,0);return l("#"+e.id.replace(l.jstree.idregex,"\\$&"),this.element)},close_node:function(e,o){var r,s,t,c;if(l.isArray(e)){for(e=e.slice(),r=0,s=e.length;r<s;r++)this.close_node(e[r],o);return!0}if(e=this.get_node(e),!e||e.id===l.jstree.root||this.is_closed(e))return!1;o=o===b?this.settings.core.animation:o,t=this,c=this.get_node(e,!0),e.state.opened=!1,this.trigger("close_node",{node:e}),c.length?o?c.children(".jstree-children").attr("style","display:block !important").end().removeClass("jstree-open").addClass("jstree-closed").children(".jstree-anchor").attr("aria-expanded",!1).end().children(".jstree-children").stop(!0,!0).slideUp(o,function(){this.style.display="",c.children(".jstree-children").remove(),t.element&&t.trigger("after_close",{node:e})}):(c[0].className=c[0].className.replace("jstree-open","jstree-closed"),c.children(".jstree-anchor").attr("aria-expanded",!1),c.children(".jstree-children").remove(),this.trigger("after_close",{node:e})):this.trigger("after_close",{node:e})},toggle_node:function(e){var o,r;if(l.isArray(e)){for(e=e.slice(),o=0,r=e.length;o<r;o++)this.toggle_node(e[o]);return!0}if(this.is_closed(e))return this.open_node(e);if(this.is_open(e))return this.close_node(e)},open_all:function(e,o,r){if(e||(e=l.jstree.root),e=this.get_node(e),!e)return!1;var s=e.id===l.jstree.root?this.get_container_ul():this.get_node(e,!0),t,c,f;if(!s.length){for(t=0,c=e.children_d.length;t<c;t++)this.is_closed(this._model.data[e.children_d[t]])&&(this._model.data[e.children_d[t]].state.opened=!0);return this.trigger("open_all",{node:e})}r=r||s,f=this,s=this.is_closed(e)?s.find(".jstree-closed").addBack():s.find(".jstree-closed"),s.each(function(){f.open_node(this,function(p,g){g&&this.is_parent(p)&&this.open_all(p,o,r)},o||0)}),r.find(".jstree-closed").length===0&&this.trigger("open_all",{node:this.get_node(r)})},close_all:function(e,o){if(e||(e=l.jstree.root),e=this.get_node(e),!e)return!1;var r=e.id===l.jstree.root?this.get_container_ul():this.get_node(e,!0),s=this,t,c;for(r.length&&(r=this.is_open(e)?r.find(".jstree-open").addBack():r.find(".jstree-open"),l(r.get().reverse()).each(function(){s.close_node(this,o||0)})),t=0,c=e.children_d.length;t<c;t++)this._model.data[e.children_d[t]].state.opened=!1;this.trigger("close_all",{node:e})},is_disabled:function(e){return e=this.get_node(e),e&&e.state&&e.state.disabled},enable_node:function(e){var o,r;if(l.isArray(e)){for(e=e.slice(),o=0,r=e.length;o<r;o++)this.enable_node(e[o]);return!0}if(e=this.get_node(e),!e||e.id===l.jstree.root)return!1;e.state.disabled=!1,this.get_node(e,!0).children(".jstree-anchor").removeClass("jstree-disabled").attr("aria-disabled",!1),this.trigger("enable_node",{node:e})},disable_node:function(e){var o,r;if(l.isArray(e)){for(e=e.slice(),o=0,r=e.length;o<r;o++)this.disable_node(e[o]);return!0}if(e=this.get_node(e),!e||e.id===l.jstree.root)return!1;e.state.disabled=!0,this.get_node(e,!0).children(".jstree-anchor").addClass("jstree-disabled").attr("aria-disabled",!0),this.trigger("disable_node",{node:e})},is_hidden:function(e){return e=this.get_node(e),e.state.hidden===!0},hide_node:function(e,o){var r,s;if(l.isArray(e)){for(e=e.slice(),r=0,s=e.length;r<s;r++)this.hide_node(e[r],!0);return o||this.redraw(),!0}if(e=this.get_node(e),!e||e.id===l.jstree.root)return!1;e.state.hidden||(e.state.hidden=!0,this._node_changed(e.parent),o||this.redraw(),this.trigger("hide_node",{node:e}))},show_node:function(e,o){var r,s;if(l.isArray(e)){for(e=e.slice(),r=0,s=e.length;r<s;r++)this.show_node(e[r],!0);return o||this.redraw(),!0}if(e=this.get_node(e),!e||e.id===l.jstree.root)return!1;e.state.hidden&&(e.state.hidden=!1,this._node_changed(e.parent),o||this.redraw(),this.trigger("show_node",{node:e}))},hide_all:function(e){var o,r=this._model.data,s=[];for(o in r)r.hasOwnProperty(o)&&o!==l.jstree.root&&!r[o].state.hidden&&(r[o].state.hidden=!0,s.push(o));return this._model.force_full_redraw=!0,e||this.redraw(),this.trigger("hide_all",{nodes:s}),s},show_all:function(e){var o,r=this._model.data,s=[];for(o in r)r.hasOwnProperty(o)&&o!==l.jstree.root&&r[o].state.hidden&&(r[o].state.hidden=!1,s.push(o));return this._model.force_full_redraw=!0,e||this.redraw(),this.trigger("show_all",{nodes:s}),s},activate_node:function(e,o){if(this.is_disabled(e))return!1;if((!o||typeof o!="object")&&(o={}),this._data.core.last_clicked=this._data.core.last_clicked&&this._data.core.last_clicked.id!==b?this.get_node(this._data.core.last_clicked.id):null,this._data.core.last_clicked&&!this._data.core.last_clicked.state.selected&&(this._data.core.last_clicked=null),!this._data.core.last_clicked&&this._data.core.selected.length&&(this._data.core.last_clicked=this.get_node(this._data.core.selected[this._data.core.selected.length-1])),!this.settings.core.multiple||!o.metaKey&&!o.ctrlKey&&!o.shiftKey||o.shiftKey&&(!this._data.core.last_clicked||!this.get_parent(e)||this.get_parent(e)!==this._data.core.last_clicked.parent))!this.settings.core.multiple&&(o.metaKey||o.ctrlKey||o.shiftKey)&&this.is_selected(e)?this.deselect_node(e,!1,o):(this.deselect_all(!0),this.select_node(e,!1,!1,o),this._data.core.last_clicked=this.get_node(e));else if(o.shiftKey){var r=this.get_node(e).id,s=this._data.core.last_clicked.id,t=this.get_node(this._data.core.last_clicked.parent).children,c=!1,f,p;for(f=0,p=t.length;f<p;f+=1)t[f]===r&&(c=!c),t[f]===s&&(c=!c),!this.is_disabled(t[f])&&(c||t[f]===r||t[f]===s)?this.is_hidden(t[f])||this.select_node(t[f],!0,!1,o):this.deselect_node(t[f],!0,o);this.trigger("changed",{action:"select_node",node:this.get_node(e),selected:this._data.core.selected,event:o})}else this.is_selected(e)?this.deselect_node(e,!1,o):this.select_node(e,!1,!1,o);this.trigger("activate_node",{node:this.get_node(e),event:o})},hover_node:function(e){if(e=this.get_node(e,!0),!e||!e.length||e.children(".jstree-hovered").length)return!1;var o=this.element.find(".jstree-hovered"),r=this.element;o&&o.length&&this.dehover_node(o),e.children(".jstree-anchor").addClass("jstree-hovered"),this.trigger("hover_node",{node:this.get_node(e)}),setTimeout(function(){r.attr("aria-activedescendant",e[0].id)},0)},dehover_node:function(e){if(e=this.get_node(e,!0),!e||!e.length||!e.children(".jstree-hovered").length)return!1;e.children(".jstree-anchor").removeClass("jstree-hovered"),this.trigger("dehover_node",{node:this.get_node(e)})},select_node:function(e,o,r,s){var t,c,f,p;if(l.isArray(e)){for(e=e.slice(),c=0,f=e.length;c<f;c++)this.select_node(e[c],o,r,s);return!0}if(e=this.get_node(e),!e||e.id===l.jstree.root)return!1;t=this.get_node(e,!0),e.state.selected||(e.state.selected=!0,this._data.core.selected.push(e.id),r||(t=this._open_to(e)),t&&t.length&&t.children(".jstree-anchor").addClass("jstree-clicked").attr("aria-selected",!0),this.trigger("select_node",{node:e,selected:this._data.core.selected,event:s}),o||this.trigger("changed",{action:"select_node",node:e,selected:this._data.core.selected,event:s}))},deselect_node:function(e,o,r){var s,t,c;if(l.isArray(e)){for(e=e.slice(),s=0,t=e.length;s<t;s++)this.deselect_node(e[s],o,r);return!0}if(e=this.get_node(e),!e||e.id===l.jstree.root)return!1;c=this.get_node(e,!0),e.state.selected&&(e.state.selected=!1,this._data.core.selected=l.vakata.array_remove_item(this._data.core.selected,e.id),c.length&&c.children(".jstree-anchor").removeClass("jstree-clicked").attr("aria-selected",!1),this.trigger("deselect_node",{node:e,selected:this._data.core.selected,event:r}),o||this.trigger("changed",{action:"deselect_node",node:e,selected:this._data.core.selected,event:r}))},select_all:function(e){var o=this._data.core.selected.concat([]),r,s;for(this._data.core.selected=this._model.data[l.jstree.root].children_d.concat(),r=0,s=this._data.core.selected.length;r<s;r++)this._model.data[this._data.core.selected[r]]&&(this._model.data[this._data.core.selected[r]].state.selected=!0);this.redraw(!0),this.trigger("select_all",{selected:this._data.core.selected}),e||this.trigger("changed",{action:"select_all",selected:this._data.core.selected,old_selection:o})},deselect_all:function(e){var o=this._data.core.selected.concat([]),r,s;for(r=0,s=this._data.core.selected.length;r<s;r++)this._model.data[this._data.core.selected[r]]&&(this._model.data[this._data.core.selected[r]].state.selected=!1);this._data.core.selected=[],this.element.find(".jstree-clicked").removeClass("jstree-clicked").attr("aria-selected",!1),this.trigger("deselect_all",{selected:this._data.core.selected,node:o}),e||this.trigger("changed",{action:"deselect_all",selected:this._data.core.selected,old_selection:o})},is_selected:function(e){return e=this.get_node(e),!e||e.id===l.jstree.root?!1:e.state.selected},get_selected:function(e){return e?l.map(this._data.core.selected,l.proxy(function(o){return this.get_node(o)},this)):this._data.core.selected.slice()},get_top_selected:function(e){var o=this.get_selected(!0),r={},s,t,c,f;for(s=0,t=o.length;s<t;s++)r[o[s].id]=o[s];for(s=0,t=o.length;s<t;s++)for(c=0,f=o[s].children_d.length;c<f;c++)r[o[s].children_d[c]]&&delete r[o[s].children_d[c]];o=[];for(s in r)r.hasOwnProperty(s)&&o.push(s);return e?l.map(o,l.proxy(function(p){return this.get_node(p)},this)):o},get_bottom_selected:function(e){var o=this.get_selected(!0),r=[],s,t;for(s=0,t=o.length;s<t;s++)o[s].children.length||r.push(o[s].id);return e?l.map(r,l.proxy(function(c){return this.get_node(c)},this)):r},get_state:function(){var e={core:{open:[],loaded:[],scroll:{left:this.element.scrollLeft(),top:this.element.scrollTop()},selected:[]}},o;for(o in this._model.data)this._model.data.hasOwnProperty(o)&&o!==l.jstree.root&&(this._model.data[o].state.loaded&&this.settings.core.loaded_state&&e.core.loaded.push(o),this._model.data[o].state.opened&&e.core.open.push(o),this._model.data[o].state.selected&&e.core.selected.push(o));return e},set_state:function(e,o){if(e){if(e.core&&e.core.selected&&e.core.initial_selection===b&&(e.core.initial_selection=this._data.core.selected.concat([]).sort().join(",")),e.core){var r,s,t,c,f;if(e.core.loaded)return!this.settings.core.loaded_state||!l.isArray(e.core.loaded)||!e.core.loaded.length?(delete e.core.loaded,this.set_state(e,o)):this._load_nodes(e.core.loaded,function(p){delete e.core.loaded,this.set_state(e,o)}),!1;if(e.core.open)return!l.isArray(e.core.open)||!e.core.open.length?(delete e.core.open,this.set_state(e,o)):this._load_nodes(e.core.open,function(p){this.open_node(p,!1,0),delete e.core.open,this.set_state(e,o)}),!1;if(e.core.scroll)return e.core.scroll&&e.core.scroll.left!==b&&this.element.scrollLeft(e.core.scroll.left),e.core.scroll&&e.core.scroll.top!==b&&this.element.scrollTop(e.core.scroll.top),delete e.core.scroll,this.set_state(e,o),!1;if(e.core.selected)return c=this,(e.core.initial_selection===b||e.core.initial_selection===this._data.core.selected.concat([]).sort().join(","))&&(this.deselect_all(),l.each(e.core.selected,function(p,g){c.select_node(g,!1,!0)})),delete e.core.initial_selection,delete e.core.selected,this.set_state(e,o),!1;for(f in e)e.hasOwnProperty(f)&&f!=="core"&&l.inArray(f,this.settings.plugins)===-1&&delete e[f];if(l.isEmptyObject(e.core))return delete e.core,this.set_state(e,o),!1}return l.isEmptyObject(e)?(e=null,o&&o.call(this),this.trigger("set_state"),!1):!0}return!1},refresh:function(e,o){this._data.core.state=o===!0?{}:this.get_state(),o&&l.isFunction(o)&&(this._data.core.state=o.call(this,this._data.core.state)),this._cnt=0,this._model.data={},this._model.data[l.jstree.root]={id:l.jstree.root,parent:null,parents:[],children:[],children_d:[],state:{loaded:!1}},this._data.core.selected=[],this._data.core.last_clicked=null,this._data.core.focused=null;var r=this.get_container_ul()[0].className;e||(this.element.html("<ul class='"+r+"' role='group'><li class='jstree-initial-node jstree-loading jstree-leaf jstree-last' role='none' id='j"+this._id+"_loading'><i class='jstree-icon jstree-ocl'></i><a class='jstree-anchor' role='treeitem' href='#'><i class='jstree-icon jstree-themeicon-hidden'></i>"+this.get_string("Loading ...")+"</a></li></ul>"),this.element.attr("aria-activedescendant","j"+this._id+"_loading")),this.load_node(l.jstree.root,function(s,t){t&&(this.get_container_ul()[0].className=r,this._firstChild(this.get_container_ul()[0])&&this.element.attr("aria-activedescendant",this._firstChild(this.get_container_ul()[0]).id),this.set_state(l.extend(!0,{},this._data.core.state),function(){this.trigger("refresh")})),this._data.core.state=null})},refresh_node:function(e){if(e=this.get_node(e),!e||e.id===l.jstree.root)return!1;var o=[],r=[],s=this._data.core.selected.concat([]);r.push(e.id),e.state.opened===!0&&o.push(e.id),this.get_node(e,!0).find(".jstree-open").each(function(){r.push(this.id),o.push(this.id)}),this._load_nodes(r,l.proxy(function(t){this.open_node(o,!1,0),this.select_node(s),this.trigger("refresh_node",{node:e,nodes:t})},this),!1,!0)},set_id:function(e,o){if(e=this.get_node(e),!e||e.id===l.jstree.root)return!1;var r,s,t=this._model.data,c=e.id;for(o=o.toString(),t[e.parent].children[l.inArray(e.id,t[e.parent].children)]=o,r=0,s=e.parents.length;r<s;r++)t[e.parents[r]].children_d[l.inArray(e.id,t[e.parents[r]].children_d)]=o;for(r=0,s=e.children.length;r<s;r++)t[e.children[r]].parent=o;for(r=0,s=e.children_d.length;r<s;r++)t[e.children_d[r]].parents[l.inArray(e.id,t[e.children_d[r]].parents)]=o;return r=l.inArray(e.id,this._data.core.selected),r!==-1&&(this._data.core.selected[r]=o),r=this.get_node(e.id,!0),r&&(r.attr("id",o),this.element.attr("aria-activedescendant")===e.id&&this.element.attr("aria-activedescendant",o)),delete t[e.id],e.id=o,e.li_attr.id=o,t[o]=e,this.trigger("set_id",{node:e,new:e.id,old:c}),!0},get_text:function(e){return e=this.get_node(e),!e||e.id===l.jstree.root?!1:e.text},set_text:function(e,o){var r,s;if(l.isArray(e)){for(e=e.slice(),r=0,s=e.length;r<s;r++)this.set_text(e[r],o);return!0}return e=this.get_node(e),!e||e.id===l.jstree.root?!1:(e.text=o,this.get_node(e,!0).length&&this.redraw_node(e.id),this.trigger("set_text",{obj:e,text:o}),!0)},get_json:function(e,o,r){if(e=this.get_node(e||l.jstree.root),!e)return!1;o&&o.flat&&!r&&(r=[]);var s={id:e.id,text:e.text,icon:this.get_icon(e),li_attr:l.extend(!0,{},e.li_attr),a_attr:l.extend(!0,{},e.a_attr),state:{},data:o&&o.no_data?!1:l.extend(!0,l.isArray(e.data)?[]:{},e.data)},t,c;if(o&&o.flat?s.parent=e.parent:s.children=[],!o||!o.no_state)for(t in e.state)e.state.hasOwnProperty(t)&&(s.state[t]=e.state[t]);else delete s.state;if(o&&o.no_li_attr&&delete s.li_attr,o&&o.no_a_attr&&delete s.a_attr,o&&o.no_id&&(delete s.id,s.li_attr&&s.li_attr.id&&delete s.li_attr.id,s.a_attr&&s.a_attr.id&&delete s.a_attr.id),o&&o.flat&&e.id!==l.jstree.root&&r.push(s),!o||!o.no_children)for(t=0,c=e.children.length;t<c;t++)o&&o.flat?this.get_json(e.children[t],o,r):s.children.push(this.get_json(e.children[t],o));return o&&o.flat?r:e.id===l.jstree.root?s.children:s},create_node:function(e,o,r,s,t){if(e===null&&(e=l.jstree.root),e=this.get_node(e),!e)return!1;if(r=r===b?"last":r,!r.toString().match(/^(before|after)$/)&&!t&&!this.is_loaded(e))return this.load_node(e,function(){this.create_node(e,o,r,s,!0)});o||(o={text:this.get_string("New node")}),typeof o=="string"?o={text:o}:o=l.extend(!0,{},o),o.text===b&&(o.text=this.get_string("New node"));var c,f,p,g;switch(e.id===l.jstree.root&&(r==="before"&&(r="first"),r==="after"&&(r="last")),r){case"before":c=this.get_node(e.parent),r=l.inArray(e.id,c.children),e=c;break;case"after":c=this.get_node(e.parent),r=l.inArray(e.id,c.children)+1,e=c;break;case"inside":case"first":r=0;break;case"last":r=e.children.length;break;default:r||(r=0);break}if(r>e.children.length&&(r=e.children.length),o.id||(o.id=!0),!this.check("create_node",o,e,r))return this.settings.core.error.call(this,this._data.core.last_error),!1;if(o.id===!0&&delete o.id,o=this._parse_model_from_json(o,e.id,e.parents.concat()),!o)return!1;for(c=this.get_node(o),f=[],f.push(o),f=f.concat(c.children_d),this.trigger("model",{nodes:f,parent:e.id}),e.children_d=e.children_d.concat(f),p=0,g=e.parents.length;p<g;p++)this._model.data[e.parents[p]].children_d=this._model.data[e.parents[p]].children_d.concat(f);for(o=c,c=[],p=0,g=e.children.length;p<g;p++)c[p>=r?p+1:p]=e.children[p];return c[r]=o.id,e.children=c,this.redraw_node(e,!0),this.trigger("create_node",{node:this.get_node(o),parent:e.id,position:r}),s&&s.call(this,this.get_node(o)),o.id},rename_node:function(e,o){var r,s,t;if(l.isArray(e)){for(e=e.slice(),r=0,s=e.length;r<s;r++)this.rename_node(e[r],o);return!0}return e=this.get_node(e),!e||e.id===l.jstree.root?!1:(t=e.text,this.check("rename_node",e,this.get_parent(e),o)?(this.set_text(e,o),this.trigger("rename_node",{node:e,text:o,old:t}),!0):(this.settings.core.error.call(this,this._data.core.last_error),!1))},delete_node:function(e){var o,r,s,t,c,f,p,g,m,y,k,N;if(l.isArray(e)){for(e=e.slice(),o=0,r=e.length;o<r;o++)this.delete_node(e[o]);return!0}if(e=this.get_node(e),!e||e.id===l.jstree.root)return!1;if(s=this.get_node(e.parent),t=l.inArray(e.id,s.children),y=!1,!this.check("delete_node",e,s,t))return this.settings.core.error.call(this,this._data.core.last_error),!1;for(t!==-1&&(s.children=l.vakata.array_remove(s.children,t)),c=e.children_d.concat([]),c.push(e.id),f=0,p=e.parents.length;f<p;f++)this._model.data[e.parents[f]].children_d=l.vakata.array_filter(this._model.data[e.parents[f]].children_d,function(E){return l.inArray(E,c)===-1});for(g=0,m=c.length;g<m;g++)if(this._model.data[c[g]].state.selected){y=!0;break}for(y&&(this._data.core.selected=l.vakata.array_filter(this._data.core.selected,function(E){return l.inArray(E,c)===-1})),this.trigger("delete_node",{node:e,parent:s.id}),y&&this.trigger("changed",{action:"delete_node",node:e,selected:this._data.core.selected,parent:s.id}),g=0,m=c.length;g<m;g++)delete this._model.data[c[g]];return l.inArray(this._data.core.focused,c)!==-1&&(this._data.core.focused=null,k=this.element[0].scrollTop,N=this.element[0].scrollLeft,s.id===l.jstree.root?this._model.data[l.jstree.root].children[0]&&this.get_node(this._model.data[l.jstree.root].children[0],!0).children(".jstree-anchor").focus():this.get_node(s,!0).children(".jstree-anchor").focus(),this.element[0].scrollTop=k,this.element[0].scrollLeft=N),this.redraw_node(s,!0),!0},check:function(e,o,r,s,t){o=o&&o.id?o:this.get_node(o),r=r&&r.id?r:this.get_node(r);var c=e.match(/^move_node|copy_node|create_node$/i)?r:o,f=this.settings.core.check_callback;if(e==="move_node"||e==="copy_node"){if((!t||!t.is_multi)&&e==="move_node"&&l.inArray(o.id,r.children)===s)return this._data.core.last_error={error:"check",plugin:"core",id:"core_08",reason:"Moving node to its current position",data:JSON.stringify({chk:e,pos:s,obj:o&&o.id?o.id:!1,par:r&&r.id?r.id:!1})},!1;if((!t||!t.is_multi)&&(o.id===r.id||e==="move_node"&&l.inArray(o.id,r.children)===s||l.inArray(r.id,o.children_d)!==-1))return this._data.core.last_error={error:"check",plugin:"core",id:"core_01",reason:"Moving parent inside child",data:JSON.stringify({chk:e,pos:s,obj:o&&o.id?o.id:!1,par:r&&r.id?r.id:!1})},!1}return c&&c.data&&(c=c.data),c&&c.functions&&(c.functions[e]===!1||c.functions[e]===!0)?(c.functions[e]===!1&&(this._data.core.last_error={error:"check",plugin:"core",id:"core_02",reason:"Node data prevents function: "+e,data:JSON.stringify({chk:e,pos:s,obj:o&&o.id?o.id:!1,par:r&&r.id?r.id:!1})}),c.functions[e]):f===!1||l.isFunction(f)&&f.call(this,e,o,r,s,t)===!1||f&&f[e]===!1?(this._data.core.last_error={error:"check",plugin:"core",id:"core_03",reason:"User config for core.check_callback prevents function: "+e,data:JSON.stringify({chk:e,pos:s,obj:o&&o.id?o.id:!1,par:r&&r.id?r.id:!1})},!1):!0},last_error:function(){return this._data.core.last_error},move_node:function(e,o,r,s,t,c,f){var p,g,m,y,k,N,E,D,P,O,J,le,K,re;if(o=this.get_node(o),r=r===b?0:r,!o)return!1;if(!r.toString().match(/^(before|after)$/)&&!t&&!this.is_loaded(o))return this.load_node(o,function(){this.move_node(e,o,r,s,!0,!1,f)});if(l.isArray(e))if(e.length===1)e=e[0];else{for(p=0,g=e.length;p<g;p++)(P=this.move_node(e[p],o,r,s,t,!1,f))&&(o=P,r="after");return this.redraw(),!0}if(e=e&&e.id?e:this.get_node(e),!e||e.id===l.jstree.root)return!1;if(m=(e.parent||l.jstree.root).toString(),k=!r.toString().match(/^(before|after)$/)||o.id===l.jstree.root?o:this.get_node(o.parent),N=f||(this._model.data[e.id]?this:l.jstree.reference(e.id)),E=!N||!N._id||this._id!==N._id,y=N&&N._id&&m&&N._model.data[m]&&N._model.data[m].children?l.inArray(e.id,N._model.data[m].children):-1,N&&N._id&&(e=N._model.data[e.id]),E)return(P=this.copy_node(e,o,r,s,t,!1,f))?(N&&N.delete_node(e),P):!1;switch(o.id===l.jstree.root&&(r==="before"&&(r="first"),r==="after"&&(r="last")),r){case"before":r=l.inArray(o.id,k.children);break;case"after":r=l.inArray(o.id,k.children)+1;break;case"inside":case"first":r=0;break;case"last":r=k.children.length;break;default:r||(r=0);break}if(r>k.children.length&&(r=k.children.length),!this.check("move_node",e,k,r,{core:!0,origin:f,is_multi:N&&N._id&&N._id!==this._id,is_foreign:!N||!N._id}))return this.settings.core.error.call(this,this._data.core.last_error),!1;if(e.parent===k.id){for(D=k.children.concat(),P=l.inArray(e.id,D),P!==-1&&(D=l.vakata.array_remove(D,P),r>P&&r--),P=[],O=0,J=D.length;O<J;O++)P[O>=r?O+1:O]=D[O];P[r]=e.id,k.children=P,this._node_changed(k.id),this.redraw(k.id===l.jstree.root)}else{for(P=e.children_d.concat(),P.push(e.id),O=0,J=e.parents.length;O<J;O++){for(D=[],re=N._model.data[e.parents[O]].children_d,le=0,K=re.length;le<K;le++)l.inArray(re[le],P)===-1&&D.push(re[le]);N._model.data[e.parents[O]].children_d=D}for(N._model.data[m].children=l.vakata.array_remove_item(N._model.data[m].children,e.id),O=0,J=k.parents.length;O<J;O++)this._model.data[k.parents[O]].children_d=this._model.data[k.parents[O]].children_d.concat(P);for(D=[],O=0,J=k.children.length;O<J;O++)D[O>=r?O+1:O]=k.children[O];for(D[r]=e.id,k.children=D,k.children_d.push(e.id),k.children_d=k.children_d.concat(e.children_d),e.parent=k.id,P=k.parents.concat(),P.unshift(k.id),re=e.parents.length,e.parents=P,P=P.concat(),O=0,J=e.children_d.length;O<J;O++)this._model.data[e.children_d[O]].parents=this._model.data[e.children_d[O]].parents.slice(0,re*-1),Array.prototype.push.apply(this._model.data[e.children_d[O]].parents,P);(m===l.jstree.root||k.id===l.jstree.root)&&(this._model.force_full_redraw=!0),this._model.force_full_redraw||(this._node_changed(m),this._node_changed(k.id)),c||this.redraw()}return s&&s.call(this,e,k,r),this.trigger("move_node",{node:e,parent:k.id,position:r,old_parent:m,old_position:y,is_multi:N&&N._id&&N._id!==this._id,is_foreign:!N||!N._id,old_instance:N,new_instance:this}),e.id},copy_node:function(e,o,r,s,t,c,f){var p,g,m,y,k,N,E,D,P,O,J;if(o=this.get_node(o),r=r===b?0:r,!o)return!1;if(!r.toString().match(/^(before|after)$/)&&!t&&!this.is_loaded(o))return this.load_node(o,function(){this.copy_node(e,o,r,s,!0,!1,f)});if(l.isArray(e))if(e.length===1)e=e[0];else{for(p=0,g=e.length;p<g;p++)(y=this.copy_node(e[p],o,r,s,t,!0,f))&&(o=y,r="after");return this.redraw(),!0}if(e=e&&e.id?e:this.get_node(e),!e||e.id===l.jstree.root)return!1;switch(D=(e.parent||l.jstree.root).toString(),P=!r.toString().match(/^(before|after)$/)||o.id===l.jstree.root?o:this.get_node(o.parent),O=f||(this._model.data[e.id]?this:l.jstree.reference(e.id)),J=!O||!O._id||this._id!==O._id,O&&O._id&&(e=O._model.data[e.id]),o.id===l.jstree.root&&(r==="before"&&(r="first"),r==="after"&&(r="last")),r){case"before":r=l.inArray(o.id,P.children);break;case"after":r=l.inArray(o.id,P.children)+1;break;case"inside":case"first":r=0;break;case"last":r=P.children.length;break;default:r||(r=0);break}if(r>P.children.length&&(r=P.children.length),!this.check("copy_node",e,P,r,{core:!0,origin:f,is_multi:O&&O._id&&O._id!==this._id,is_foreign:!O||!O._id}))return this.settings.core.error.call(this,this._data.core.last_error),!1;if(E=O?O.get_json(e,{no_id:!0,no_data:!0,no_state:!0}):e,!E||(E.id===!0&&delete E.id,E=this._parse_model_from_json(E,P.id,P.parents.concat()),!E))return!1;for(y=this.get_node(E),e&&e.state&&e.state.loaded===!1&&(y.state.loaded=!1),m=[],m.push(E),m=m.concat(y.children_d),this.trigger("model",{nodes:m,parent:P.id}),k=0,N=P.parents.length;k<N;k++)this._model.data[P.parents[k]].children_d=this._model.data[P.parents[k]].children_d.concat(m);for(m=[],k=0,N=P.children.length;k<N;k++)m[k>=r?k+1:k]=P.children[k];return m[r]=y.id,P.children=m,P.children_d.push(y.id),P.children_d=P.children_d.concat(y.children_d),P.id===l.jstree.root&&(this._model.force_full_redraw=!0),this._model.force_full_redraw||this._node_changed(P.id),c||this.redraw(P.id===l.jstree.root),s&&s.call(this,y,P,r),this.trigger("copy_node",{node:y,original:e,parent:P.id,position:r,old_parent:D,old_position:O&&O._id&&D&&O._model.data[D]&&O._model.data[D].children?l.inArray(e.id,O._model.data[D].children):-1,is_multi:O&&O._id&&O._id!==this._id,is_foreign:!O||!O._id,old_instance:O,new_instance:this}),y.id},cut:function(e){if(e||(e=this._data.core.selected.concat()),l.isArray(e)||(e=[e]),!e.length)return!1;var o=[],r,s,t;for(s=0,t=e.length;s<t;s++)r=this.get_node(e[s]),r&&r.id&&r.id!==l.jstree.root&&o.push(r);if(!o.length)return!1;Ce=o,Ge=this,Ne="move_node",this.trigger("cut",{node:e})},copy:function(e){if(e||(e=this._data.core.selected.concat()),l.isArray(e)||(e=[e]),!e.length)return!1;var o=[],r,s,t;for(s=0,t=e.length;s<t;s++)r=this.get_node(e[s]),r&&r.id&&r.id!==l.jstree.root&&o.push(r);if(!o.length)return!1;Ce=o,Ge=this,Ne="copy_node",this.trigger("copy",{node:e})},get_buffer:function(){return{mode:Ne,node:Ce,inst:Ge}},can_paste:function(){return Ne!==!1&&Ce!==!1},paste:function(e,o){if(e=this.get_node(e),!e||!Ne||!Ne.match(/^(copy_node|move_node)$/)||!Ce)return!1;this[Ne](Ce,e,o,!1,!1,!1,Ge)&&this.trigger("paste",{parent:e.id,node:Ce,mode:Ne}),Ce=!1,Ne=!1,Ge=!1},clear_buffer:function(){Ce=!1,Ne=!1,Ge=!1,this.trigger("clear_buffer")},edit:function(e,o,r){var s,t,c,f,p,g,m,y,k,N=!1;if(e=this.get_node(e),!e)return!1;if(!this.check("edit",e,this.get_parent(e)))return this.settings.core.error.call(this,this._data.core.last_error),!1;k=e,o=typeof o=="string"?o:e.text,this.set_text(e,""),e=this._open_to(e),k.text=o,s=this._data.core.rtl,t=this.element.width(),this._data.core.focused=k.id,c=e.children(".jstree-anchor").focus(),f=l("<span></span>");p=o,g=l("<div></div>",{css:{position:"absolute",top:"-200px",left:s?"0px":"-1000px",visibility:"hidden"}}).appendTo(te.body),m=l("<input />",{value:p,class:"jstree-rename-input",css:{padding:"0",border:"1px solid silver","box-sizing":"border-box",display:"inline-block",height:this._data.core.li_height+"px",lineHeight:this._data.core.li_height+"px",width:"150px"},blur:l.proxy(function(E){E.stopImmediatePropagation(),E.preventDefault();var D=f.children(".jstree-rename-input"),P=D.val(),O=this.settings.core.force_text,J;P===""&&(P=p),g.remove(),f.replaceWith(c),f.remove(),p=O?p:l("<div></div>").append(l.parseHTML(p)).html(),e=this.get_node(e),this.set_text(e,p),J=!!this.rename_node(e,O?l("<div></div>").text(P).text():l("<div></div>").append(l.parseHTML(P)).html()),J||this.set_text(e,p),this._data.core.focused=k.id,setTimeout(l.proxy(function(){var le=this.get_node(k.id,!0);le.length&&(this._data.core.focused=k.id,le.children(".jstree-anchor").focus())},this),0),r&&r.call(this,k,J,N,P),m=null},this),keydown:function(E){var D=E.which;D===27&&(N=!0,this.value=p),(D===27||D===13||D===37||D===38||D===39||D===40||D===32)&&E.stopImmediatePropagation(),(D===27||D===13)&&(E.preventDefault(),this.blur())},click:function(E){E.stopImmediatePropagation()},mousedown:function(E){E.stopImmediatePropagation()},keyup:function(E){m.width(Math.min(g.text("pW"+this.value).width(),t))},keypress:function(E){if(E.which===13)return!1}}),y={fontFamily:c.css("fontFamily")||"",fontSize:c.css("fontSize")||"",fontWeight:c.css("fontWeight")||"",fontStyle:c.css("fontStyle")||"",fontStretch:c.css("fontStretch")||"",fontVariant:c.css("fontVariant")||"",letterSpacing:c.css("letterSpacing")||"",wordSpacing:c.css("wordSpacing")||""},f.attr("class",c.attr("class")).append(c.contents().clone()).append(m),c.replaceWith(f),g.css(y),m.css(y).width(Math.min(g.text("pW"+m[0].value).width(),t))[0].select(),l(te).one("mousedown.jstree touchstart.jstree dnd_start.vakata",function(E){m&&E.target!==m&&l(m).blur()})},set_theme:function(e,o){if(!e)return!1;if(o===!0){var r=this.settings.core.themes.dir;r||(r=l.jstree.path+"/themes"),o=r+"/"+e+"/style.css"}o&&l.inArray(o,gt)===-1&&(l("head").append('<link rel="stylesheet" href="'+o+'" type="text/css" />'),gt.push(o)),this._data.core.themes.name&&this.element.removeClass("jstree-"+this._data.core.themes.name),this._data.core.themes.name=e,this.element.addClass("jstree-"+e),this.element[this.settings.core.themes.responsive?"addClass":"removeClass"]("jstree-"+e+"-responsive"),this.trigger("set_theme",{theme:e})},get_theme:function(){return this._data.core.themes.name},set_theme_variant:function(e){this._data.core.themes.variant&&this.element.removeClass("jstree-"+this._data.core.themes.name+"-"+this._data.core.themes.variant),this._data.core.themes.variant=e,e&&this.element.addClass("jstree-"+this._data.core.themes.name+"-"+this._data.core.themes.variant)},get_theme_variant:function(){return this._data.core.themes.variant},show_stripes:function(){this._data.core.themes.stripes=!0,this.get_container_ul().addClass("jstree-striped"),this.trigger("show_stripes")},hide_stripes:function(){this._data.core.themes.stripes=!1,this.get_container_ul().removeClass("jstree-striped"),this.trigger("hide_stripes")},toggle_stripes:function(){this._data.core.themes.stripes?this.hide_stripes():this.show_stripes()},show_dots:function(){this._data.core.themes.dots=!0,this.get_container_ul().removeClass("jstree-no-dots"),this.trigger("show_dots")},hide_dots:function(){this._data.core.themes.dots=!1,this.get_container_ul().addClass("jstree-no-dots"),this.trigger("hide_dots")},toggle_dots:function(){this._data.core.themes.dots?this.hide_dots():this.show_dots()},show_icons:function(){this._data.core.themes.icons=!0,this.get_container_ul().removeClass("jstree-no-icons"),this.trigger("show_icons")},hide_icons:function(){this._data.core.themes.icons=!1,this.get_container_ul().addClass("jstree-no-icons"),this.trigger("hide_icons")},toggle_icons:function(){this._data.core.themes.icons?this.hide_icons():this.show_icons()},show_ellipsis:function(){this._data.core.themes.ellipsis=!0,this.get_container_ul().addClass("jstree-ellipsis"),this.trigger("show_ellipsis")},hide_ellipsis:function(){this._data.core.themes.ellipsis=!1,this.get_container_ul().removeClass("jstree-ellipsis"),this.trigger("hide_ellipsis")},toggle_ellipsis:function(){this._data.core.themes.ellipsis?this.hide_ellipsis():this.show_ellipsis()},set_icon:function(e,o){var r,s,t,c;if(l.isArray(e)){for(e=e.slice(),r=0,s=e.length;r<s;r++)this.set_icon(e[r],o);return!0}return e=this.get_node(e),!e||e.id===l.jstree.root?!1:(c=e.icon,e.icon=o===!0||o===null||o===b||o===""?!0:o,t=this.get_node(e,!0).children(".jstree-anchor").children(".jstree-themeicon"),o===!1?(t.removeClass("jstree-themeicon-custom "+c).css("background","").removeAttr("rel"),this.hide_icon(e)):o===!0||o===null||o===b||o===""?(t.removeClass("jstree-themeicon-custom "+c).css("background","").removeAttr("rel"),c===!1&&this.show_icon(e)):o.indexOf("/")===-1&&o.indexOf(".")===-1?(t.removeClass(c).css("background",""),t.addClass(o+" jstree-themeicon-custom").attr("rel",o),c===!1&&this.show_icon(e)):(t.removeClass(c).css("background",""),t.addClass("jstree-themeicon-custom").css("background","url('"+o+"') center center no-repeat").attr("rel",o),c===!1&&this.show_icon(e)),!0)},get_icon:function(e){return e=this.get_node(e),!e||e.id===l.jstree.root?!1:e.icon},hide_icon:function(e){var o,r;if(l.isArray(e)){for(e=e.slice(),o=0,r=e.length;o<r;o++)this.hide_icon(e[o]);return!0}return e=this.get_node(e),!e||e===l.jstree.root?!1:(e.icon=!1,this.get_node(e,!0).children(".jstree-anchor").children(".jstree-themeicon").addClass("jstree-themeicon-hidden"),!0)},show_icon:function(e){var o,r,s;if(l.isArray(e)){for(e=e.slice(),o=0,r=e.length;o<r;o++)this.show_icon(e[o]);return!0}return e=this.get_node(e),!e||e===l.jstree.root?!1:(s=this.get_node(e,!0),e.icon=s.length?s.children(".jstree-anchor").children(".jstree-themeicon").attr("rel"):!0,e.icon||(e.icon=!0),s.children(".jstree-anchor").children(".jstree-themeicon").removeClass("jstree-themeicon-hidden"),!0)}},l.vakata={},l.vakata.attributes=function(e,o){e=l(e)[0];var r=o?{}:[];return e&&e.attributes&&l.each(e.attributes,function(s,t){l.inArray(t.name.toLowerCase(),["style","contenteditable","hasfocus","tabindex"])===-1&&t.value!==null&&l.vakata.trim(t.value)!==""&&(o?r[t.name]=t.value:r.push(t.name))}),r},l.vakata.array_unique=function(e){var o=[],r,s,t,c={};for(r=0,t=e.length;r<t;r++)c[e[r]]===b&&(o.push(e[r]),c[e[r]]=!0);return o},l.vakata.array_remove=function(e,o){return e.splice(o,1),e},l.vakata.array_remove_item=function(e,o){var r=l.inArray(o,e);return r!==-1?l.vakata.array_remove(e,r):e},l.vakata.array_filter=function(e,o,r,s,t){if(e.filter)return e.filter(o,r);s=[];for(t in e)~~t+""==t+""&&t>=0&&o.call(r,e[t],+t,e)&&s.push(e[t]);return s},l.vakata.trim=function(e){return String.prototype.trim?String.prototype.trim.call(e.toString()):e.toString().replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")},l.jstree.plugins.changed=function(e,o){var r=[];this.trigger=function(s,t){var c,f;if(t||(t={}),s.replace(".jstree","")==="changed"){t.changed={selected:[],deselected:[]};var p={};for(c=0,f=r.length;c<f;c++)p[r[c]]=1;for(c=0,f=t.selected.length;c<f;c++)p[t.selected[c]]?p[t.selected[c]]=2:t.changed.selected.push(t.selected[c]);for(c=0,f=r.length;c<f;c++)p[r[c]]===1&&t.changed.deselected.push(r[c]);r=t.selected.slice()}o.trigger.call(this,s,t)},this.refresh=function(s,t){return r=[],o.refresh.apply(this,arguments)}};var pt=te.createElement("I");pt.className="jstree-icon jstree-checkbox",pt.setAttribute("role","presentation"),l.jstree.defaults.checkbox={visible:!0,three_state:!0,whole_node:!0,keep_selected_style:!0,cascade:"",tie_selection:!0,cascade_to_disabled:!0,cascade_to_hidden:!0},l.jstree.plugins.checkbox=function(e,o){this.bind=function(){o.bind.call(this),this._data.checkbox.uto=!1,this._data.checkbox.selected=[],this.settings.checkbox.three_state&&(this.settings.checkbox.cascade="up+down+undetermined"),this.element.on("init.jstree",l.proxy(function(){this._data.checkbox.visible=this.settings.checkbox.visible,this.settings.checkbox.keep_selected_style||this.element.addClass("jstree-checkbox-no-clicked"),this.settings.checkbox.tie_selection&&this.element.addClass("jstree-checkbox-selection")},this)).on("loading.jstree",l.proxy(function(){this[this._data.checkbox.visible?"show_checkboxes":"hide_checkboxes"]()},this)),this.settings.checkbox.cascade.indexOf("undetermined")!==-1&&this.element.on("changed.jstree uncheck_node.jstree check_node.jstree uncheck_all.jstree check_all.jstree move_node.jstree copy_node.jstree redraw.jstree open_node.jstree",l.proxy(function(){this._data.checkbox.uto&&clearTimeout(this._data.checkbox.uto),this._data.checkbox.uto=setTimeout(l.proxy(this._undetermined,this),50)},this)),this.settings.checkbox.tie_selection||this.element.on("model.jstree",l.proxy(function(r,s){var t=this._model.data,c=t[s.parent],f=s.nodes,p,g;for(p=0,g=f.length;p<g;p++)t[f[p]].state.checked=t[f[p]].state.checked||t[f[p]].original&&t[f[p]].original.state&&t[f[p]].original.state.checked,t[f[p]].state.checked&&this._data.checkbox.selected.push(f[p])},this)),(this.settings.checkbox.cascade.indexOf("up")!==-1||this.settings.checkbox.cascade.indexOf("down")!==-1)&&this.element.on("model.jstree",l.proxy(function(r,s){var t=this._model.data,c=t[s.parent],f=s.nodes,p=[],g,m,y,k,N,E,D=this.settings.checkbox.cascade,P=this.settings.checkbox.tie_selection;if(D.indexOf("down")!==-1){if(c.state[P?"selected":"checked"]){for(m=0,y=f.length;m<y;m++)t[f[m]].state[P?"selected":"checked"]=!0;this._data[P?"core":"checkbox"].selected=this._data[P?"core":"checkbox"].selected.concat(f)}else for(m=0,y=f.length;m<y;m++)if(t[f[m]].state[P?"selected":"checked"]){for(k=0,N=t[f[m]].children_d.length;k<N;k++)t[t[f[m]].children_d[k]].state[P?"selected":"checked"]=!0;this._data[P?"core":"checkbox"].selected=this._data[P?"core":"checkbox"].selected.concat(t[f[m]].children_d)}}if(D.indexOf("up")!==-1){for(m=0,y=c.children_d.length;m<y;m++)t[c.children_d[m]].children.length||p.push(t[c.children_d[m]].parent);for(p=l.vakata.array_unique(p),k=0,N=p.length;k<N;k++)for(c=t[p[k]];c&&c.id!==l.jstree.root;){for(g=0,m=0,y=c.children.length;m<y;m++)g+=t[c.children[m]].state[P?"selected":"checked"];if(g===y)c.state[P?"selected":"checked"]=!0,this._data[P?"core":"checkbox"].selected.push(c.id),E=this.get_node(c,!0),E&&E.length&&E.attr("aria-selected",!0).children(".jstree-anchor").addClass(P?"jstree-clicked":"jstree-checked");else break;c=this.get_node(c.parent)}}this._data[P?"core":"checkbox"].selected=l.vakata.array_unique(this._data[P?"core":"checkbox"].selected)},this)).on(this.settings.checkbox.tie_selection?"select_node.jstree":"check_node.jstree",l.proxy(function(r,s){var t=this,c=s.node,f=this._model.data,p=this.get_node(c.parent),g,m,y,k,N=this.settings.checkbox.cascade,E=this.settings.checkbox.tie_selection,D={},P=this._data[E?"core":"checkbox"].selected;for(g=0,m=P.length;g<m;g++)D[P[g]]=!0;if(N.indexOf("down")!==-1){var O=this._cascade_new_checked_state(c.id,!0),J=c.children_d.concat(c.id);for(g=0,m=J.length;g<m;g++)O.indexOf(J[g])>-1?D[J[g]]=!0:delete D[J[g]]}if(N.indexOf("up")!==-1)for(;p&&p.id!==l.jstree.root;){for(y=0,g=0,m=p.children.length;g<m;g++)y+=f[p.children[g]].state[E?"selected":"checked"];if(y===m)p.state[E?"selected":"checked"]=!0,D[p.id]=!0,k=this.get_node(p,!0),k&&k.length&&k.attr("aria-selected",!0).children(".jstree-anchor").addClass(E?"jstree-clicked":"jstree-checked");else break;p=this.get_node(p.parent)}P=[];for(g in D)D.hasOwnProperty(g)&&P.push(g);this._data[E?"core":"checkbox"].selected=P},this)).on(this.settings.checkbox.tie_selection?"deselect_all.jstree":"uncheck_all.jstree",l.proxy(function(r,s){var t=this.get_node(l.jstree.root),c=this._model.data,f,p,g;for(f=0,p=t.children_d.length;f<p;f++)g=c[t.children_d[f]],g&&g.original&&g.original.state&&g.original.state.undetermined&&(g.original.state.undetermined=!1)},this)).on(this.settings.checkbox.tie_selection?"deselect_node.jstree":"uncheck_node.jstree",l.proxy(function(r,s){var t=this,c=s.node,f=this.get_node(c,!0),p,g,m,y=this.settings.checkbox.cascade,k=this.settings.checkbox.tie_selection,N=this._data[k?"core":"checkbox"].selected,E={},D=[],P=c.children_d.concat(c.id);if(y.indexOf("down")!==-1){var O=this._cascade_new_checked_state(c.id,!1);N=l.vakata.array_filter(N,function(J){return P.indexOf(J)===-1||O.indexOf(J)>-1})}if(y.indexOf("up")!==-1&&N.indexOf(c.id)===-1){for(p=0,g=c.parents.length;p<g;p++)m=this._model.data[c.parents[p]],m.state[k?"selected":"checked"]=!1,m&&m.original&&m.original.state&&m.original.state.undetermined&&(m.original.state.undetermined=!1),m=this.get_node(c.parents[p],!0),m&&m.length&&m.attr("aria-selected",!1).children(".jstree-anchor").removeClass(k?"jstree-clicked":"jstree-checked");N=l.vakata.array_filter(N,function(J){return c.parents.indexOf(J)===-1})}this._data[k?"core":"checkbox"].selected=N},this)),this.settings.checkbox.cascade.indexOf("up")!==-1&&this.element.on("delete_node.jstree",l.proxy(function(r,s){for(var t=this.get_node(s.parent),c=this._model.data,f,p,g,m,y=this.settings.checkbox.tie_selection;t&&t.id!==l.jstree.root&&!t.state[y?"selected":"checked"];){for(g=0,f=0,p=t.children.length;f<p;f++)g+=c[t.children[f]].state[y?"selected":"checked"];if(p>0&&g===p)t.state[y?"selected":"checked"]=!0,this._data[y?"core":"checkbox"].selected.push(t.id),m=this.get_node(t,!0),m&&m.length&&m.attr("aria-selected",!0).children(".jstree-anchor").addClass(y?"jstree-clicked":"jstree-checked");else break;t=this.get_node(t.parent)}},this)).on("move_node.jstree",l.proxy(function(r,s){var t=s.is_multi,c=s.old_parent,f=this.get_node(s.parent),p=this._model.data,g,m,y,k,N,E=this.settings.checkbox.tie_selection;if(!t)for(g=this.get_node(c);g&&g.id!==l.jstree.root&&!g.state[E?"selected":"checked"];){for(m=0,y=0,k=g.children.length;y<k;y++)m+=p[g.children[y]].state[E?"selected":"checked"];if(k>0&&m===k)g.state[E?"selected":"checked"]=!0,this._data[E?"core":"checkbox"].selected.push(g.id),N=this.get_node(g,!0),N&&N.length&&N.attr("aria-selected",!0).children(".jstree-anchor").addClass(E?"jstree-clicked":"jstree-checked");else break;g=this.get_node(g.parent)}for(g=f;g&&g.id!==l.jstree.root;){for(m=0,y=0,k=g.children.length;y<k;y++)m+=p[g.children[y]].state[E?"selected":"checked"];if(m===k)g.state[E?"selected":"checked"]||(g.state[E?"selected":"checked"]=!0,this._data[E?"core":"checkbox"].selected.push(g.id),N=this.get_node(g,!0),N&&N.length&&N.attr("aria-selected",!0).children(".jstree-anchor").addClass(E?"jstree-clicked":"jstree-checked"));else if(g.state[E?"selected":"checked"])g.state[E?"selected":"checked"]=!1,this._data[E?"core":"checkbox"].selected=l.vakata.array_remove_item(this._data[E?"core":"checkbox"].selected,g.id),N=this.get_node(g,!0),N&&N.length&&N.attr("aria-selected",!1).children(".jstree-anchor").removeClass(E?"jstree-clicked":"jstree-checked");else break;g=this.get_node(g.parent)}},this))},this.get_undetermined=function(r){if(this.settings.checkbox.cascade.indexOf("undetermined")===-1)return[];var s,t,c,f,p={},g=this._model.data,m=this.settings.checkbox.tie_selection,y=this._data[m?"core":"checkbox"].selected,k=[],N=this,E=[];for(s=0,t=y.length;s<t;s++)if(g[y[s]]&&g[y[s]].parents)for(c=0,f=g[y[s]].parents.length;c<f&&p[g[y[s]].parents[c]]===b;c++)g[y[s]].parents[c]!==l.jstree.root&&(p[g[y[s]].parents[c]]=!0,k.push(g[y[s]].parents[c]));for(this.element.find(".jstree-closed").not(":has(.jstree-children)").each(function(){var D=N.get_node(this),P;if(!!D){if(D.state.loaded){for(s=0,t=D.children_d.length;s<t;s++)if(P=g[D.children_d[s]],!P.state.loaded&&P.original&&P.original.state&&P.original.state.undetermined&&P.original.state.undetermined===!0)for(p[P.id]===b&&P.id!==l.jstree.root&&(p[P.id]=!0,k.push(P.id)),c=0,f=P.parents.length;c<f;c++)p[P.parents[c]]===b&&P.parents[c]!==l.jstree.root&&(p[P.parents[c]]=!0,k.push(P.parents[c]))}else if(D.original&&D.original.state&&D.original.state.undetermined&&D.original.state.undetermined===!0)for(p[D.id]===b&&D.id!==l.jstree.root&&(p[D.id]=!0,k.push(D.id)),c=0,f=D.parents.length;c<f;c++)p[D.parents[c]]===b&&D.parents[c]!==l.jstree.root&&(p[D.parents[c]]=!0,k.push(D.parents[c]))}}),s=0,t=k.length;s<t;s++)g[k[s]].state[m?"selected":"checked"]||E.push(r?g[k[s]]:k[s]);return E},this._undetermined=function(){if(this.element!==null){var r=this.get_undetermined(!1),s,t,c;for(this.element.find(".jstree-undetermined").removeClass("jstree-undetermined"),s=0,t=r.length;s<t;s++)c=this.get_node(r[s],!0),c&&c.length&&c.children(".jstree-anchor").children(".jstree-checkbox").addClass("jstree-undetermined")}},this.redraw_node=function(r,s,t,c){if(r=o.redraw_node.apply(this,arguments),r){var f,p,g=null,m=null;for(f=0,p=r.childNodes.length;f<p;f++)if(r.childNodes[f]&&r.childNodes[f].className&&r.childNodes[f].className.indexOf("jstree-anchor")!==-1){g=r.childNodes[f];break}g&&(!this.settings.checkbox.tie_selection&&this._model.data[r.id].state.checked&&(g.className+=" jstree-checked"),m=pt.cloneNode(!1),this._model.data[r.id].state.checkbox_disabled&&(m.className+=" jstree-checkbox-disabled"),g.insertBefore(m,g.childNodes[0]))}return!t&&this.settings.checkbox.cascade.indexOf("undetermined")!==-1&&(this._data.checkbox.uto&&clearTimeout(this._data.checkbox.uto),this._data.checkbox.uto=setTimeout(l.proxy(this._undetermined,this),50)),r},this.show_checkboxes=function(){this._data.core.themes.checkboxes=!0,this.get_container_ul().removeClass("jstree-no-checkboxes")},this.hide_checkboxes=function(){this._data.core.themes.checkboxes=!1,this.get_container_ul().addClass("jstree-no-checkboxes")},this.toggle_checkboxes=function(){this._data.core.themes.checkboxes?this.hide_checkboxes():this.show_checkboxes()},this.is_undetermined=function(r){r=this.get_node(r);var s=this.settings.checkbox.cascade,t,c,f=this.settings.checkbox.tie_selection,p=this._data[f?"core":"checkbox"].selected,g=this._model.data;if(!r||r.state[f?"selected":"checked"]===!0||s.indexOf("undetermined")===-1||s.indexOf("down")===-1&&s.indexOf("up")===-1)return!1;if(!r.state.loaded&&r.original.state.undetermined===!0)return!0;for(t=0,c=r.children_d.length;t<c;t++)if(l.inArray(r.children_d[t],p)!==-1||!g[r.children_d[t]].state.loaded&&g[r.children_d[t]].original.state.undetermined)return!0;return!1},this.disable_checkbox=function(r){var s,t,c;if(l.isArray(r)){for(r=r.slice(),s=0,t=r.length;s<t;s++)this.disable_checkbox(r[s]);return!0}if(r=this.get_node(r),!r||r.id===l.jstree.root)return!1;c=this.get_node(r,!0),r.state.checkbox_disabled||(r.state.checkbox_disabled=!0,c&&c.length&&c.children(".jstree-anchor").children(".jstree-checkbox").addClass("jstree-checkbox-disabled"),this.trigger("disable_checkbox",{node:r}))},this.enable_checkbox=function(r){var s,t,c;if(l.isArray(r)){for(r=r.slice(),s=0,t=r.length;s<t;s++)this.enable_checkbox(r[s]);return!0}if(r=this.get_node(r),!r||r.id===l.jstree.root)return!1;c=this.get_node(r,!0),r.state.checkbox_disabled&&(r.state.checkbox_disabled=!1,c&&c.length&&c.children(".jstree-anchor").children(".jstree-checkbox").removeClass("jstree-checkbox-disabled"),this.trigger("enable_checkbox",{node:r}))},this.activate_node=function(r,s){if(l(s.target).hasClass("jstree-checkbox-disabled"))return!1;if(this.settings.checkbox.tie_selection&&(this.settings.checkbox.whole_node||l(s.target).hasClass("jstree-checkbox"))&&(s.ctrlKey=!0),this.settings.checkbox.tie_selection||!this.settings.checkbox.whole_node&&!l(s.target).hasClass("jstree-checkbox"))return o.activate_node.call(this,r,s);if(this.is_disabled(r))return!1;this.is_checked(r)?this.uncheck_node(r,s):this.check_node(r,s),this.trigger("activate_node",{node:this.get_node(r)})},this._cascade_new_checked_state=function(r,s){var t=this,c=this.settings.checkbox.tie_selection,f=this._model.data[r],p=[],g=[],m,y,k;if((this.settings.checkbox.cascade_to_disabled||!f.state.disabled)&&(this.settings.checkbox.cascade_to_hidden||!f.state.hidden)){if(f.children)for(m=0,y=f.children.length;m<y;m++){var N=f.children[m];k=t._cascade_new_checked_state(N,s),p=p.concat(k),k.indexOf(N)>-1&&g.push(N)}var E=t.get_node(f,!0),D=g.length>0&&g.length<f.children.length;f.original&&f.original.state&&f.original.state.undetermined&&(f.original.state.undetermined=D),D?(f.state[c?"selected":"checked"]=!1,E.attr("aria-selected",!1).children(".jstree-anchor").removeClass(c?"jstree-clicked":"jstree-checked")):s&&g.length===f.children.length?(f.state[c?"selected":"checked"]=s,p.push(f.id),E.attr("aria-selected",!0).children(".jstree-anchor").addClass(c?"jstree-clicked":"jstree-checked")):(f.state[c?"selected":"checked"]=!1,E.attr("aria-selected",!1).children(".jstree-anchor").removeClass(c?"jstree-clicked":"jstree-checked"))}else k=this.get_checked_descendants(r),f.state[c?"selected":"checked"]&&k.push(f.id),p=p.concat(k);return p},this.get_checked_descendants=function(r){var s=this,t=s.settings.checkbox.tie_selection,c=s._model.data[r];return l.vakata.array_filter(c.children_d,function(f){return s._model.data[f].state[t?"selected":"checked"]})},this.check_node=function(r,s){if(this.settings.checkbox.tie_selection)return this.select_node(r,!1,!0,s);var t,c,f,p;if(l.isArray(r)){for(r=r.slice(),c=0,f=r.length;c<f;c++)this.check_node(r[c],s);return!0}if(r=this.get_node(r),!r||r.id===l.jstree.root)return!1;t=this.get_node(r,!0),r.state.checked||(r.state.checked=!0,this._data.checkbox.selected.push(r.id),t&&t.length&&t.children(".jstree-anchor").addClass("jstree-checked"),this.trigger("check_node",{node:r,selected:this._data.checkbox.selected,event:s}))},this.uncheck_node=function(r,s){if(this.settings.checkbox.tie_selection)return this.deselect_node(r,!1,s);var t,c,f;if(l.isArray(r)){for(r=r.slice(),t=0,c=r.length;t<c;t++)this.uncheck_node(r[t],s);return!0}if(r=this.get_node(r),!r||r.id===l.jstree.root)return!1;f=this.get_node(r,!0),r.state.checked&&(r.state.checked=!1,this._data.checkbox.selected=l.vakata.array_remove_item(this._data.checkbox.selected,r.id),f.length&&f.children(".jstree-anchor").removeClass("jstree-checked"),this.trigger("uncheck_node",{node:r,selected:this._data.checkbox.selected,event:s}))},this.check_all=function(){if(this.settings.checkbox.tie_selection)return this.select_all();var r=this._data.checkbox.selected.concat([]),s,t;for(this._data.checkbox.selected=this._model.data[l.jstree.root].children_d.concat(),s=0,t=this._data.checkbox.selected.length;s<t;s++)this._model.data[this._data.checkbox.selected[s]]&&(this._model.data[this._data.checkbox.selected[s]].state.checked=!0);this.redraw(!0),this.trigger("check_all",{selected:this._data.checkbox.selected})},this.uncheck_all=function(){if(this.settings.checkbox.tie_selection)return this.deselect_all();var r=this._data.checkbox.selected.concat([]),s,t;for(s=0,t=this._data.checkbox.selected.length;s<t;s++)this._model.data[this._data.checkbox.selected[s]]&&(this._model.data[this._data.checkbox.selected[s]].state.checked=!1);this._data.checkbox.selected=[],this.element.find(".jstree-checked").removeClass("jstree-checked"),this.trigger("uncheck_all",{selected:this._data.checkbox.selected,node:r})},this.is_checked=function(r){return this.settings.checkbox.tie_selection?this.is_selected(r):(r=this.get_node(r),!r||r.id===l.jstree.root?!1:r.state.checked)},this.get_checked=function(r){return this.settings.checkbox.tie_selection?this.get_selected(r):r?l.map(this._data.checkbox.selected,l.proxy(function(s){return this.get_node(s)},this)):this._data.checkbox.selected.slice()},this.get_top_checked=function(r){if(this.settings.checkbox.tie_selection)return this.get_top_selected(r);var s=this.get_checked(!0),t={},c,f,p,g;for(c=0,f=s.length;c<f;c++)t[s[c].id]=s[c];for(c=0,f=s.length;c<f;c++)for(p=0,g=s[c].children_d.length;p<g;p++)t[s[c].children_d[p]]&&delete t[s[c].children_d[p]];s=[];for(c in t)t.hasOwnProperty(c)&&s.push(c);return r?l.map(s,l.proxy(function(m){return this.get_node(m)},this)):s},this.get_bottom_checked=function(r){if(this.settings.checkbox.tie_selection)return this.get_bottom_selected(r);var s=this.get_checked(!0),t=[],c,f;for(c=0,f=s.length;c<f;c++)s[c].children.length||t.push(s[c].id);return r?l.map(t,l.proxy(function(p){return this.get_node(p)},this)):t},this.load_node=function(r,s){var t,c,f,p,g,m;if(!l.isArray(r)&&!this.settings.checkbox.tie_selection&&(m=this.get_node(r),m&&m.state.loaded))for(t=0,c=m.children_d.length;t<c;t++)this._model.data[m.children_d[t]].state.checked&&(g=!0,this._data.checkbox.selected=l.vakata.array_remove_item(this._data.checkbox.selected,m.children_d[t]));return o.load_node.apply(this,arguments)},this.get_state=function(){var r=o.get_state.apply(this,arguments);return this.settings.checkbox.tie_selection||(r.checkbox=this._data.checkbox.selected.slice()),r},this.set_state=function(r,s){var t=o.set_state.apply(this,arguments);if(t&&r.checkbox){if(!this.settings.checkbox.tie_selection){this.uncheck_all();var c=this;l.each(r.checkbox,function(f,p){c.check_node(p)})}return delete r.checkbox,this.set_state(r,s),!1}return t},this.refresh=function(r,s){return this.settings.checkbox.tie_selection&&(this._data.checkbox.selected=[]),o.refresh.apply(this,arguments)}},l.jstree.defaults.conditionalselect=function(){return!0},l.jstree.plugins.conditionalselect=function(e,o){this.activate_node=function(r,s){if(this.settings.conditionalselect.call(this,this.get_node(r),s))return o.activate_node.call(this,r,s)}},l.jstree.defaults.contextmenu={select_node:!0,show_at_node:!0,items:function(e,o){return{create:{separator_before:!1,separator_after:!0,_disabled:!1,label:"Create",action:function(r){var s=l.jstree.reference(r.reference),t=s.get_node(r.reference);s.create_node(t,{},"last",function(c){try{s.edit(c)}catch(f){setTimeout(function(){s.edit(c)},0)}})}},rename:{separator_before:!1,separator_after:!1,_disabled:!1,label:"Rename",action:function(r){var s=l.jstree.reference(r.reference),t=s.get_node(r.reference);s.edit(t)}},remove:{separator_before:!1,icon:!1,separator_after:!1,_disabled:!1,label:"Delete",action:function(r){var s=l.jstree.reference(r.reference),t=s.get_node(r.reference);s.is_selected(t)?s.delete_node(s.get_selected()):s.delete_node(t)}},ccp:{separator_before:!0,icon:!1,separator_after:!1,label:"Edit",action:!1,submenu:{cut:{separator_before:!1,separator_after:!1,label:"Cut",action:function(r){var s=l.jstree.reference(r.reference),t=s.get_node(r.reference);s.is_selected(t)?s.cut(s.get_top_selected()):s.cut(t)}},copy:{separator_before:!1,icon:!1,separator_after:!1,label:"Copy",action:function(r){var s=l.jstree.reference(r.reference),t=s.get_node(r.reference);s.is_selected(t)?s.copy(s.get_top_selected()):s.copy(t)}},paste:{separator_before:!1,icon:!1,_disabled:function(r){return!l.jstree.reference(r.reference).can_paste()},separator_after:!1,label:"Paste",action:function(r){var s=l.jstree.reference(r.reference),t=s.get_node(r.reference);s.paste(t)}}}}}}},l.jstree.plugins.contextmenu=function(e,o){this.bind=function(){o.bind.call(this);var r=0,s=null,t,c;this.element.on("init.jstree loading.jstree ready.jstree",l.proxy(function(){this.get_container_ul().addClass("jstree-contextmenu")},this)).on("contextmenu.jstree",".jstree-anchor",l.proxy(function(f,p){f.target.tagName.toLowerCase()!=="input"&&(f.preventDefault(),r=f.ctrlKey?+new Date:0,(p||s)&&(r=+new Date+1e4),s&&clearTimeout(s),this.is_loading(f.currentTarget)||this.show_contextmenu(f.currentTarget,f.pageX,f.pageY,f))},this)).on("click.jstree",".jstree-anchor",l.proxy(function(f){this._data.contextmenu.visible&&(!r||+new Date-r>250)&&l.vakata.context.hide(),r=0},this)).on("touchstart.jstree",".jstree-anchor",function(f){!f.originalEvent||!f.originalEvent.changedTouches||!f.originalEvent.changedTouches[0]||(t=f.originalEvent.changedTouches[0].clientX,c=f.originalEvent.changedTouches[0].clientY,s=setTimeout(function(){l(f.currentTarget).trigger("contextmenu",!0)},750))}).on("touchmove.vakata.jstree",function(f){s&&f.originalEvent&&f.originalEvent.changedTouches&&f.originalEvent.changedTouches[0]&&(Math.abs(t-f.originalEvent.changedTouches[0].clientX)>10||Math.abs(c-f.originalEvent.changedTouches[0].clientY)>10)&&(clearTimeout(s),l.vakata.context.hide())}).on("touchend.vakata.jstree",function(f){s&&clearTimeout(s)});l(te).on("context_hide.vakata.jstree",l.proxy(function(f,p){this._data.contextmenu.visible=!1,l(p.reference).removeClass("jstree-context")},this))},this.teardown=function(){this._data.contextmenu.visible&&l.vakata.context.hide(),o.teardown.call(this)},this.show_contextmenu=function(r,s,t,c){if(r=this.get_node(r),!r||r.id===l.jstree.root)return!1;var f=this.settings.contextmenu,p=this.get_node(r,!0),g=p.children(".jstree-anchor"),m=!1,y=!1;(f.show_at_node||s===b||t===b)&&(m=g.offset(),s=m.left,t=m.top+this._data.core.li_height),this.settings.contextmenu.select_node&&!this.is_selected(r)&&this.activate_node(r,c),y=f.items,l.isFunction(y)&&(y=y.call(this,r,l.proxy(function(k){this._show_contextmenu(r,s,t,k)},this))),l.isPlainObject(y)&&this._show_contextmenu(r,s,t,y)},this._show_contextmenu=function(r,s,t,c){var f=this.get_node(r,!0),p=f.children(".jstree-anchor");l(te).one("context_show.vakata.jstree",l.proxy(function(g,m){var y="jstree-contextmenu jstree-"+this.get_theme()+"-contextmenu";l(m.element).addClass(y),p.addClass("jstree-context")},this)),this._data.contextmenu.visible=!0,l.vakata.context.show(p,{x:s,y:t},c),this.trigger("show_contextmenu",{node:r,x:s,y:t})}},function(e){var o=!1,r={element:!1,reference:!1,position_x:0,position_y:0,items:[],html:"",is_visible:!1};e.vakata.context={settings:{hide_onmouseleave:0,icons:!0},_trigger:function(s){e(te).triggerHandler("context_"+s+".vakata",{reference:r.reference,element:r.element,position:{x:r.position_x,y:r.position_y}})},_execute:function(s){return s=r.items[s],s&&(!s._disabled||e.isFunction(s._disabled)&&!s._disabled({item:s,reference:r.reference,element:r.element}))&&s.action?s.action.call(null,{item:s,reference:r.reference,element:r.element,position:{x:r.position_x,y:r.position_y}}):!1},_parse:function(s,t){if(!s)return!1;t||(r.html="",r.items=[]);var c="",f=!1,p;return t&&(c+="<ul>"),e.each(s,function(g,m){if(!m)return!0;r.items.push(m),!f&&m.separator_before&&(c+="<li class='vakata-context-separator'><a href='#' "+(e.vakata.context.settings.icons?"":'style="margin-left:0px;"')+">&#160;</a></li>"),f=!1,c+="<li class='"+(m._class||"")+(m._disabled===!0||e.isFunction(m._disabled)&&m._disabled({item:m,reference:r.reference,element:r.element})?" vakata-contextmenu-disabled ":"")+"' "+(m.shortcut?" data-shortcut='"+m.shortcut+"' ":"")+">",c+="<a href='#' rel='"+(r.items.length-1)+"' "+(m.title?"title='"+m.title+"'":"")+">",e.vakata.context.settings.icons&&(c+="<i ",m.icon&&(m.icon.indexOf("/")!==-1||m.icon.indexOf(".")!==-1?c+=` style='background:url("`+m.icon+`") center center no-repeat' `:c+=" class='"+m.icon+"' "),c+="></i><span class='vakata-contextmenu-sep'>&#160;</span>"),c+=(e.isFunction(m.label)?m.label({item:g,reference:r.reference,element:r.element}):m.label)+(m.shortcut?' <span class="vakata-contextmenu-shortcut vakata-contextmenu-shortcut-'+m.shortcut+'">'+(m.shortcut_label||"")+"</span>":"")+"</a>",m.submenu&&(p=e.vakata.context._parse(m.submenu,!0),p&&(c+=p)),c+="</li>",m.separator_after&&(c+="<li class='vakata-context-separator'><a href='#' "+(e.vakata.context.settings.icons?"":'style="margin-left:0px;"')+">&#160;</a></li>",f=!0)}),c=c.replace(/<li class\='vakata-context-separator'\><\/li\>$/,""),t&&(c+="</ul>"),t||(r.html=c,e.vakata.context._trigger("parse")),c.length>10?c:!1},_show_submenu:function(s){if(s=e(s),!(!s.length||!s.children("ul").length)){var t=s.children("ul"),c=s.offset().left,f=c+s.outerWidth(),p=s.offset().top,g=t.width(),m=t.height(),y=e(window).width()+e(window).scrollLeft(),k=e(window).height()+e(window).scrollTop();o?s[f-(g+10+s.outerWidth())<0?"addClass":"removeClass"]("vakata-context-left"):s[f+g>y&&c>y-f?"addClass":"removeClass"]("vakata-context-right"),p+m+10>k&&t.css("bottom","-1px"),s.hasClass("vakata-context-right")?c<g&&t.css("margin-right",c-g):y-f<g&&t.css("margin-left",y-f-g),t.show()}},show:function(s,t,c){var f,p,g,m,y,k,N,E,D=!0;switch(r.element&&r.element.length&&r.element.width(""),D){case(!t&&!s):return!1;case(!!t&&!!s):r.reference=s,r.position_x=t.x,r.position_y=t.y;break;case(!t&&!!s):r.reference=s,f=s.offset(),r.position_x=f.left+s.outerHeight(),r.position_y=f.top;break;case(!!t&&!s):r.position_x=t.x,r.position_y=t.y;break}!!s&&!c&&e(s).data("vakata_contextmenu")&&(c=e(s).data("vakata_contextmenu")),e.vakata.context._parse(c)&&r.element.html(r.html),r.items.length&&(r.element.appendTo(te.body),p=r.element,g=r.position_x,m=r.position_y,y=p.width(),k=p.height(),N=e(window).width()+e(window).scrollLeft(),E=e(window).height()+e(window).scrollTop(),o&&(g-=p.outerWidth()-e(s).outerWidth(),g<e(window).scrollLeft()+20&&(g=e(window).scrollLeft()+20)),g+y+20>N&&(g=N-(y+20)),m+k+20>E&&(m=E-(k+20)),r.element.css({left:g,top:m}).show().find("a").first().focus().parent().addClass("vakata-context-hover"),r.is_visible=!0,e.vakata.context._trigger("show"))},hide:function(){r.is_visible&&(r.element.hide().find("ul").hide().end().find(":focus").blur().end().detach(),r.is_visible=!1,e.vakata.context._trigger("hide"))}},e(function(){o=e(te.body).css("direction")==="rtl";var s=!1;r.element=e("<ul class='vakata-context'></ul>"),r.element.on("mouseenter","li",function(t){t.stopImmediatePropagation(),!e.contains(this,t.relatedTarget)&&(s&&clearTimeout(s),r.element.find(".vakata-context-hover").removeClass("vakata-context-hover").end(),e(this).siblings().find("ul").hide().end().end().parentsUntil(".vakata-context","li").addBack().addClass("vakata-context-hover"),e.vakata.context._show_submenu(this))}).on("mouseleave","li",function(t){e.contains(this,t.relatedTarget)||e(this).find(".vakata-context-hover").addBack().removeClass("vakata-context-hover")}).on("mouseleave",function(t){e(this).find(".vakata-context-hover").removeClass("vakata-context-hover"),e.vakata.context.settings.hide_onmouseleave&&(s=setTimeout(function(c){return function(){e.vakata.context.hide()}}(this),e.vakata.context.settings.hide_onmouseleave))}).on("click","a",function(t){t.preventDefault(),!e(this).blur().parent().hasClass("vakata-context-disabled")&&e.vakata.context._execute(e(this).attr("rel"))!==!1&&e.vakata.context.hide()}).on("keydown","a",function(t){var c=null;switch(t.which){case 13:case 32:t.type="click",t.preventDefault(),e(t.currentTarget).trigger(t);break;case 37:r.is_visible&&(r.element.find(".vakata-context-hover").last().closest("li").first().find("ul").hide().find(".vakata-context-hover").removeClass("vakata-context-hover").end().end().children("a").focus(),t.stopImmediatePropagation(),t.preventDefault());break;case 38:r.is_visible&&(c=r.element.find("ul:visible").addBack().last().children(".vakata-context-hover").removeClass("vakata-context-hover").prevAll("li:not(.vakata-context-separator)").first(),c.length||(c=r.element.find("ul:visible").addBack().last().children("li:not(.vakata-context-separator)").last()),c.addClass("vakata-context-hover").children("a").focus(),t.stopImmediatePropagation(),t.preventDefault());break;case 39:r.is_visible&&(r.element.find(".vakata-context-hover").last().children("ul").show().children("li:not(.vakata-context-separator)").removeClass("vakata-context-hover").first().addClass("vakata-context-hover").children("a").focus(),t.stopImmediatePropagation(),t.preventDefault());break;case 40:r.is_visible&&(c=r.element.find("ul:visible").addBack().last().children(".vakata-context-hover").removeClass("vakata-context-hover").nextAll("li:not(.vakata-context-separator)").first(),c.length||(c=r.element.find("ul:visible").addBack().last().children("li:not(.vakata-context-separator)").first()),c.addClass("vakata-context-hover").children("a").focus(),t.stopImmediatePropagation(),t.preventDefault());break;case 27:e.vakata.context.hide(),t.preventDefault();break;default:break}}).on("keydown",function(t){t.preventDefault();var c=r.element.find(".vakata-contextmenu-shortcut-"+t.which).parent();c.parent().not(".vakata-context-disabled")&&c.click()}),e(te).on("mousedown.vakata.jstree",function(t){r.is_visible&&r.element[0]!==t.target&&!e.contains(r.element[0],t.target)&&e.vakata.context.hide()}).on("context_show.vakata.jstree",function(t,c){r.element.find("li:has(ul)").children("a").addClass("vakata-context-parent"),o&&r.element.addClass("vakata-context-rtl").css("direction","rtl"),r.element.find("ul").hide().end()})})}(l),l.jstree.defaults.dnd={copy:!0,open_timeout:500,is_draggable:!0,check_while_dragging:!0,always_copy:!1,inside_pos:0,drag_selection:!0,touch:!0,large_drop_target:!1,large_drag_target:!1,use_html5:!1};var Qe,ae;l.jstree.plugins.dnd=function(e,o){this.init=function(r,s){o.init.call(this,r,s),this.settings.dnd.use_html5=this.settings.dnd.use_html5&&"draggable"in te.createElement("span")},this.bind=function(){o.bind.call(this),this.element.on(this.settings.dnd.use_html5?"dragstart.jstree":"mousedown.jstree touchstart.jstree",this.settings.dnd.large_drag_target?".jstree-node":".jstree-anchor",l.proxy(function(r){if(this.settings.dnd.large_drag_target&&l(r.target).closest(".jstree-node")[0]!==r.currentTarget||r.type==="touchstart"&&(!this.settings.dnd.touch||this.settings.dnd.touch==="selected"&&!l(r.currentTarget).closest(".jstree-node").children(".jstree-anchor").hasClass("jstree-clicked")))return!0;var s=this.get_node(r.target),t=this.is_selected(s)&&this.settings.dnd.drag_selection?this.get_top_selected().length:1,c=t>1?t+" "+this.get_string("nodes"):this.get_text(r.currentTarget);if(this.settings.core.force_text&&(c=l.vakata.html.escape(c)),s&&s.id&&s.id!==l.jstree.root&&(r.which===1||r.type==="touchstart"||r.type==="dragstart")&&(this.settings.dnd.is_draggable===!0||l.isFunction(this.settings.dnd.is_draggable)&&this.settings.dnd.is_draggable.call(this,t>1?this.get_top_selected(!0):[s],r)))if(Qe={jstree:!0,origin:this,obj:this.get_node(s,!0),nodes:t>1?this.get_top_selected():[s.id]},ae=r.currentTarget,this.settings.dnd.use_html5)l.vakata.dnd._trigger("start",r,{helper:l(),element:ae,data:Qe});else return this.element.trigger("mousedown.jstree"),l.vakata.dnd.start(r,Qe,'<div id="jstree-dnd" class="jstree-'+this.get_theme()+" jstree-"+this.get_theme()+"-"+this.get_theme_variant()+" "+(this.settings.core.themes.responsive?" jstree-dnd-responsive":"")+'"><i class="jstree-icon jstree-er"></i>'+c+'<ins class="jstree-copy" style="display:none;">+</ins></div>')},this)),this.settings.dnd.use_html5&&this.element.on("dragover.jstree",function(r){return r.preventDefault(),l.vakata.dnd._trigger("move",r,{helper:l(),element:ae,data:Qe}),!1}).on("drop.jstree",l.proxy(function(r){return r.preventDefault(),l.vakata.dnd._trigger("stop",r,{helper:l(),element:ae,data:Qe}),!1},this))},this.redraw_node=function(r,s,t,c){if(r=o.redraw_node.apply(this,arguments),r&&this.settings.dnd.use_html5)if(this.settings.dnd.large_drag_target)r.setAttribute("draggable",!0);else{var f,p,g=null;for(f=0,p=r.childNodes.length;f<p;f++)if(r.childNodes[f]&&r.childNodes[f].className&&r.childNodes[f].className.indexOf("jstree-anchor")!==-1){g=r.childNodes[f];break}g&&g.setAttribute("draggable",!0)}return r}},l(function(){var e=!1,o=!1,r=!1,s=!1,t=l('<div id="jstree-marker">&#160;</div>').hide();l(te).on("dragover.vakata.jstree",function(c){ae&&l.vakata.dnd._trigger("move",c,{helper:l(),element:ae,data:Qe})}).on("drop.vakata.jstree",function(c){ae&&(l.vakata.dnd._trigger("stop",c,{helper:l(),element:ae,data:Qe}),ae=null,Qe=null)}).on("dnd_start.vakata.jstree",function(c,f){e=!1,r=!1,!(!f||!f.data||!f.data.jstree)&&t.appendTo(te.body)}).on("dnd_move.vakata.jstree",function(c,f){var p=f.event.target!==r.target;if(s&&(!f.event||f.event.type!=="dragover"||p)&&clearTimeout(s),!(!f||!f.data||!f.data.jstree)&&!(f.event.target.id&&f.event.target.id==="jstree-marker")){r=f.event;var g=l.jstree.reference(f.event.target),m=!1,y=!1,k=!1,N,E,D,P,O,J,le,K,re,Ae,me,ee,pe,je,De,Se,R,qe;if(g&&g._data&&g._data.dnd){if(t.attr("class","jstree-"+g.get_theme()+(g.settings.core.themes.responsive?" jstree-dnd-responsive":"")),Se=f.data.origin&&(f.data.origin.settings.dnd.always_copy||f.data.origin.settings.dnd.copy&&(f.event.metaKey||f.event.ctrlKey)),f.helper.children().attr("class","jstree-"+g.get_theme()+" jstree-"+g.get_theme()+"-"+g.get_theme_variant()+" "+(g.settings.core.themes.responsive?" jstree-dnd-responsive":"")).find(".jstree-copy").first()[Se?"show":"hide"](),(f.event.target===g.element[0]||f.event.target===g.get_container_ul()[0])&&g.get_container_ul().children().length===0){for(K=!0,re=0,Ae=f.data.nodes.length;re<Ae&&(K=K&&g.check(f.data.origin&&(f.data.origin.settings.dnd.always_copy||f.data.origin.settings.dnd.copy&&(f.event.metaKey||f.event.ctrlKey))?"copy_node":"move_node",f.data.origin&&f.data.origin!==g?f.data.origin.get_node(f.data.nodes[re]):f.data.nodes[re],l.jstree.root,"last",{dnd:!0,ref:g.get_node(l.jstree.root),pos:"i",origin:f.data.origin,is_multi:f.data.origin&&f.data.origin!==g,is_foreign:!f.data.origin}),!!K);re++);if(K){e={ins:g,par:l.jstree.root,pos:"last"},t.hide(),f.helper.find(".jstree-icon").first().removeClass("jstree-er").addClass("jstree-ok"),f.event.originalEvent&&f.event.originalEvent.dataTransfer&&(f.event.originalEvent.dataTransfer.dropEffect=Se?"copy":"move");return}}else if(m=g.settings.dnd.large_drop_target?l(f.event.target).closest(".jstree-node").children(".jstree-anchor"):l(f.event.target).closest(".jstree-anchor"),m&&m.length&&m.parent().is(".jstree-closed, .jstree-open, .jstree-leaf")&&(y=m.offset(),k=(f.event.pageY!==b?f.event.pageY:f.event.originalEvent.pageY)-y.top,P=m.outerHeight(),k<P/3?le=["b","i","a"]:k>P-P/3?le=["a","i","b"]:le=k>P/2?["i","a","b"]:["i","b","a"],l.each(le,function(Le,ve){switch(ve){case"b":E=y.left-6,D=y.top,O=g.get_parent(m),J=m.parent().index(),qe="jstree-below";break;case"i":je=g.settings.dnd.inside_pos,De=g.get_node(m.parent()),E=y.left-2,D=y.top+P/2+1,O=De.id,J=je==="first"?0:je==="last"?De.children.length:Math.min(je,De.children.length),qe="jstree-inside";break;case"a":E=y.left-6,D=y.top+P,O=g.get_parent(m),J=m.parent().index()+1,qe="jstree-above";break}for(K=!0,re=0,Ae=f.data.nodes.length;re<Ae;re++)if(me=f.data.origin&&(f.data.origin.settings.dnd.always_copy||f.data.origin.settings.dnd.copy&&(f.event.metaKey||f.event.ctrlKey))?"copy_node":"move_node",ee=J,me==="move_node"&&ve==="a"&&f.data.origin&&f.data.origin===g&&O===g.get_parent(f.data.nodes[re])&&(pe=g.get_node(O),ee>l.inArray(f.data.nodes[re],pe.children)&&(ee-=1)),K=K&&(g&&g.settings&&g.settings.dnd&&g.settings.dnd.check_while_dragging===!1||g.check(me,f.data.origin&&f.data.origin!==g?f.data.origin.get_node(f.data.nodes[re]):f.data.nodes[re],O,ee,{dnd:!0,ref:g.get_node(m.parent()),pos:ve,origin:f.data.origin,is_multi:f.data.origin&&f.data.origin!==g,is_foreign:!f.data.origin})),!K){g&&g.last_error&&(o=g.last_error());break}if(ve==="i"&&m.parent().is(".jstree-closed")&&g.settings.dnd.open_timeout&&(!f.event||f.event.type!=="dragover"||p)&&(s&&clearTimeout(s),s=setTimeout(function(X,Re){return function(){X.open_node(Re)}}(g,m),g.settings.dnd.open_timeout)),K)return R=g.get_node(O,!0),R.hasClass(".jstree-dnd-parent")||(l(".jstree-dnd-parent").removeClass("jstree-dnd-parent"),R.addClass("jstree-dnd-parent")),e={ins:g,par:O,pos:ve==="i"&&je==="last"&&J===0&&!g.is_loaded(De)?"last":J},t.css({left:E+"px",top:D+"px"}).show(),t.removeClass("jstree-above jstree-inside jstree-below").addClass(qe),f.helper.find(".jstree-icon").first().removeClass("jstree-er").addClass("jstree-ok"),f.event.originalEvent&&f.event.originalEvent.dataTransfer&&(f.event.originalEvent.dataTransfer.dropEffect=Se?"copy":"move"),o={},le=!0,!1}),le===!0))return}l(".jstree-dnd-parent").removeClass("jstree-dnd-parent"),e=!1,f.helper.find(".jstree-icon").removeClass("jstree-ok").addClass("jstree-er"),f.event.originalEvent&&f.event.originalEvent.dataTransfer,t.hide()}}).on("dnd_scroll.vakata.jstree",function(c,f){!f||!f.data||!f.data.jstree||(t.hide(),e=!1,r=!1,f.helper.find(".jstree-icon").first().removeClass("jstree-ok").addClass("jstree-er"))}).on("dnd_stop.vakata.jstree",function(c,f){if(l(".jstree-dnd-parent").removeClass("jstree-dnd-parent"),s&&clearTimeout(s),!(!f||!f.data||!f.data.jstree)){t.hide().detach();var p,g,m=[];if(e){for(p=0,g=f.data.nodes.length;p<g;p++)m[p]=f.data.origin?f.data.origin.get_node(f.data.nodes[p]):f.data.nodes[p];e.ins[f.data.origin&&(f.data.origin.settings.dnd.always_copy||f.data.origin.settings.dnd.copy&&(f.event.metaKey||f.event.ctrlKey))?"copy_node":"move_node"](m,e.par,e.pos,!1,!1,!1,f.data.origin)}else p=l(f.event.target).closest(".jstree"),p.length&&o&&o.error&&o.error==="check"&&(p=p.jstree(!0),p&&p.settings.core.error.call(this,o));r=!1,e=!1}}).on("keyup.jstree keydown.jstree",function(c,f){f=l.vakata.dnd._get(),f&&f.data&&f.data.jstree&&(c.type==="keyup"&&c.which===27?(s&&clearTimeout(s),e=!1,o=!1,r=!1,s=!1,t.hide().detach(),l.vakata.dnd._clean()):(f.helper.find(".jstree-copy").first()[f.data.origin&&(f.data.origin.settings.dnd.always_copy||f.data.origin.settings.dnd.copy&&(c.metaKey||c.ctrlKey))?"show":"hide"](),r&&(r.metaKey=c.metaKey,r.ctrlKey=c.ctrlKey,l.vakata.dnd._trigger("move",r))))})}),function(e){e.vakata.html={div:e("<div></div>"),escape:function(r){return e.vakata.html.div.text(r).html()},strip:function(r){return e.vakata.html.div.empty().append(e.parseHTML(r)).text()}};var o={element:!1,target:!1,is_down:!1,is_drag:!1,helper:!1,helper_w:0,data:!1,init_x:0,init_y:0,scroll_l:0,scroll_t:0,scroll_e:!1,scroll_i:!1,is_touch:!1};e.vakata.dnd={settings:{scroll_speed:10,scroll_proximity:20,helper_left:5,helper_top:10,threshold:5,threshold_touch:10},_trigger:function(r,s,t){t===b&&(t=e.vakata.dnd._get()),t.event=s,e(te).triggerHandler("dnd_"+r+".vakata",t)},_get:function(){return{data:o.data,element:o.element,helper:o.helper}},_clean:function(){o.helper&&o.helper.remove(),o.scroll_i&&(clearInterval(o.scroll_i),o.scroll_i=!1),o={element:!1,target:!1,is_down:!1,is_drag:!1,helper:!1,helper_w:0,data:!1,init_x:0,init_y:0,scroll_l:0,scroll_t:0,scroll_e:!1,scroll_i:!1,is_touch:!1},ae=null,e(te).off("mousemove.vakata.jstree touchmove.vakata.jstree",e.vakata.dnd.drag),e(te).off("mouseup.vakata.jstree touchend.vakata.jstree",e.vakata.dnd.stop)},_scroll:function(r){if(!o.scroll_e||!o.scroll_l&&!o.scroll_t)return o.scroll_i&&(clearInterval(o.scroll_i),o.scroll_i=!1),!1;if(!o.scroll_i)return o.scroll_i=setInterval(e.vakata.dnd._scroll,100),!1;if(r===!0)return!1;var s=o.scroll_e.scrollTop(),t=o.scroll_e.scrollLeft();o.scroll_e.scrollTop(s+o.scroll_t*e.vakata.dnd.settings.scroll_speed),o.scroll_e.scrollLeft(t+o.scroll_l*e.vakata.dnd.settings.scroll_speed),(s!==o.scroll_e.scrollTop()||t!==o.scroll_e.scrollLeft())&&e.vakata.dnd._trigger("scroll",o.scroll_e)},start:function(r,s,t){r.type==="touchstart"&&r.originalEvent&&r.originalEvent.changedTouches&&r.originalEvent.changedTouches[0]&&(r.pageX=r.originalEvent.changedTouches[0].pageX,r.pageY=r.originalEvent.changedTouches[0].pageY,r.target=te.elementFromPoint(r.originalEvent.changedTouches[0].pageX-window.pageXOffset,r.originalEvent.changedTouches[0].pageY-window.pageYOffset)),o.is_drag&&e.vakata.dnd.stop({});try{r.currentTarget.unselectable="on",r.currentTarget.onselectstart=function(){return!1},r.currentTarget.style&&(r.currentTarget.style.touchAction="none",r.currentTarget.style.msTouchAction="none",r.currentTarget.style.MozUserSelect="none")}catch(c){}return o.init_x=r.pageX,o.init_y=r.pageY,o.data=s,o.is_down=!0,o.element=r.currentTarget,o.target=r.target,o.is_touch=r.type==="touchstart",t!==!1&&(o.helper=e("<div id='vakata-dnd'></div>").html(t).css({display:"block",margin:"0",padding:"0",position:"absolute",top:"-2000px",lineHeight:"16px",zIndex:"10000"})),e(te).on("mousemove.vakata.jstree touchmove.vakata.jstree",e.vakata.dnd.drag),e(te).on("mouseup.vakata.jstree touchend.vakata.jstree",e.vakata.dnd.stop),!1},drag:function(r){if(r.type==="touchmove"&&r.originalEvent&&r.originalEvent.changedTouches&&r.originalEvent.changedTouches[0]&&(r.pageX=r.originalEvent.changedTouches[0].pageX,r.pageY=r.originalEvent.changedTouches[0].pageY,r.target=te.elementFromPoint(r.originalEvent.changedTouches[0].pageX-window.pageXOffset,r.originalEvent.changedTouches[0].pageY-window.pageYOffset)),!!o.is_down){if(!o.is_drag)if(Math.abs(r.pageX-o.init_x)>(o.is_touch?e.vakata.dnd.settings.threshold_touch:e.vakata.dnd.settings.threshold)||Math.abs(r.pageY-o.init_y)>(o.is_touch?e.vakata.dnd.settings.threshold_touch:e.vakata.dnd.settings.threshold))o.helper&&(o.helper.appendTo(te.body),o.helper_w=o.helper.outerWidth()),o.is_drag=!0,e(o.target).one("click.vakata",!1),e.vakata.dnd._trigger("start",r);else return;var s=!1,t=!1,c=!1,f=!1,p=!1,g=!1,m=!1,y=!1,k=!1,N=!1;return o.scroll_t=0,o.scroll_l=0,o.scroll_e=!1,e(e(r.target).parentsUntil("body").addBack().get().reverse()).filter(function(){return/^auto|scroll$/.test(e(this).css("overflow"))&&(this.scrollHeight>this.offsetHeight||this.scrollWidth>this.offsetWidth)}).each(function(){var E=e(this),D=E.offset();if(this.scrollHeight>this.offsetHeight&&(D.top+E.height()-r.pageY<e.vakata.dnd.settings.scroll_proximity&&(o.scroll_t=1),r.pageY-D.top<e.vakata.dnd.settings.scroll_proximity&&(o.scroll_t=-1)),this.scrollWidth>this.offsetWidth&&(D.left+E.width()-r.pageX<e.vakata.dnd.settings.scroll_proximity&&(o.scroll_l=1),r.pageX-D.left<e.vakata.dnd.settings.scroll_proximity&&(o.scroll_l=-1)),o.scroll_t||o.scroll_l)return o.scroll_e=e(this),!1}),o.scroll_e||(s=e(te),t=e(window),c=s.height(),f=t.height(),p=s.width(),g=t.width(),m=s.scrollTop(),y=s.scrollLeft(),c>f&&r.pageY-m<e.vakata.dnd.settings.scroll_proximity&&(o.scroll_t=-1),c>f&&f-(r.pageY-m)<e.vakata.dnd.settings.scroll_proximity&&(o.scroll_t=1),p>g&&r.pageX-y<e.vakata.dnd.settings.scroll_proximity&&(o.scroll_l=-1),p>g&&g-(r.pageX-y)<e.vakata.dnd.settings.scroll_proximity&&(o.scroll_l=1),(o.scroll_t||o.scroll_l)&&(o.scroll_e=s)),o.scroll_e&&e.vakata.dnd._scroll(!0),o.helper&&(k=parseInt(r.pageY+e.vakata.dnd.settings.helper_top,10),N=parseInt(r.pageX+e.vakata.dnd.settings.helper_left,10),c&&k+25>c&&(k=c-50),p&&N+o.helper_w>p&&(N=p-(o.helper_w+2)),o.helper.css({left:N+"px",top:k+"px"})),e.vakata.dnd._trigger("move",r),!1}},stop:function(r){if(r.type==="touchend"&&r.originalEvent&&r.originalEvent.changedTouches&&r.originalEvent.changedTouches[0]&&(r.pageX=r.originalEvent.changedTouches[0].pageX,r.pageY=r.originalEvent.changedTouches[0].pageY,r.target=te.elementFromPoint(r.originalEvent.changedTouches[0].pageX-window.pageXOffset,r.originalEvent.changedTouches[0].pageY-window.pageYOffset)),o.is_drag)r.target!==o.target&&e(o.target).off("click.vakata"),e.vakata.dnd._trigger("stop",r);else if(r.type==="touchend"&&r.target===o.target){var s=setTimeout(function(){e(r.target).click()},100);e(r.target).one("click",function(){s&&clearTimeout(s)})}return e.vakata.dnd._clean(),!1}}}(l),l.jstree.defaults.massload=null,l.jstree.plugins.massload=function(e,o){this.init=function(r,s){this._data.massload={},o.init.call(this,r,s)},this._load_nodes=function(r,s,t,c){var f=this.settings.massload,p=[],g=this._model.data,m,y,k;if(!t){for(m=0,y=r.length;m<y;m++)(!g[r[m]]||!g[r[m]].state.loaded&&!g[r[m]].state.failed||c)&&(p.push(r[m]),k=this.get_node(r[m],!0),k&&k.length&&k.addClass("jstree-loading").attr("aria-busy",!0));if(this._data.massload={},p.length){if(l.isFunction(f))return f.call(this,p,l.proxy(function(N){var E,D;if(N)for(E in N)N.hasOwnProperty(E)&&(this._data.massload[E]=N[E]);for(E=0,D=r.length;E<D;E++)k=this.get_node(r[E],!0),k&&k.length&&k.removeClass("jstree-loading").attr("aria-busy",!1);o._load_nodes.call(this,r,s,t,c)},this));if(typeof f=="object"&&f&&f.url)return f=l.extend(!0,{},f),l.isFunction(f.url)&&(f.url=f.url.call(this,p)),l.isFunction(f.data)&&(f.data=f.data.call(this,p)),l.ajax(f).done(l.proxy(function(N,E,D){var P,O;if(N)for(P in N)N.hasOwnProperty(P)&&(this._data.massload[P]=N[P]);for(P=0,O=r.length;P<O;P++)k=this.get_node(r[P],!0),k&&k.length&&k.removeClass("jstree-loading").attr("aria-busy",!1);o._load_nodes.call(this,r,s,t,c)},this)).fail(l.proxy(function(N){o._load_nodes.call(this,r,s,t,c)},this))}}return o._load_nodes.call(this,r,s,t,c)},this._load_node=function(r,s){var t=this._data.massload[r.id],c=null,f;return t?(c=this[typeof t=="string"?"_append_html_data":"_append_json_data"](r,typeof t=="string"?l(l.parseHTML(t)).filter(function(){return this.nodeType!==3}):t,function(p){s.call(this,p)}),f=this.get_node(r.id,!0),f&&f.length&&f.removeClass("jstree-loading").attr("aria-busy",!1),delete this._data.massload[r.id],c):o._load_node.call(this,r,s)}},l.jstree.defaults.search={ajax:!1,fuzzy:!1,case_sensitive:!1,show_only_matches:!1,show_only_matches_children:!1,close_opened_onclear:!0,search_leaves_only:!1,search_callback:!1},l.jstree.plugins.search=function(e,o){this.bind=function(){o.bind.call(this),this._data.search.str="",this._data.search.dom=l(),this._data.search.res=[],this._data.search.opn=[],this._data.search.som=!1,this._data.search.smc=!1,this._data.search.hdn=[],this.element.on("search.jstree",l.proxy(function(r,s){if(this._data.search.som&&s.res.length){var t=this._model.data,c,f,p=[],g,m;for(c=0,f=s.res.length;c<f;c++)if(t[s.res[c]]&&!t[s.res[c]].state.hidden&&(p.push(s.res[c]),p=p.concat(t[s.res[c]].parents),this._data.search.smc))for(g=0,m=t[s.res[c]].children_d.length;g<m;g++)t[t[s.res[c]].children_d[g]]&&!t[t[s.res[c]].children_d[g]].state.hidden&&p.push(t[s.res[c]].children_d[g]);p=l.vakata.array_remove_item(l.vakata.array_unique(p),l.jstree.root),this._data.search.hdn=this.hide_all(!0),this.show_node(p,!0),this.redraw(!0)}},this)).on("clear_search.jstree",l.proxy(function(r,s){this._data.search.som&&s.res.length&&(this.show_node(this._data.search.hdn,!0),this.redraw(!0))},this))},this.search=function(r,s,t,c,f,p){if(r===!1||l.vakata.trim(r.toString())==="")return this.clear_search();c=this.get_node(c),c=c&&c.id?c.id:null,r=r.toString();var g=this.settings.search,m=g.ajax?g.ajax:!1,y=this._model.data,k=null,N=[],E=[],D,P;if(this._data.search.res.length&&!f&&this.clear_search(),t===b&&(t=g.show_only_matches),p===b&&(p=g.show_only_matches_children),!s&&m!==!1)return l.isFunction(m)?m.call(this,r,l.proxy(function(O){O&&O.d&&(O=O.d),this._load_nodes(l.isArray(O)?l.vakata.array_unique(O):[],function(){this.search(r,!0,t,c,f,p)})},this),c):(m=l.extend({},m),m.data||(m.data={}),m.data.str=r,c&&(m.data.inside=c),this._data.search.lastRequest&&this._data.search.lastRequest.abort(),this._data.search.lastRequest=l.ajax(m).fail(l.proxy(function(){this._data.core.last_error={error:"ajax",plugin:"search",id:"search_01",reason:"Could not load search parents",data:JSON.stringify(m)},this.settings.core.error.call(this,this._data.core.last_error)},this)).done(l.proxy(function(O){O&&O.d&&(O=O.d),this._load_nodes(l.isArray(O)?l.vakata.array_unique(O):[],function(){this.search(r,!0,t,c,f,p)})},this)),this._data.search.lastRequest);if(f||(this._data.search.str=r,this._data.search.dom=l(),this._data.search.res=[],this._data.search.opn=[],this._data.search.som=t,this._data.search.smc=p),k=new l.vakata.search(r,!0,{caseSensitive:g.case_sensitive,fuzzy:g.fuzzy}),l.each(y[c||l.jstree.root].children_d,function(O,J){var le=y[J];le.text&&!le.state.hidden&&(!g.search_leaves_only||le.state.loaded&&le.children.length===0)&&(g.search_callback&&g.search_callback.call(this,r,le)||!g.search_callback&&k.search(le.text).isMatch)&&(N.push(J),E=E.concat(le.parents))}),N.length){for(E=l.vakata.array_unique(E),D=0,P=E.length;D<P;D++)E[D]!==l.jstree.root&&y[E[D]]&&this.open_node(E[D],null,0)===!0&&this._data.search.opn.push(E[D]);f?(this._data.search.dom=this._data.search.dom.add(l(this.element[0].querySelectorAll("#"+l.map(N,function(O){return"0123456789".indexOf(O[0])!==-1?"\\3"+O[0]+" "+O.substr(1).replace(l.jstree.idregex,"\\$&"):O.replace(l.jstree.idregex,"\\$&")}).join(", #")))),this._data.search.res=l.vakata.array_unique(this._data.search.res.concat(N))):(this._data.search.dom=l(this.element[0].querySelectorAll("#"+l.map(N,function(O){return"0123456789".indexOf(O[0])!==-1?"\\3"+O[0]+" "+O.substr(1).replace(l.jstree.idregex,"\\$&"):O.replace(l.jstree.idregex,"\\$&")}).join(", #"))),this._data.search.res=N),this._data.search.dom.children(".jstree-anchor").addClass("jstree-search")}this.trigger("search",{nodes:this._data.search.dom,str:r,res:this._data.search.res,show_only_matches:t})},this.clear_search=function(){this.settings.search.close_opened_onclear&&this.close_node(this._data.search.opn,0),this.trigger("clear_search",{nodes:this._data.search.dom,str:this._data.search.str,res:this._data.search.res}),this._data.search.res.length&&(this._data.search.dom=l(this.element[0].querySelectorAll("#"+l.map(this._data.search.res,function(r){return"0123456789".indexOf(r[0])!==-1?"\\3"+r[0]+" "+r.substr(1).replace(l.jstree.idregex,"\\$&"):r.replace(l.jstree.idregex,"\\$&")}).join(", #"))),this._data.search.dom.children(".jstree-anchor").removeClass("jstree-search")),this._data.search.str="",this._data.search.res=[],this._data.search.opn=[],this._data.search.dom=l()},this.redraw_node=function(r,s,t,c){if(r=o.redraw_node.apply(this,arguments),r&&l.inArray(r.id,this._data.search.res)!==-1){var f,p,g=null;for(f=0,p=r.childNodes.length;f<p;f++)if(r.childNodes[f]&&r.childNodes[f].className&&r.childNodes[f].className.indexOf("jstree-anchor")!==-1){g=r.childNodes[f];break}g&&(g.className+=" jstree-search")}return r}},function(e){e.vakata.search=function(o,r,s){s=s||{},s=e.extend({},e.vakata.search.defaults,s),s.fuzzy!==!1&&(s.fuzzy=!0),o=s.caseSensitive?o:o.toLowerCase();var t=s.location,c=s.distance,f=s.threshold,p=o.length,g,m,y,k;return p>32&&(s.fuzzy=!1),s.fuzzy&&(g=1<<p-1,m=function(){var N={},E=0;for(E=0;E<p;E++)N[o.charAt(E)]=0;for(E=0;E<p;E++)N[o.charAt(E)]|=1<<p-E-1;return N}(),y=function(N,E){var D=N/p,P=Math.abs(t-E);return c?D+P/c:P?1:D}),k=function(N){if(N=s.caseSensitive?N:N.toLowerCase(),o===N||N.indexOf(o)!==-1)return{isMatch:!0,score:0};if(!s.fuzzy)return{isMatch:!1,score:1};var E,D,P=N.length,O=f,J=N.indexOf(o,t),le,K,re=p+P,Ae,me,ee,pe,je,De=1,Se=[];for(J!==-1&&(O=Math.min(y(0,J),O),J=N.lastIndexOf(o,t+p),J!==-1&&(O=Math.min(y(0,J),O))),J=-1,E=0;E<p;E++){for(le=0,K=re;le<K;)y(E,t+K)<=O?le=K:re=K,K=Math.floor((re-le)/2+le);for(re=K,me=Math.max(1,t-K+1),ee=Math.min(t+K,P)+p,pe=new Array(ee+2),pe[ee+1]=(1<<E)-1,D=ee;D>=me;D--)if(je=m[N.charAt(D-1)],E===0?pe[D]=(pe[D+1]<<1|1)&je:pe[D]=(pe[D+1]<<1|1)&je|((Ae[D+1]|Ae[D])<<1|1)|Ae[D+1],pe[D]&g&&(De=y(E,D-1),De<=O))if(O=De,J=D-1,Se.push(J),J>t)me=Math.max(1,2*t-J);else break;if(y(E+1,t)>O)break;Ae=pe}return{isMatch:J>=0,score:De}},r===!0?{search:k}:k(r)},e.vakata.search.defaults={location:0,distance:100,threshold:.6,fuzzy:!1,caseSensitive:!1}}(l),l.jstree.defaults.sort=function(e,o){return this.get_text(e)>this.get_text(o)?1:-1},l.jstree.plugins.sort=function(e,o){this.bind=function(){o.bind.call(this),this.element.on("model.jstree",l.proxy(function(r,s){this.sort(s.parent,!0)},this)).on("rename_node.jstree create_node.jstree",l.proxy(function(r,s){this.sort(s.parent||s.node.parent,!1),this.redraw_node(s.parent||s.node.parent,!0)},this)).on("move_node.jstree copy_node.jstree",l.proxy(function(r,s){this.sort(s.parent,!1),this.redraw_node(s.parent,!0)},this))},this.sort=function(r,s){var t,c;if(r=this.get_node(r),r&&r.children&&r.children.length&&(r.children.sort(l.proxy(this.settings.sort,this)),s))for(t=0,c=r.children_d.length;t<c;t++)this.sort(r.children_d[t],!1)}};var ie=!1;l.jstree.defaults.state={key:"jstree",events:"changed.jstree open_node.jstree close_node.jstree check_node.jstree uncheck_node.jstree",ttl:!1,filter:!1,preserve_loaded:!1},l.jstree.plugins.state=function(e,o){this.bind=function(){o.bind.call(this);var r=l.proxy(function(){this.element.on(this.settings.state.events,l.proxy(function(){ie&&clearTimeout(ie),ie=setTimeout(l.proxy(function(){this.save_state()},this),100)},this)),this.trigger("state_ready")},this);this.element.on("ready.jstree",l.proxy(function(s,t){this.element.one("restore_state.jstree",r),this.restore_state()||r()},this))},this.save_state=function(){var r=this.get_state();this.settings.state.preserve_loaded||delete r.core.loaded;var s={state:r,ttl:this.settings.state.ttl,sec:+new Date};l.vakata.storage.set(this.settings.state.key,JSON.stringify(s))},this.restore_state=function(){var r=l.vakata.storage.get(this.settings.state.key);if(r)try{r=JSON.parse(r)}catch(s){return!1}return!!r&&r.ttl&&r.sec&&+new Date-r.sec>r.ttl?!1:(!!r&&r.state&&(r=r.state),!!r&&l.isFunction(this.settings.state.filter)&&(r=this.settings.state.filter.call(this,r)),r?(this.settings.state.preserve_loaded||delete r.core.loaded,this.element.one("set_state.jstree",function(s,t){t.instance.trigger("restore_state",{state:l.extend(!0,{},r)})}),this.set_state(r),!0):!1)},this.clear_state=function(){return l.vakata.storage.del(this.settings.state.key)}},function(e,o){e.vakata.storage={set:function(r,s){return window.localStorage.setItem(r,s)},get:function(r){return window.localStorage.getItem(r)},del:function(r){return window.localStorage.removeItem(r)}}}(l),l.jstree.defaults.types={default:{}},l.jstree.defaults.types[l.jstree.root]={},l.jstree.plugins.types=function(e,o){this.init=function(r,s){var t,c;if(s&&s.types&&s.types.default){for(t in s.types)if(t!=="default"&&t!==l.jstree.root&&s.types.hasOwnProperty(t))for(c in s.types.default)s.types.default.hasOwnProperty(c)&&s.types[t][c]===b&&(s.types[t][c]=s.types.default[c])}o.init.call(this,r,s),this._model.data[l.jstree.root].type=l.jstree.root},this.refresh=function(r,s){o.refresh.call(this,r,s),this._model.data[l.jstree.root].type=l.jstree.root},this.bind=function(){this.element.on("model.jstree",l.proxy(function(r,s){var t=this._model.data,c=s.nodes,f=this.settings.types,p,g,m="default",y;for(p=0,g=c.length;p<g;p++){if(m="default",t[c[p]].original&&t[c[p]].original.type&&f[t[c[p]].original.type]&&(m=t[c[p]].original.type),t[c[p]].data&&t[c[p]].data.jstree&&t[c[p]].data.jstree.type&&f[t[c[p]].data.jstree.type]&&(m=t[c[p]].data.jstree.type),t[c[p]].type=m,t[c[p]].icon===!0&&f[m].icon!==b&&(t[c[p]].icon=f[m].icon),f[m].li_attr!==b&&typeof f[m].li_attr=="object"){for(y in f[m].li_attr)if(f[m].li_attr.hasOwnProperty(y)){if(y==="id")continue;t[c[p]].li_attr[y]===b?t[c[p]].li_attr[y]=f[m].li_attr[y]:y==="class"&&(t[c[p]].li_attr.class=f[m].li_attr.class+" "+t[c[p]].li_attr.class)}}if(f[m].a_attr!==b&&typeof f[m].a_attr=="object"){for(y in f[m].a_attr)if(f[m].a_attr.hasOwnProperty(y)){if(y==="id")continue;t[c[p]].a_attr[y]===b?t[c[p]].a_attr[y]=f[m].a_attr[y]:y==="href"&&t[c[p]].a_attr[y]==="#"?t[c[p]].a_attr.href=f[m].a_attr.href:y==="class"&&(t[c[p]].a_attr.class=f[m].a_attr.class+" "+t[c[p]].a_attr.class)}}}t[l.jstree.root].type=l.jstree.root},this)),o.bind.call(this)},this.get_json=function(r,s,t){var c,f,p=this._model.data,g=s?l.extend(!0,{},s,{no_id:!1}):{},m=o.get_json.call(this,r,g,t);if(m===!1)return!1;if(l.isArray(m))for(c=0,f=m.length;c<f;c++)m[c].type=m[c].id&&p[m[c].id]&&p[m[c].id].type?p[m[c].id].type:"default",s&&s.no_id&&(delete m[c].id,m[c].li_attr&&m[c].li_attr.id&&delete m[c].li_attr.id,m[c].a_attr&&m[c].a_attr.id&&delete m[c].a_attr.id);else m.type=m.id&&p[m.id]&&p[m.id].type?p[m.id].type:"default",s&&s.no_id&&(m=this._delete_ids(m));return m},this._delete_ids=function(r){if(l.isArray(r)){for(var s=0,t=r.length;s<t;s++)r[s]=this._delete_ids(r[s]);return r}return delete r.id,r.li_attr&&r.li_attr.id&&delete r.li_attr.id,r.a_attr&&r.a_attr.id&&delete r.a_attr.id,r.children&&l.isArray(r.children)&&(r.children=this._delete_ids(r.children)),r},this.check=function(r,s,t,c,f){if(o.check.call(this,r,s,t,c,f)===!1)return!1;s=s&&s.id?s:this.get_node(s),t=t&&t.id?t:this.get_node(t);var p=s&&s.id?f&&f.origin?f.origin:l.jstree.reference(s.id):null,g,m,y,k;switch(p=p&&p._model&&p._model.data?p._model.data:null,r){case"create_node":case"move_node":case"copy_node":if(r!=="move_node"||l.inArray(s.id,t.children)===-1){if(g=this.get_rules(t),g.max_children!==b&&g.max_children!==-1&&g.max_children===t.children.length)return this._data.core.last_error={error:"check",plugin:"types",id:"types_01",reason:"max_children prevents function: "+r,data:JSON.stringify({chk:r,pos:c,obj:s&&s.id?s.id:!1,par:t&&t.id?t.id:!1})},!1;if(g.valid_children!==b&&g.valid_children!==-1&&l.inArray(s.type||"default",g.valid_children)===-1)return this._data.core.last_error={error:"check",plugin:"types",id:"types_02",reason:"valid_children prevents function: "+r,data:JSON.stringify({chk:r,pos:c,obj:s&&s.id?s.id:!1,par:t&&t.id?t.id:!1})},!1;if(p&&s.children_d&&s.parents){for(m=0,y=0,k=s.children_d.length;y<k;y++)m=Math.max(m,p[s.children_d[y]].parents.length);m=m-s.parents.length+1}(m<=0||m===b)&&(m=1);do{if(g.max_depth!==b&&g.max_depth!==-1&&g.max_depth<m)return this._data.core.last_error={error:"check",plugin:"types",id:"types_03",reason:"max_depth prevents function: "+r,data:JSON.stringify({chk:r,pos:c,obj:s&&s.id?s.id:!1,par:t&&t.id?t.id:!1})},!1;t=this.get_node(t.parent),g=this.get_rules(t),m++}while(t)}break}return!0},this.get_rules=function(r){if(r=this.get_node(r),!r)return!1;var s=this.get_type(r,!0);return s.max_depth===b&&(s.max_depth=-1),s.max_children===b&&(s.max_children=-1),s.valid_children===b&&(s.valid_children=-1),s},this.get_type=function(r,s){return r=this.get_node(r),r?s?l.extend({type:r.type},this.settings.types[r.type]):r.type:!1},this.set_type=function(r,s){var t=this._model.data,c,f,p,g,m,y,k,N;if(l.isArray(r)){for(r=r.slice(),f=0,p=r.length;f<p;f++)this.set_type(r[f],s);return!0}if(c=this.settings.types,r=this.get_node(r),!c[s]||!r)return!1;if(k=this.get_node(r,!0),k&&k.length&&(N=k.children(".jstree-anchor")),g=r.type,m=this.get_icon(r),r.type=s,(m===!0||!c[g]||c[g].icon!==b&&m===c[g].icon)&&this.set_icon(r,c[s].icon!==b?c[s].icon:!0),c[g]&&c[g].li_attr!==b&&typeof c[g].li_attr=="object"){for(y in c[g].li_attr)if(c[g].li_attr.hasOwnProperty(y)){if(y==="id")continue;y==="class"?(t[r.id].li_attr.class=(t[r.id].li_attr.class||"").replace(c[g].li_attr[y],""),k&&k.removeClass(c[g].li_attr[y])):t[r.id].li_attr[y]===c[g].li_attr[y]&&(t[r.id].li_attr[y]=null,k&&k.removeAttr(y))}}if(c[g]&&c[g].a_attr!==b&&typeof c[g].a_attr=="object"){for(y in c[g].a_attr)if(c[g].a_attr.hasOwnProperty(y)){if(y==="id")continue;y==="class"?(t[r.id].a_attr.class=(t[r.id].a_attr.class||"").replace(c[g].a_attr[y],""),N&&N.removeClass(c[g].a_attr[y])):t[r.id].a_attr[y]===c[g].a_attr[y]&&(y==="href"?(t[r.id].a_attr[y]="#",N&&N.attr("href","#")):(delete t[r.id].a_attr[y],N&&N.removeAttr(y)))}}if(c[s].li_attr!==b&&typeof c[s].li_attr=="object"){for(y in c[s].li_attr)if(c[s].li_attr.hasOwnProperty(y)){if(y==="id")continue;t[r.id].li_attr[y]===b?(t[r.id].li_attr[y]=c[s].li_attr[y],k&&(y==="class"?k.addClass(c[s].li_attr[y]):k.attr(y,c[s].li_attr[y]))):y==="class"&&(t[r.id].li_attr.class=c[s].li_attr[y]+" "+t[r.id].li_attr.class,k&&k.addClass(c[s].li_attr[y]))}}if(c[s].a_attr!==b&&typeof c[s].a_attr=="object"){for(y in c[s].a_attr)if(c[s].a_attr.hasOwnProperty(y)){if(y==="id")continue;t[r.id].a_attr[y]===b?(t[r.id].a_attr[y]=c[s].a_attr[y],N&&(y==="class"?N.addClass(c[s].a_attr[y]):N.attr(y,c[s].a_attr[y]))):y==="href"&&t[r.id].a_attr[y]==="#"?(t[r.id].a_attr.href=c[s].a_attr.href,N&&N.attr("href",c[s].a_attr.href)):y==="class"&&(t[r.id].a_attr.class=c[s].a_attr.class+" "+t[r.id].a_attr.class,N&&N.addClass(c[s].a_attr[y]))}}return!0}},l.jstree.defaults.unique={case_sensitive:!1,trim_whitespace:!1,duplicate:function(e,o){return e+" ("+o+")"}},l.jstree.plugins.unique=function(e,o){this.check=function(r,s,t,c,f){if(o.check.call(this,r,s,t,c,f)===!1)return!1;if(s=s&&s.id?s:this.get_node(s),t=t&&t.id?t:this.get_node(t),!t||!t.children)return!0;var p=r==="rename_node"?c:s.text,g=[],m=this.settings.unique.case_sensitive,y=this.settings.unique.trim_whitespace,k=this._model.data,N,E,D;for(N=0,E=t.children.length;N<E;N++)D=k[t.children[N]].text,m||(D=D.toLowerCase()),y&&(D=D.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")),g.push(D);switch(m||(p=p.toLowerCase()),y&&(p=p.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")),r){case"delete_node":return!0;case"rename_node":return D=s.text||"",m||(D=D.toLowerCase()),y&&(D=D.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")),N=l.inArray(p,g)===-1||s.text&&D===p,N||(this._data.core.last_error={error:"check",plugin:"unique",id:"unique_01",reason:"Child with name "+p+" already exists. Preventing: "+r,data:JSON.stringify({chk:r,pos:c,obj:s&&s.id?s.id:!1,par:t&&t.id?t.id:!1})}),N;case"create_node":return N=l.inArray(p,g)===-1,N||(this._data.core.last_error={error:"check",plugin:"unique",id:"unique_04",reason:"Child with name "+p+" already exists. Preventing: "+r,data:JSON.stringify({chk:r,pos:c,obj:s&&s.id?s.id:!1,par:t&&t.id?t.id:!1})}),N;case"copy_node":return N=l.inArray(p,g)===-1,N||(this._data.core.last_error={error:"check",plugin:"unique",id:"unique_02",reason:"Child with name "+p+" already exists. Preventing: "+r,data:JSON.stringify({chk:r,pos:c,obj:s&&s.id?s.id:!1,par:t&&t.id?t.id:!1})}),N;case"move_node":return N=s.parent===t.id&&(!f||!f.is_multi)||l.inArray(p,g)===-1,N||(this._data.core.last_error={error:"check",plugin:"unique",id:"unique_03",reason:"Child with name "+p+" already exists. Preventing: "+r,data:JSON.stringify({chk:r,pos:c,obj:s&&s.id?s.id:!1,par:t&&t.id?t.id:!1})}),N}return!0},this.create_node=function(r,s,t,c,f){if(!s||s.text===b){if(r===null&&(r=l.jstree.root),r=this.get_node(r),!r)return o.create_node.call(this,r,s,t,c,f);if(t=t===b?"last":t,!t.toString().match(/^(before|after)$/)&&!f&&!this.is_loaded(r))return o.create_node.call(this,r,s,t,c,f);s||(s={});var p,g,m,y,k,N=this._model.data,E=this.settings.unique.case_sensitive,D=this.settings.unique.trim_whitespace,P=this.settings.unique.duplicate,O;for(g=p=this.get_string("New node"),m=[],y=0,k=r.children.length;y<k;y++)O=N[r.children[y]].text,E||(O=O.toLowerCase()),D&&(O=O.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")),m.push(O);for(y=1,O=g,E||(O=O.toLowerCase()),D&&(O=O.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""));l.inArray(O,m)!==-1;)g=P.call(this,p,++y).toString(),O=g,E||(O=O.toLowerCase()),D&&(O=O.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""));s.text=g}return o.create_node.call(this,r,s,t,c,f)}};var Ke=te.createElement("DIV");if(Ke.setAttribute("unselectable","on"),Ke.setAttribute("role","presentation"),Ke.className="jstree-wholerow",Ke.innerHTML="&#160;",l.jstree.plugins.wholerow=function(e,o){this.bind=function(){o.bind.call(this),this.element.on("ready.jstree set_state.jstree",l.proxy(function(){this.hide_dots()},this)).on("init.jstree loading.jstree ready.jstree",l.proxy(function(){this.get_container_ul().addClass("jstree-wholerow-ul")},this)).on("deselect_all.jstree",l.proxy(function(r,s){this.element.find(".jstree-wholerow-clicked").removeClass("jstree-wholerow-clicked")},this)).on("changed.jstree",l.proxy(function(r,s){this.element.find(".jstree-wholerow-clicked").removeClass("jstree-wholerow-clicked");var t=!1,c,f;for(c=0,f=s.selected.length;c<f;c++)t=this.get_node(s.selected[c],!0),t&&t.length&&t.children(".jstree-wholerow").addClass("jstree-wholerow-clicked")},this)).on("open_node.jstree",l.proxy(function(r,s){this.get_node(s.node,!0).find(".jstree-clicked").parent().children(".jstree-wholerow").addClass("jstree-wholerow-clicked")},this)).on("hover_node.jstree dehover_node.jstree",l.proxy(function(r,s){r.type==="hover_node"&&this.is_disabled(s.node)||this.get_node(s.node,!0).children(".jstree-wholerow")[r.type==="hover_node"?"addClass":"removeClass"]("jstree-wholerow-hovered")},this)).on("contextmenu.jstree",".jstree-wholerow",l.proxy(function(r){if(this._data.contextmenu){r.preventDefault();var s=l.Event("contextmenu",{metaKey:r.metaKey,ctrlKey:r.ctrlKey,altKey:r.altKey,shiftKey:r.shiftKey,pageX:r.pageX,pageY:r.pageY});l(r.currentTarget).closest(".jstree-node").children(".jstree-anchor").first().trigger(s)}},this)).on("click.jstree",".jstree-wholerow",function(r){r.stopImmediatePropagation();var s=l.Event("click",{metaKey:r.metaKey,ctrlKey:r.ctrlKey,altKey:r.altKey,shiftKey:r.shiftKey});l(r.currentTarget).closest(".jstree-node").children(".jstree-anchor").first().trigger(s).focus()}).on("dblclick.jstree",".jstree-wholerow",function(r){r.stopImmediatePropagation();var s=l.Event("dblclick",{metaKey:r.metaKey,ctrlKey:r.ctrlKey,altKey:r.altKey,shiftKey:r.shiftKey});l(r.currentTarget).closest(".jstree-node").children(".jstree-anchor").first().trigger(s).focus()}).on("click.jstree",".jstree-leaf > .jstree-ocl",l.proxy(function(r){r.stopImmediatePropagation();var s=l.Event("click",{metaKey:r.metaKey,ctrlKey:r.ctrlKey,altKey:r.altKey,shiftKey:r.shiftKey});l(r.currentTarget).closest(".jstree-node").children(".jstree-anchor").first().trigger(s).focus()},this)).on("mouseover.jstree",".jstree-wholerow, .jstree-icon",l.proxy(function(r){return r.stopImmediatePropagation(),this.is_disabled(r.currentTarget)||this.hover_node(r.currentTarget),!1},this)).on("mouseleave.jstree",".jstree-node",l.proxy(function(r){this.dehover_node(r.currentTarget)},this))},this.teardown=function(){this.settings.wholerow&&this.element.find(".jstree-wholerow").remove(),o.teardown.call(this)},this.redraw_node=function(r,s,t,c){if(r=o.redraw_node.apply(this,arguments),r){var f=Ke.cloneNode(!0);l.inArray(r.id,this._data.core.selected)!==-1&&(f.className+=" jstree-wholerow-clicked"),this._data.core.focused&&this._data.core.focused===r.id&&(f.className+=" jstree-wholerow-hovered"),r.insertBefore(f,r.childNodes[0])}return r}},window.customElements&&Object&&Object.create){var oe=Object.create(HTMLElement.prototype);oe.createdCallback=function(){var e={core:{},plugins:[]},o;for(o in l.jstree.plugins)l.jstree.plugins.hasOwnProperty(o)&&this.attributes[o]&&(e.plugins.push(o),this.getAttribute(o)&&JSON.parse(this.getAttribute(o))&&(e[o]=JSON.parse(this.getAttribute(o))));for(o in l.jstree.defaults.core)l.jstree.defaults.core.hasOwnProperty(o)&&this.attributes[o]&&(e.core[o]=JSON.parse(this.getAttribute(o))||this.getAttribute(o));l(this).jstree(e)};try{window.customElements.define("vakata-jstree",function(){},{prototype:oe})}catch(e){}}}})});var ar=pi(Ut()),we=pi(Ut()),yn=pi(sr());window.$=window.jQuery=ar.default;String.prototype.capitalize=function(){return this.charAt(0).toUpperCase()+this.slice(1)};var pn=`
<svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8 inline-block" fill="none" viewBox="0 0 24 24" stroke="currentColor">
  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1" d="M6 18L18 6M6 6l12 12" />
</svg>`,_n=function(l){return`
  <div id="preview-dialog-bg">
    <div id="preview-dialog">
      <button type="button">${pn}</button>
      <iframe
        title="Preview of detected object"
        width="640"
        height="360"
        src="/projects/objects/${l}/preview"
      />
    </div>
  </div>
  `};(0,we.default)(function(){(0,we.default)("#jstree").jstree({sort:1,core:{data:{url:"/projects/json",dataType:"json"},themes:{name:"default"}},plugins:["checkbox","sort","types","wholerow"],sort:function(l,b){return this.get_type(l)===this.get_type(b)?this.get_text(l)>this.get_text(b)?1:-1:this.get_type(l)>=this.get_type(b)?1:-1}}),(0,we.default)("#jstree").on("ready.jstree",function(l,b){return b.instance.open_node("#j1_1_anchor",!1,!0)}),(0,we.default)("#jstree").on("select_node.jstree deselect_node.jstree",function(l){var b=[],ke=(0,we.default)("#jstree").jstree("get_selected",!0);we.default.each(ke,function(){var Ce=(0,we.default)("#jstree").jstree();Ce.is_leaf(this)&&b.push(Ce.get_path(this,"/"))}),b.length>0?(0,we.default)("#tree_data").val(JSON.stringify(b)):(0,we.default)("#tree_data").removeAttr("value")}),btn=(0,we.default)("#btn-toggle-job"),btn.hasClass("btn-pending")&&btn.one("click",function(){return we.default.ajax({type:"PUT",url:window.location.href+"/toggle",dataType:"json"}).done(function(l){btn.removeClass("btn-"+l.old_status),btn.text(l.new_status.capitalize()),btn.addClass("btn-"+l.new_status)}).fail(function(l,b,ke){return console.log("error",l.status),console.log("STATUS: "+ke),!1}),!1}),previewButtons=(0,we.default)(".btn-object-preview"),previewButtons.each(function(){(0,we.default)(this).bind("click",function(){regex=/\d$/g;var l=(0,we.default)(this).attr("id").match(regex);console.log(l),(0,we.default)("body").prepend(_n(l)),(0,we.default)(document).on("click","#preview-dialog-bg",function(){(0,we.default)(this).remove()}),(0,we.default)(document).on("click","#preview-dialog-bg",function(){(0,we.default)(this).remove()})}),(0,we.default)(this).removeAttr("href"),(0,we.default)(this).removeAttr("target")})});})();
/*!
 * if using jslint please allow for the jQuery global and use following options:
 * jslint: loopfunc: true, browser: true, ass: true, bitwise: true, continue: true, nomen: true, plusplus: true, regexp: true, unparam: true, todo: true, white: true
 */
/*!
 * jQuery JavaScript Library v3.6.0
 * https://jquery.com/
 *
 * Includes Sizzle.js
 * https://sizzlejs.com/
 *
 * Copyright OpenJS Foundation and other contributors
 * Released under the MIT license
 * https://jquery.org/license
 *
 * Date: 2021-03-02T17:08Z
 */
/*!
 * jsTree 3.3.11
 * http://jstree.com/
 *
 * Copyright (c) 2014 Ivan Bozhanov (http://vakata.com)
 *
 * Licensed same as jquery - under the terms of the MIT License
 *   http://www.opensource.org/licenses/mit-license.php
 */
/*!
if(!('oncontextmenu' in document.body) && ('ontouchstart' in document.body)) {
	var el = null, tm = null;
	this.element
		.on("touchstart", ".jstree-anchor", function (e) {
			el = e.currentTarget;
			tm = +new Date();
			$(document).one("touchend", function (e) {
				e.target = document.elementFromPoint(e.originalEvent.targetTouches[0].pageX - window.pageXOffset, e.originalEvent.targetTouches[0].pageY - window.pageYOffset);
				e.currentTarget = e.target;
				tm = ((+(new Date())) - tm);
				if(e.target === el && tm > 600 && tm < 1000) {
					e.preventDefault();
					$(el).trigger('contextmenu', e);
				}
				el = null;
				tm = null;
			});
		});
}
*/
/*!
oi = obj.children("i:visible"),
ai = a.children("i:visible"),
w1 = oi.width() * oi.length,
w2 = ai.width() * ai.length,
*/
